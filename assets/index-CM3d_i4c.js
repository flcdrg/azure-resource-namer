(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function ld(){Symbol.metadata??=Symbol.for("Symbol.metadata")}const At={get(n,e){return e[Symbol.metadata]?.[n]},define(n,e,...t){let s=Object.getOwnPropertyDescriptor(e,Symbol.metadata)?.value;s==null&&Object.defineProperty(e,Symbol.metadata,{value:s=Object.create(null),enumerable:!0,configurable:!0,writable:!0});const i=t.length;switch(i){case 0:throw new Error("At least one key must be provided");case 1:s[t[0]]=n;return;case 2:s[t[0]]=s[t[1]]=n;return;default:{for(let r=0;r<i;++r)s[t[r]]=n;return}}},has(n,e){const t=e[Symbol.metadata];return t==null?!1:n in t},delete(n,e){const t=e[Symbol.metadata];t!=null&&Reflect.deleteProperty(t,n)}},ai=Object.freeze,ac=Object.assign,cd=String,wt=At.get,Xn=At.define,pe=n=>typeof n?.then=="function",ue=Array.isArray,Os=n=>n?.[Symbol.toStringTag]==="Set",Nt=n=>n?.[Symbol.toStringTag]==="Map",zo=n=>typeof n=="object"&&n!==null;function Li(n){return typeof n=="object"&&n!==null||typeof n=="function"}const K=n=>typeof n=="function",U=n=>typeof n=="string",ud=n=>typeof n=="symbol",hd=n=>typeof n=="number",Y=()=>Object.create(null),jt=Object.is,be=(n,...e)=>{const t=cd(n).padStart(4,"0"),s=fd(n,...e),i=`https://docs.aurelia.io/developer-guides/error-messages/0001-to-0023/aur${t}`;return new Error(`AUR${t}: ${s}\\n\\nFor more information, see: ${i}`)},dd={1:"No registration for interface: '{{0}}'",2:`'{{0}}' was registered with "none" resolver, are you injecting the right key?`,3:"Cyclic dependency found: {{0}}",4:"Resolver for {{0}} returned a null factory",5:"Invalid resolver strategy specified: {{0}}. Did you assign an invalid strategy value?",6:"Unable to autoregister dependency: {{0}}",7:'Resource key "{{0}}" already registered',8:"Unable to resolve key: {{0}}",9:"Attempted to jitRegister something that is not a constructor: '{{0}}'. Did you forget to register this resource?",10:'Attempted to jitRegister an intrinsic type: "{{0}}". Did you forget to add @inject(Key)',11:"Invalid resolver, null/undefined returned from the static register method.",12:"Attempted to jitRegister an interface: {{0}}",13:"Cannot call resolve '{{0}}' before calling prepare or after calling dispose.",14:"Key cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI? A common cause is circular dependency with bundler, did you accidentally introduce circular dependency into your module graph?",15:"'{{0}}' is a native function and cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.",16:'There is not a currently active container to resolve "{{0}}". Are you trying to "new Class(...)" that has a resolve(...) call?',17:"Failed to instantiate '{{0}}' via @newInstanceOf/@newInstanceForScope, there's no registration and no default implementation, or the default implementation does not result in factory for constructing the instances.",18:"Invalid channel name or instance: '{{0}}'.",19:"Invalid channel name or type: {{0}}.",20:"No defined value found when calling firstDefined()",21:"Invalid module transform input: {{0}}. Expected Promise or Object.",22:"The @inject decorator on the target ('{{0}}') type '{{1}}' is not supported.",23:"Resource key '{{0}}' has already been registered.",24:"The resolved factory for key '{{0}}' is not constructable."},fd=(n,...e)=>{let t=dd[n];for(let s=0;s<e.length;++s)t=t.replace(`{{${s}}}`,String(e[s]));return t},an=(...n)=>globalThis.console.error(...n),Yn=(()=>{const n={};let e=!1,t=0,s=0,i=0;return r=>{switch(typeof r){case"number":return r>=0&&(r|0)===r;case"string":if(e=n[r],e!==void 0)return e;if(t=r.length,t===0)return n[r]=!1;for(s=0,i=0;i<t;++i)if(s=r.charCodeAt(i),i===0&&s===48&&t>1||s<48||s>57)return n[r]=!1;return n[r]=!0;default:return!1}}})(),lc=(function(){const n=ac(Y(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=t=>t===""?0:t!==t.toUpperCase()?3:t!==t.toLowerCase()?2:n[t]===!0?1:0;return(t,s)=>{const i=t.length;if(i===0)return t;let r=!1,o="",a,c="",l=0,u=t.charAt(0),h=e(u),d=0;for(;d<i;++d)a=l,c=u,l=h,u=t.charAt(d+1),h=e(u),l===0?o.length>0&&(r=!0):(!r&&o.length>0&&l===2&&(r=a===3||h===3),o+=s(c,r),r=!1);return o}})(),Ie=(function(){const n=Y(),e=(t,s)=>s?t.toUpperCase():t.toLowerCase();return t=>{let s=n[t];return s===void 0&&(s=n[t]=lc(t,e)),s}})(),cc=(function(){const n=Y();return e=>{let t=n[e];return t===void 0&&(t=Ie(e),t.length>0&&(t=t[0].toUpperCase()+t.slice(1)),n[e]=t),t}})(),pd=(function(){const n=Y(),e=(t,s)=>s?`-${t.toLowerCase()}`:t.toLowerCase();return t=>{let s=n[t];return s===void 0&&(s=n[t]=lc(t,e)),s}})(),xr=n=>{const e=n.length,t=Array(e);let s=0;for(;s<e;++s)t[s]=n[s];return t},Vs=(n,e)=>{const t=e.name;e.addInitializer(function(){Reflect.defineProperty(this,t,{value:n.bind(this),writable:!0,configurable:!0,enumerable:!1})})},ve=(...n)=>{const e=[];let t=0;const s=n.length;let i=0,r,o=0;for(;o<s;++o)if(r=n[o],r!==void 0){i=r.length;let a=0;for(;a<i;++a)e[t++]=r[a]}return e},Zt=(...n)=>{const e=n.length;let t,s=0;for(;e>s;++s)if(t=n[s],t!==void 0)return t;throw be(20)},gd=(function(){const n=Function.prototype,e=Object.getPrototypeOf,t=new WeakMap;let s=n,i=0,r;return function(o){if(r=t.get(o),r===void 0)for(t.set(o,r=[s=o]),i=0;(s=e(s))!==n;)r[++i]=s;return r}})();function to(...n){return ac(Y(),...n)}const Va=(()=>{const n=new WeakMap;let e=!1,t="",s=0;return i=>(e=n.get(i),e==null&&(s=(t=i.toString()).length,e=s>28&&t.indexOf("[native code] }")===s-15,n.set(i,e)),e)})(),F=(n,e)=>pe(n)?n.then(e):e(n),ye=(...n)=>{let e,t,s,i=0,r=n.length;for(;i<r;++i)e=n[i],pe(e=n[i])&&(t===void 0?t=e:s===void 0?s=[t,e]:s.push(e));return s===void 0?t:Promise.all(s)},md=(n,e)=>new dt(n,0,e),ei=(n,e)=>new dt(n,1,e),uc=(n,e)=>new dt(n,2,e),vd=(n,e)=>new dt(n,3,e),bd=(n,e)=>new dt(n,3,hc(e)),Ri=(n,e)=>new dt(e,5,n),_d=(n,...e)=>new Od(n,e),ja=new WeakMap,hc=n=>(e,t,s)=>{let i=ja.get(e);if(i===void 0&&ja.set(e,i=new WeakMap),i.has(s))return i.get(s);const r=n(e,t,s);return i.set(s,r),r},Is={instance:md,singleton:ei,transient:uc,callback:vd,cachedCallback:bd,aliasTo:Ri,defer:_d},li=function(n){return function(t){t.register(ei(this,this),Ri(this,n))}},xs="au:annotation",Yt=(n,e)=>e===void 0?`${xs}:${n}`:`${xs}:${n}:${e}`,yd=(n,e)=>{const t=wt(xs,n);t===void 0?Xn([e],n,xs):t.push(e)},wd=ai({name:"au:annotation",appendTo:yd,set(n,e,t){Xn(t,n,Yt(e))},get:(n,e)=>wt(Yt(e),n),getKeys(n){let e=wt(xs,n);return e===void 0&&Xn(e=[],n,xs),e},isKey:n=>n.startsWith(xs),keyFor:Yt}),bt="au:resource",Ms=(n,e,t)=>`${bt}:${n}`,dc={annotation:wd},fc=Object.prototype.hasOwnProperty;function Ve(n,e,t,s){let i=wt(Yt(n),t);return i===void 0?(i=e[n],i===void 0?(i=t[n],i===void 0||!fc.call(t,n)?s():i):i):i}function at(n,e,t){let s=wt(Yt(n),e);return s===void 0?(s=e[n],s===void 0||!fc.call(e,n)?t():s):s}function gt(n,e,t){const s=e[n];return s===void 0?t():s}const St=Symbol.for("au:registrable"),Cd={singleton:n=>new dt(n,1,n)};class yt{constructor(e,t){this.inheritParentResources=e,this.defaultResolver=t}static from(e){return e===void 0||e===yt.DEFAULT?yt.DEFAULT:new yt(e.inheritParentResources??!1,e.defaultResolver??Cd.singleton)}}yt.DEFAULT=yt.from({});const kd=n=>new On(null,yt.from(n)),Ad=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let Sd=0,ae=null;class On{get depth(){return this._parent===null?0:this._parent.depth+1}get parent(){return this._parent}constructor(e,t){if(this.id=++Sd,this._registerDepth=0,this._disposableResolvers=new Map,this._parent=e,this.config=t,this._resolvers=new Map,this.res={},e===null)this.root=this,this._factories=new Map;else if(this.root=e.root,this._factories=e._factories,t.inheritParentResources)for(const s in e.res)this.registerResolver(s,e.res[s]);this._resolvers.set(ci,$d)}register(...e){if(++this._registerDepth===100)throw be(6,...e);let t,s,i,r,o,a=0,c=e.length,l;for(;a<c;++a)if(t=e[a],!!Li(t))if(Sn(t))t.register(this);else if((l=wt(bt,t))!=null)l.register(this);else if(Ed(t)){const u=t[Symbol.metadata]?.[St];if(Sn(u))u.register(this);else if(U(t.$au?.type)){const h=t.$au,d=(t.aliases??V).concat(h.aliases??V);let p=`${bt}:${h.type}:${h.name}`;if(this.has(p,!1)){globalThis.console?.warn(be(7,p));continue}for(Ri(t,p).register(this),this.has(t,!1)||ei(t,t).register(this),r=0,o=d.length;r<o;++r){if(p=`${bt}:${h.type}:${d[r]}`,this.has(p,!1)){globalThis.console?.warn(be(7,p));continue}Ri(t,p).register(this)}}else ei(t,t).register(this)}else for(s=Object.keys(t),r=0,o=s.length;r<o;++r)i=t[s[r]],Li(i)&&(Sn(i)?i.register(this):this.register(i));return--this._registerDepth,this}registerResolver(e,t,s=!1){kn(e);const i=this._resolvers,r=i.get(e);if(r==null){if(i.set(e,t),$r(e)){if(this.res[e]!==void 0)throw be(7,e);this.res[e]=t}}else r instanceof dt&&r._strategy===4?r._state.push(t):i.set(e,new dt(e,4,[r,t]));return s&&this._disposableResolvers.set(e,t),t}deregister(e){kn(e);const t=this._resolvers.get(e);t!=null&&(this._resolvers.delete(e),$r(e)&&delete this.res[e],this._disposableResolvers.has(e)&&(t.dispose(),this._disposableResolvers.delete(e)))}registerTransformer(e,t){const s=this.getResolver(e);if(s==null)return!1;if(s.getFactory){const i=s.getFactory(this);return i==null?!1:(i.registerTransformer(t),!0)}return!1}getResolver(e,t=!0){if(kn(e),e.resolve!==void 0)return e;const s=ae;let i=ae=this,r,o;try{for(;i!=null;)if(r=i._resolvers.get(e),r==null){if(i._parent==null)return o=Wa(e)?this:i,t?this._jitRegister(e,o):null;i=i._parent}else return r}finally{ae=s}return null}has(e,t=!1){return this._resolvers.has(e)||$r(e)&&e in this.res||((t&&this._parent?.has(e,!0))??!1)}get(e){if(kn(e),e.$isResolver)return e.resolve(this,this);const t=ae;let s=ae=this,i,r;try{for(;s!=null;)if(i=s._resolvers.get(e),i==null){if(s._parent==null)return r=Wa(e)?this:s,i=this._jitRegister(e,r),i.resolve(s,this);s=s._parent}else return i.resolve(s,this)}finally{ae=t}throw be(8,e)}getAll(e,t=!1){kn(e);const s=ae,i=ae=this;let r=i,o,a=V;try{if(t){for(;r!=null;)o=r._resolvers.get(e),o!=null&&(a=a.concat(Ha(o,r,i))),r=r._parent;return a}for(;r!=null;)if(o=r._resolvers.get(e),o==null){if(r=r._parent,r==null)return V}else return Ha(o,r,i)}finally{ae=s}return V}invoke(e,t){if(Va(e))throw be(15,e);const s=ae;ae=this;{let i,r;try{i=qs(e).map(o=>this.get(r=o))}catch(o){throw an(`[DEV:aurelia] Error during construction of ${e.name?e.name:`(Anonymous) ${String(e)}`}, caused by dependency: ${String(r)}`),ae=s,o}try{return t===void 0?new e(...i):new e(...i,...t)}catch(o){throw an(`[DEV:aurelia] Error during construction of ${e.name?e.name:`(Anonymous) ${String(e)}`}`),o}finally{ae=s}}try{return t===void 0?new e(...qs(e).map(ti,this)):new e(...qs(e).map(ti,this),...t)}finally{ae=s}}hasFactory(e){return this._factories.has(e)}getFactory(e){let t=this._factories.get(e);if(t!=null)return t;let s;if(e.$isResolver?s=e.getFactory?.(this)?.Type:s=K(e)?e:this.getResolver(e,!1)?.getFactory?.(this)?.Type,!K(s))throw be(9,s);if(t=this._factories.get(s),t===void 0){if(Va(s))throw be(15,e);this._factories.set(s,t=new xd(s,qs(s)))}return t}registerFactory(e,t){this._factories.set(e,t)}createChild(e){return e===void 0&&this.config.inheritParentResources?this.config===yt.DEFAULT?new On(this,this.config):new On(this,yt.from({...this.config,inheritParentResources:!1})):new On(this,yt.from(e??this.config))}disposeResolvers(){const e=this._resolvers,t=this._disposableResolvers;let s,i;for([i,s]of t.entries())s.dispose?.(),e.delete(i);t.clear()}useResources(e){const t=e.res;for(const s in t)this.registerResolver(s,t[s])}find(e,t){const s=U(t)?`${bt}:${e}:${t}`:e;let i=this,r=i.res[s];return r==null&&(i=i.root,r=i.res[s]),r==null?null:r.getFactory?.(i)?.Type??null}dispose(){this._disposableResolvers.size>0&&this.disposeResolvers(),this._resolvers.clear(),this.root===this&&(this._factories.clear(),this.res={})}_jitRegister(e,t){const s=Sn(e);if(!K(e)&&!s)throw be(9,e);if(Ad.has(e.name))throw be(10,e);if(s){const r=e.register(t,e);if(!(r instanceof Object)||r.resolve==null){const o=t._resolvers.get(e);if(o!=null)return o;throw be(11,e)}return r}if(e.$isInterface)throw be(12,e.friendlyName);const i=this.config.defaultResolver(e,t);return t._resolvers.set(e,i),i}}class xd{constructor(e,t){this.Type=e,this.dependencies=t,this.transformers=null}construct(e,t){const s=ae;ae=e;let i;{let r,o;try{r=this.dependencies.map(a=>e.get(o=a))}catch(a){throw an(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}, caused by dependency: ${String(o)}`),ae=s,a}try{return t===void 0?i=new this.Type(...r):i=new this.Type(...r,...t),this.transformers==null?i:this.transformers.reduce(za,i)}catch(a){throw an(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}`),a}finally{ae=s}}try{return t===void 0?i=new this.Type(...this.dependencies.map(ti,e)):i=new this.Type(...this.dependencies.map(ti,e),...t),this.transformers==null?i:this.transformers.reduce(za,i)}finally{ae=s}}registerTransformer(e){(this.transformers??=[]).push(e)}}function za(n,e){return e(n)}function kn(n){if(n==null)throw be(14)}function ti(n){return this.get(n)}function $(...n){if(ae==null)throw be(16,...n);if(n.length===1)try{return ae.get(n[0])}catch(e){throw an(`[DEV:aurelia] resolve() call error for: ${String(n[0])}`),e}else{let e;try{return n.map(t=>ae.get(e=t))}catch(t){throw an(`[DEV:aurelia] resolve() call error for: ${String(e)}`),t}}return n.length===1?ae.get(n[0]):n.map(ti,ae)}const Ha=(n,e,t)=>{if(n instanceof dt&&n._strategy===4){const s=n._state,i=s.length,r=Array(i);let o=0;for(;o<i;++o)r[o]=s[o].resolve(e,t);return r}return[n.resolve(e,t)]},$d={$isResolver:!0,resolve(n,e){return e}},Sn=n=>K(n?.register),Id=n=>Sn(n)&&typeof n.registerInRequestor=="boolean",Wa=n=>Id(n)&&n.registerInRequestor,Ed=n=>n.prototype!==void 0,$r=n=>U(n)&&n.indexOf(":")>0;class Td{constructor(e,t){this._container=e,this._key=t}instance(e){return this._registerResolver(0,e)}singleton(e){return this._registerResolver(1,e)}transient(e){return this._registerResolver(2,e)}callback(e){return this._registerResolver(3,e)}cachedCallback(e){return this._registerResolver(3,hc(e))}aliasTo(e){return this._registerResolver(5,e)}_registerResolver(e,t){const{_container:s,_key:i}=this;return this._container=this._key=void 0,s.registerResolver(i,new dt(i,e,t))}}const An=n=>{const e=n.slice(),t=Object.keys(n),s=t.length;let i;for(let r=0;r<s;++r)i=t[r],Yn(i)||(e[i]=n[i]);return e},pc=Yt("di:paramtypes"),Pd=n=>wt(pc,n),gc=n=>wt("design:paramtypes",n),Ua=n=>n.metadata[pc]??=[],qs=n=>{const e=Yt("di:dependencies");let t=wt(e,n);if(t===void 0){const s=n.inject;if(s===void 0){const i=gc(n),r=Pd(n);if(i===void 0)if(r===void 0){const o=Object.getPrototypeOf(n);K(o)&&o!==Function.prototype?t=An(qs(o)):t=[]}else t=An(r);else if(r===void 0)t=An(i);else{t=An(i);let o=r.length,a,c=0;for(;c<o;++c)a=r[c],a!==void 0&&(t[c]=a);const l=Object.keys(r);let u;for(c=0,o=l.length,c=0;c<o;++c)u=l[c],Yn(u)||(t[u]=r[u])}}else t=An(s);Xn(t,n,e)}return t},os=(n,e)=>{const t=K(n)?n:e,s=(U(n)?n:void 0)??"(anonymous)",i={$isInterface:!0,friendlyName:s,toString:()=>`InterfaceSymbol<${s}>`,register:t!=null?(r,o)=>t(new Td(r,o??i)):void 0};return i},Ho=(...n)=>(e,t)=>{switch(t.kind){case"class":{const s=Ua(t);let i,r=0;for(;r<n.length;++r)i=n[r],i!==void 0&&(s[r]=i);break}case"field":{const s=Ua(t),i=n[0];i!==void 0&&(s[t.name]=i);break}default:throw be(22,String(t.name),t.kind)}},as=(ld(),{createContainer:kd,getDesignParamtypes:gc,getDependencies:qs,createInterface:os,inject:Ho,transient(n){return n.register=function(e){return uc(n,n).register(e,n)},n.registerInRequestor=!1,n},singleton(n,e=Rd){return n.register=function(t){return ei(n,n).register(t,n)},n.registerInRequestor=e.scoped,n}}),ci=os("IContainer"),Bd=ci;function Ka(n,e){return as.transient(n)}function Ld(n,e){return n==null?Ka:Ka(n)}const Rd={scoped:!1};class dt{get $isResolver(){return!0}constructor(e,t,s){this._resolving=!1,this._cachedFactory=null,this._key=e,this._strategy=t,this._state=s}register(e,t){return e.registerResolver(t||this._key,this)}resolve(e,t){switch(this._strategy){case 0:return this._state;case 1:{if(this._resolving)throw be(3,this._state.name);return this._resolving=!0,this._state=(this._cachedFactory=e.getFactory(this._state)).construct(t),this._strategy=0,this._resolving=!1,this._state}case 2:{const s=e.getFactory(this._state);if(s===null)throw be(4,this._key);return s.construct(t)}case 3:return this._state(e,t,this);case 4:return this._state[0].resolve(e,t);case 5:return t.get(this._state);default:throw be(5,this._strategy)}}getFactory(e){switch(this._strategy){case 1:case 2:return e.getFactory(this._state);case 5:return e.getResolver(this._state)?.getFactory?.(e)??null;case 0:return this._cachedFactory;default:return null}}}class _e{get friendlyName(){return this._name}constructor(e,t=null,s=null){this._name=e,this._instance=t,this._Type=s}prepare(e){this._instance=e}get $isResolver(){return!0}resolve(){if(this._instance==null)throw be(13,this._name);return this._instance}getFactory(e){return this._Type==null?null:e.getFactory(this._Type)}dispose(){this._instance=null}}class Od{constructor(e,t){this.key=e,this.params=t}register(e){e.has(this.key,!0)?e.get(this.key).register(e,...this.params):e.register(...this.params.filter(t=>typeof t=="object"))}}const V=ai([]),Md=ai({});function st(){}const _n=os("IPlatform");function ui(n){return function(e){function t(s,i){Ho(t)(s,i)}return t.$isResolver=!0,t.resolve=function(s,i){return n(e,s,i)},t}}const Wo=(n,e=!1)=>{function t(s,i){Ho(t)(s,i)}return t.$isResolver=!0,t.resolve=(s,i)=>i.getAll(n,e),t},Uo=ui((n,e,t)=>{if(t.has(n,!0))return t.get(n)}),Dd=ui((n,e,t)=>t.has(n,!1)?t.get(n):void 0),ln=ui((n,e,t)=>t.has(n,!1)?t.get(n):t.root.get(n)),Nd=ui((n,e,t)=>t.has(n,!1)?t.get(n):t.root.has(n,!1)?t.root.get(n):void 0),Fd=ui((n,e,t)=>t===t.root?t.getAll(n,!1):t.has(n,!1)?t.getAll(n,!1).concat(t.root.getAll(n,!1)):t.root.getAll(n,!1));function js(n,e,t,s,i,r){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=s.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=n?s.static?n:n.prototype:null,u=l?Object.getOwnPropertyDescriptor(l,s.name):{},h,d=!1,p=t.length-1;p>=0;p--){var f={};for(var g in s)f[g]=g==="access"?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(_){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(_||null))};var m=(0,t[p])(a==="accessor"?{get:u.get,set:u.set}:u[c],f);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(u.get=h),(h=o(m.set))&&(u.set=h),(h=o(m.init))&&i.unshift(h)}else(h=o(m))&&(a==="field"?i.unshift(h):u[c]=h)}l&&Object.defineProperty(l,s.name,u),d=!0}function Vd(n,e,t){for(var s=arguments.length>2,i=0;i<e.length;i++)t=s?e[i].call(n,t):e[i].call(n);return s?t:void 0}const Mn=0,Dn=1,Nn=2,sn=3,Fn=4,Vn=5,jd=6,zd=ai({trace:Mn,debug:Dn,info:Nn,warn:sn,error:Fn,fatal:Vn,none:jd}),mc=os("ILogConfig",n=>n.instance(new Qd("no-colors",sn))),Hd=os("ISink"),Wd=os("ILogEventFactory",n=>n.singleton(qd)),cn=os("ILogger",n=>n.singleton(Zd)),Ud=os("ILogScope"),Kd=ai({key:Yt("logger-sink-handles"),define(n,e){Xn(e.handles,n,this.key)},getHandles(n){return wt(this.key,n.constructor)}}),Rt=to({red(n){return`\x1B[31m${n}\x1B[39m`},green(n){return`\x1B[32m${n}\x1B[39m`},yellow(n){return`\x1B[33m${n}\x1B[39m`},blue(n){return`\x1B[34m${n}\x1B[39m`},magenta(n){return`\x1B[35m${n}\x1B[39m`},cyan(n){return`\x1B[36m${n}\x1B[39m`},white(n){return`\x1B[37m${n}\x1B[39m`},grey(n){return`\x1B[90m${n}\x1B[39m`}});class Qd{constructor(e,t){this.colorOptions=e,this.level=t}}const Ir=(function(){const n={"no-colors":to({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),colors:to({TRC:Rt.grey("TRC"),DBG:Rt.grey("DBG"),INF:Rt.white("INF"),WRN:Rt.yellow("WRN"),ERR:Rt.red("ERR"),FTL:Rt.red("FTL"),QQQ:Rt.grey("???")})};return(e,t)=>e<=Mn?n[t].TRC:e<=Dn?n[t].DBG:e<=Nn?n[t].INF:e<=sn?n[t].WRN:e<=Fn?n[t].ERR:e<=Vn?n[t].FTL:n[t].QQQ})(),Qa=(n,e)=>e==="no-colors"?n.join("."):n.map(Rt.cyan).join("."),Er=(n,e)=>e==="no-colors"?new Date(n).toISOString():Rt.grey(new Date(n).toISOString());class Gd{constructor(e,t,s,i,r,o){this.severity=e,this.message=t,this.optionalParams=s,this.scope=i,this.colorOptions=r,this.timestamp=o}toString(){const{severity:e,message:t,scope:s,colorOptions:i,timestamp:r}=this;return s.length===0?`${Er(r,i)} [${Ir(e,i)}] ${t}`:`${Er(r,i)} [${Ir(e,i)} ${Qa(s,i)}] ${t}`}getFormattedLogInfo(e=!1){const{severity:t,message:s,scope:i,colorOptions:r,timestamp:o,optionalParams:a}=this;let c=null,l="";e&&s instanceof Error?c=s:l=s;const u=i.length===0?"":` ${Qa(i,r)}`;let h=`${Er(o,r)} [${Ir(t,r)}${u}] ${l}`;if(a===void 0||a.length===0)return c===null?[h]:[h,c];let d=0;for(;h.includes("%s");)h=h.replace("%s",String(a[d++]));return c!==null?[h,c,...a.slice(d)]:[h,...a.slice(d)]}}class qd{constructor(){this.config=$(mc)}createLogEvent(e,t,s,i){return new Gd(t,s,i,e.scope,this.config.colorOptions,Date.now())}}let Zd=(()=>{var n;let e=[],t,s,i,r,o,a;return n=class{constructor(l=$(mc),u=$(Wd),h=$(Wo(Hd)),d=$(Uo(Ud))??[],p=null){this.scope=(Vd(this,e),d),this._scopedLoggers=Y();let f,g,m,_,w,P;if(this.config=l,this._factory=u,this.sinks=h,p===null){this.root=this,this.parent=this,f=this._traceSinks=[],g=this._debugSinks=[],m=this._infoSinks=[],_=this._warnSinks=[],w=this._errorSinks=[],P=this._fatalSinks=[];for(const A of h){const C=Kd.getHandles(A);(C?.includes(Mn)??!0)&&f.push(A),(C?.includes(Dn)??!0)&&g.push(A),(C?.includes(Nn)??!0)&&m.push(A),(C?.includes(sn)??!0)&&_.push(A),(C?.includes(Fn)??!0)&&w.push(A),(C?.includes(Vn)??!0)&&P.push(A)}}else this.root=p.root,this.parent=p,f=this._traceSinks=p._traceSinks,g=this._debugSinks=p._debugSinks,m=this._infoSinks=p._infoSinks,_=this._warnSinks=p._warnSinks,w=this._errorSinks=p._errorSinks,P=this._fatalSinks=p._fatalSinks}trace(l,...u){this.config.level<=Mn&&this._emit(this._traceSinks,Mn,l,u)}debug(l,...u){this.config.level<=Dn&&this._emit(this._debugSinks,Dn,l,u)}info(l,...u){this.config.level<=Nn&&this._emit(this._infoSinks,Nn,l,u)}warn(l,...u){this.config.level<=sn&&this._emit(this._warnSinks,sn,l,u)}error(l,...u){this.config.level<=Fn&&this._emit(this._errorSinks,Fn,l,u)}fatal(l,...u){this.config.level<=Vn&&this._emit(this._fatalSinks,Vn,l,u)}scopeTo(l){const u=this._scopedLoggers;let h=u[l];return h===void 0&&(h=u[l]=new n(this.config,this._factory,null,this.scope.concat(l),this)),h}_emit(l,u,h,d){const p=K(h)?h():h,f=this._factory.createLogEvent(this,u,p,d);for(let g=0,m=l.length;g<m;++g)l[g].handleEvent(f)}},(()=>{const c=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Vs],s=[Vs],i=[Vs],r=[Vs],o=[Vs],a=[Vs],js(n,null,t,{kind:"method",name:"trace",static:!1,private:!1,access:{has:l=>"trace"in l,get:l=>l.trace},metadata:c},null,e),js(n,null,s,{kind:"method",name:"debug",static:!1,private:!1,access:{has:l=>"debug"in l,get:l=>l.debug},metadata:c},null,e),js(n,null,i,{kind:"method",name:"info",static:!1,private:!1,access:{has:l=>"info"in l,get:l=>l.info},metadata:c},null,e),js(n,null,r,{kind:"method",name:"warn",static:!1,private:!1,access:{has:l=>"warn"in l,get:l=>l.warn},metadata:c},null,e),js(n,null,o,{kind:"method",name:"error",static:!1,private:!1,access:{has:l=>"error"in l,get:l=>l.error},metadata:c},null,e),js(n,null,a,{kind:"method",name:"fatal",static:!1,private:!1,access:{has:l=>"fatal"in l,get:l=>l.fatal},metadata:c},null,e),c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),n})();const vc="AccessThis",Jd="AccessBoundary",Ko="AccessGlobal",Qo="AccessScope",Xd="ArrayLiteral",Yd="ObjectLiteral",Hs="PrimitiveLiteral",ef="New",tf="Template",sf="Unary",nf="CallScope",rf="CallMember",of="CallFunction",af="CallGlobal",sr="AccessMember",bc="AccessKeyed",lf="TaggedTemplate",cf="Binary",uf="Conditional",hf="Assign",df="ArrowFunction",ff="ValueConverter",pf="BindingBehavior",_c="ArrayBindingPattern",yc="ObjectBindingPattern",wc="BindingIdentifier",gf="ForOfStatement",mf="Interpolation",Cc="ArrayDestructuring",vf="ObjectDestructuring",bf="DestructuringAssignmentLeaf",_f="Custom";class kc{constructor(e){this.value=e,this.$kind=_f}evaluate(...e){return this.value}assign(...e){return e}bind(...e){}unbind(...e){}accept(e){}}function yf(n,e,t){return{$kind:pf,key:`_bb_${e}`,expression:n,name:e,args:t}}function wf(n,e,t){return{$kind:ff,expression:n,name:e,args:t}}function Cf(n,e,t="="){return{$kind:hf,target:n,value:e,op:t}}function kf(n,e,t){return{$kind:uf,condition:n,yes:e,no:t}}function Af(n){return{$kind:Ko,name:n}}function jn(n=0){return{$kind:vc,ancestor:n}}const Sf={$kind:Jd};function xf(){return Sf}function zn(n,e=0){return{$kind:Qo,name:n,ancestor:e}}function Ac(n){return n.$kind===Ko||(n.$kind===sr||n.$kind===bc)&&n.accessGlobal}function so(n,e,t=!1){return{$kind:sr,accessGlobal:Ac(n),object:n,name:e,optional:t}}function Sc(n,e,t=!1){return{$kind:bc,accessGlobal:Ac(n),object:n,key:e,optional:t}}function $f(n,e){return{$kind:ef,func:n,args:e}}function xc(n,e,t=0,s=!1){return{$kind:nf,name:n,args:e,ancestor:t,optional:s}}function Oi(n,e,t,s=!1,i=!1){return{$kind:rf,object:n,name:e,args:t,optionalMember:s,optionalCall:i}}function xi(n,e,t=!1){return{$kind:of,func:n,args:e,optional:t}}function If(n,e){return{$kind:af,name:n,args:e}}function Ef(n,e,t){return{$kind:cf,operation:n,left:e,right:t}}function Ga(n,e,t=0){return{$kind:sf,operation:n,expression:e,pos:t}}const hi={$undefined:{$kind:Hs,value:void 0},$null:{$kind:Hs,value:null},$true:{$kind:Hs,value:!0},$false:{$kind:Hs,value:!1},$empty:{$kind:Hs,value:""}};function Go(n){return{$kind:Hs,value:n}}function Tf(n){return{$kind:Xd,elements:n}}function Pf(n,e){return{$kind:Yd,keys:n,values:e}}function $c(n,e=V){return{$kind:tf,cooked:n,expressions:e}}function Ic(n,e,t,s=V){return n.raw=e,{$kind:lf,cooked:n,func:t,expressions:s}}function Bf(n){return{$kind:_c,elements:n}}function Lf(n,e){return{$kind:yc,keys:n,values:e}}function Mi(n){return{$kind:wc,name:n}}function Rf(n,e,t){return{$kind:gf,declaration:n,iterable:e,semiIdx:t}}function Of(n,e=V){return{$kind:mf,isMulti:e.length>1,firstExpression:e[0],parts:n,expressions:e}}function Mf(n,e,t,s){return{$kind:n,list:e,source:t,initializer:s}}function Df(n,e,t){return{$kind:bf,target:n,source:e,initializer:t}}function no(n,e,t=!1){return{$kind:df,args:n,body:e,rest:t}}const io=String,$i=()=>Object.create(null),se=(n,...e)=>{const t=io(n).padStart(4,"0"),s=Ff(n,...e),i=`https://docs.aurelia.io/developer-guides/error-messages/0151-to-0179/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${i}`)},Nf={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`},Ff=(n,...e)=>{let t=Nf[n];for(let s=0;s<e.length;++s){const i=new RegExp(`{{${s}(:.*)?}}`,"g");let r=i.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=io(a[o.slice(1)]):a=io(a)}t=t.slice(0,r.index)+a+t.slice(i.lastIndex),r=i.exec(t)}}return t},ss=as.createInterface("IExpressionParser");class Ec{constructor(){this._expressionLookup=$i(),this._forOfLookup=$i(),this._interpolationLookup=$i()}parse(e,t){let s;switch(t){case Bc:return new kc(e);case Di:return s=this._interpolationLookup[e],s===void 0&&(s=this._interpolationLookup[e]=this.$parse(e,t)),s;case Mt:return s=this._forOfLookup[e],s===void 0&&(s=this._forOfLookup[e]=this.$parse(e,t)),s;default:{if(e.length===0){if(t===Wf||t===qa)return hi.$empty;throw op()}return s=this._expressionLookup[e],s===void 0&&(s=this._expressionLookup[e]=this.$parse(e,t)),s}}}$parse(e,t){return G=e,j=0,Ct=e.length,He=0,Es=0,B=6291456,ne="",ee=Ts(0),Z=!0,Q=!1,xn=!0,Zo=-1,le(61,t===void 0?qa:t)}}Ec.register=li(ss);function qo(n){switch(n){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return n}}const Vf=hi.$false,jf=hi.$true,zf=hi.$null,Tc=hi.$undefined,Hn=jn(0),Tr=jn(1),Hf=xf(),Ft="None",Di="Interpolation",Mt="IsIterator",Pc="IsChainable",Wf="IsFunction",qa="IsProperty",Bc="IsCustom";let G="",j=0,Ct=0,He=0,Es=0,B=6291456,ne="",ee,Z=!0,Q=!1,xn=!0,Zo=-1;const si=String.fromCharCode,Ts=n=>G.charCodeAt(n),Vt=()=>G.slice(Es,j),Uf="Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl".split(" ");function le(n,e){if(e===Bc)return new kc(G);if(j===0){if(e===Di)return Yf();if(O(),B&4194304)throw np()}Z=577>n,Q=!1,xn=579>n;let t=!1,s,i=0;if(B&131072){const r=Ws[B&63];O(),s=Ga(r,le(579,e)),Z=!1}else{e:switch(B){case 12296:i=He,Z=!1,xn=!1;do switch(O(),++i,B){case 65547:if(O(),(B&12288)===0)throw Bt();break;case 12:case 13:throw Bt();case 2162702:if(Q=!0,O(),(B&12288)===0){s=i===0?Hn:i===1?Tr:jn(i),t=!0;break e}break;default:if(B&2097152){s=i===0?Hn:i===1?Tr:jn(i);break e}throw ip()}while(B===12296);case 4096:{const r=ne;if(e===Mt)s=Mi(r);else if(xn&&Uf.includes(r))s=Af(r);else{if(xn&&r==="import")throw hp();s=zn(r,i)}if(Z=!Q,O(),mt(53)){if(B===524298)throw Dc();const o=Q,a=He;++He;const c=le(62,Ft);Q=o,He=a,Z=!1,s=no([Mi(r)],c)}break}case 12:throw mp();case 13:throw ro();case 12293:switch(Z=!1,O(),He){case 0:s=Hn;break;case 1:s=Tr;break;default:s=jn(He);break}break;case 12294:Z=!1,O(),s=Hf;break;case 2688009:s=Gf(e);break;case 2688020:s=G.search(/\s+of\s+/)>j?Kf():qf(e);break;case 524298:s=Xf(e);break;case 2163762:s=$c([ne]),Z=!1,O();break;case 2163763:s=Pr(e,s,!1);break;case 16384:case 32768:s=Go(ne),Z=!1,O();break;case 8194:case 8195:case 8193:case 8192:s=Ws[B&63],Z=!1,O();break;case 8196:{O();const r=le(578,e);let o;B===2688009?o=Ye():(o=[],O()),s=$f(r,o),Z=!1;break}default:throw j>=Ct?rp():Br()}if(e===Mt)return Jf(s);switch(B){case 2228282:case 2228283:s=Ga(Ws[B&63],s,1),O(),Z=!1;break}if(579<n)return s;if(B===12||B===13)throw Bt();if(s.$kind===vc)switch(B){case 2162702:if(Q=!0,Z=!1,O(),(B&13312)===0)throw Jo();if(B&12288)s=zn(ne,s.ancestor),O();else if(B===2688009)s=xi(s,Ye(),!0);else if(B===2688020)s=Ii(s,!0);else throw Ei();break;case 65547:if(Z=!Q,O(),(B&12288)===0)throw Bt();s=zn(ne,s.ancestor),O();break;case 12:case 13:throw Bt();case 2688009:s=xi(s,Ye(),t);break;case 2688020:s=Ii(s,t);break;case 2163762:s=Za(s);break;case 2163763:s=Pr(e,s,!0);break}for(;(B&65536)>0;)switch(B){case 2162702:s=Qf(s);break;case 65547:if(O(),(B&12288)===0)throw Bt();s=Lc(s,!1);break;case 12:case 13:throw Bt();case 2688009:if(n===578)return s;s.$kind===Qo?s=xc(s.name,Ye(),s.ancestor,!1):s.$kind===sr?s=Oi(s.object,s.name,Ye(),s.optional,!1):s.$kind===Ko?s=If(s.name,Ye()):s=xi(s,Ye(),!1);break;case 2688020:s=Ii(s,!1);break;case 2163762:if(Q)throw Ei();s=Za(s);break;case 2163763:if(Q)throw Ei();s=Pr(e,s,!0);break}}if(B===12||B===13)throw Bt();if(577<n)return s;for(;(B&262144)>0;){const r=B;if((r&960)<=n)break;O(),s=Ef(Ws[r&63],s,le(r&960,e)),Z=!1}if(63<n)return s;if(mt(6291480)){const r=le(62,e);ht(6291478),s=kf(s,r,le(62,e)),Z=!1}if(62<n)return s;switch(B){case 4194352:case 4194358:case 4194359:case 4194360:case 4194361:{if(!Z)throw ap();const r=Ws[B&63];O(),s=Cf(s,le(62,e),r);break}}if(61<n)return s;for(;mt(6291482);){if(B===6291456)throw lp();const r=ne;O();const o=new Array;for(;mt(6291478);)o.push(le(62,e));s=wf(s,r,o)}for(;mt(6291481);){if(B===6291456)throw cp();const r=ne;O();const o=new Array;for(;mt(6291478);)o.push(le(62,e));s=yf(s,r,o)}if(B!==6291456){if(e===Di&&B===7340047)return s;if(e===Pc&&B===6291479){if(j===Ct)throw Br();return Zo=j-1,s}throw Vt()==="of"?up():Br()}return s}function Kf(){const n=[];let e=null,t=!0,s=0;for(;t;)switch(O(),B){case 7340053:t=!1,i();break;case 6291475:i();break;case 4096:e=Vt();break;default:throw pp()}return ht(7340053),Mf(Cc,n,void 0,void 0);function i(){e!==null?(n.push(Df(so(Hn,e),Sc(Hn,Go(s++)),void 0)),e=null):s++}}function Ye(){const n=Q;O();const e=[];for(;B!==7340048&&(e.push(le(62,Ft)),!!mt(6291475)););return ht(7340048),Z=!1,Q=n,e}function Ii(n,e){const t=Q;return O(),n=Sc(n,le(62,Ft),e),ht(7340053),Z=!t,Q=t,n}function Qf(n){if(Q=!0,Z=!1,O(),(B&13312)===0)throw Jo();if(B&12288)return Lc(n,!0);if(B===2688009)return n.$kind===Qo?xc(n.name,Ye(),n.ancestor,!0):n.$kind===sr?Oi(n.object,n.name,Ye(),n.optional,!0):xi(n,Ye(),!0);if(B===2688020)return Ii(n,!0);throw Ei()}function Lc(n,e){const t=ne;switch(B){case 2162702:{Q=!0,Z=!1;const s=j,i=Es,r=B,o=ee,a=ne,c=Z,l=Q;if(O(),(B&13312)===0)throw Jo();return B===2688009?Oi(n,t,Ye(),e,!0):(j=s,Es=i,B=r,ee=o,ne=a,Z=c,Q=l,so(n,t,e))}case 2688009:return Z=!1,Oi(n,t,Ye(),e,!1);default:return Z=!Q,O(),so(n,t,e)}}function Gf(n){O();const e=j,t=Es,s=B,i=ee,r=ne,o=Q,a=[];let c=1,l=!1;e:for(;;){if(B===13){if(O(),B!==4096)throw Bt();if(a.push(Mi(ne)),O(),B===6291475)throw gp();if(B!==7340048||(O(),B!==53))throw ro();O();const d=Q,p=He;++He;const f=le(62,Ft);return Q=d,He=p,Z=!1,no(a,f,!0)}switch(B){case 4096:a.push(Mi(ne)),O();break;case 7340048:O();break e;case 524298:case 2688020:O(),c=4;break;case 6291475:c=2,l=!0;break e;case 2688009:c=2;break e;default:O(),c=2;break}switch(B){case 6291475:if(O(),l=!0,c===1)break;break e;case 7340048:O();break e;case 4194352:c===1&&(c=3);break e;case 53:if(l)throw bi();O(),c=2;break e;default:c===1&&(c=2);break e}}if(B===53){if(c===1){if(O(),B===524298)throw Dc();const d=Q,p=He;++He;const f=le(62,Ft);return Q=d,He=p,Z=!1,no(a,f)}throw bi()}else if(c===1&&a.length===0)throw Mc(53);if(l)switch(c){case 2:throw bi();case 3:throw Ya();case 4:throw el()}j=e,Es=t,B=s,ee=i,ne=r,Q=o;const u=Q,h=le(62,n);if(Q=u,ht(7340048),B===53)switch(c){case 2:throw bi();case 3:throw Ya();case 4:throw el()}return h}function qf(n){const e=Q;O();const t=new Array;for(;B!==7340053;)if(mt(6291475)){if(t.push(Tc),B===7340053)break}else if(t.push(le(62,n===Mt?Ft:n)),mt(6291475)){if(B===7340053)break}else break;return Q=e,ht(7340053),n===Mt?Bf(t):(Z=!1,Tf(t))}const Zf=[_c,yc,wc,Cc,vf];function Jf(n){if(!Zf.includes(n.$kind)||B!==4204596)throw Xa(n.$kind);O();const e=n,t=le(61,Pc);return Rf(e,t,Zo)}function Xf(n){const e=Q,t=new Array,s=new Array;for(O();B!==7340047;){if(t.push(ne),B&49152)O(),ht(6291478),s.push(le(62,n===Mt?Ft:n));else if(B&12288){const i=ee,r=B,o=j;O(),mt(6291478)?s.push(le(62,n===Mt?Ft:n)):(ee=i,B=r,j=o,s.push(le(580,n===Mt?Ft:n)))}else throw dp();B!==7340047&&ht(6291475)}return Q=e,ht(7340047),n===Mt?Lf(t,s):(Z=!1,Pf(t,s))}function Yf(){const n=[],e=[],t=Ct;let s="";for(;j<t;){switch(ee){case 36:if(Ts(j+1)===123){n.push(s),s="",j+=2,ee=Ts(j),O();const i=le(61,Di);e.push(i);continue}else s+="$";break;case 92:s+=si(qo(D()));break;default:s+=si(ee)}D()}return e.length?(n.push(s),Of(n,e)):null}function Pr(n,e,t){const s=Q,i=[ne];ht(2163763);const r=[le(62,n)];for(;(B=sp())!==2163762;)i.push(ne),ht(2163763),r.push(le(62,n));return i.push(ne),Z=!1,Q=s,t?(O(),Ic(i,i,e,r)):(O(),$c(i,r))}function Za(n){Z=!1;const e=[ne];return O(),Ic(e,e,n)}function O(){for(;j<Ct;)if(Es=j,(B=bp[ee]())!=null)return;B=6291456}function D(){return ee=Ts(++j)}function ep(){for(;_p[D()];);const n=vp[ne=Vt()];return n===void 0?4096:n}function Ja(n){let e=ee;if(n===!1){do e=D();while(e<=57&&e>=48);if(e!==46)return ne=parseInt(Vt(),10),32768;if(e=D(),j>=Ct)return ne=parseInt(Vt().slice(0,-1),10),32768}if(e<=57&&e>=48)do e=D();while(e<=57&&e>=48);else ee=Ts(--j);return ne=parseFloat(Vt()),32768}function tp(){const n=ee;D();let e=0;const t=new Array;let s=j;for(;ee!==n;)if(ee===92)t.push(G.slice(s,j)),D(),e=qo(ee),D(),t.push(si(e)),s=j;else{if(j>=Ct)throw fp();D()}const i=G.slice(s,j);return D(),t.push(i),ne=t.join(""),16384}function Rc(){let n=!0,e="";for(;D()!==96;)if(ee===36)if(j+1<Ct&&Ts(j+1)===123){j++,n=!1;break}else e+="$";else if(ee===92)e+=si(qo(D()));else{if(j>=Ct)throw Oc();e+=si(ee)}return D(),ne=e,n?2163762:2163763}const sp=()=>{if(j>=Ct)throw Oc();return j--,Rc()},mt=n=>B===n?(O(),!0):!1,ht=n=>{if(B===n)O();else throw Mc(n)},np=()=>se(151,G),ro=()=>se(152,G),Bt=()=>se(153,G),ip=()=>se(154,G),rp=()=>se(155,G),Br=()=>se(156,Vt(),j,G),op=()=>se(157),ap=()=>se(158,G),lp=()=>se(159,G),cp=()=>se(160,G),up=()=>se(161,G),hp=()=>se(162,G),Xa=n=>se(163,G,n),dp=()=>se(164,G),fp=()=>se(165,G),Oc=()=>se(166,G),Mc=n=>se(167,Ws[n&63],G),pp=()=>se(170,Vt(),j,G),Jo=()=>se(171,Vt(),j-1,G),Ei=()=>se(172,G),bi=()=>se(173,G),Ya=()=>se(174,G),el=()=>se(175,G),gp=()=>se(176,G),Dc=()=>se(178,G),mp=()=>se(179,j-1,G),Ws=[Vf,jf,zf,Tc,"new","this","$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","**","=","!",2163762,2163763,"of","=>","+=","-=","*=","/=","++","--"],vp=Object.assign($i(),{true:8193,null:8194,false:8192,undefined:8195,new:8196,this:12294,$this:12293,$parent:12296,in:6562214,instanceof:6562215,typeof:139306,void:139307,of:4204596}),{CharScanners:bp,IdParts:_p}=(()=>{const n=()=>{throw se(168,G)};n.notMapped=!0;const e={IdStart:[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Digit:[48,58],Skip:[0,33,127,161]},t=(o,a,c,l)=>{const u=c.length;for(let h=0;h<u;h+=2){const d=c[h];let p=c[h+1];p=p>0?p:d+1,o&&o.fill(l,d,p)}},s=(o=>(t(o,null,e.IdStart,1),t(o,null,e.Digit,1),o))(new Uint8Array(65535)),i=o=>()=>(D(),o),r=new Array(65535);return r.fill(n,0,65535),t(r,null,e.Skip,()=>(D(),null)),t(r,null,e.IdStart,ep),t(r,null,e.Digit,()=>Ja(!1)),r[34]=r[39]=()=>tp(),r[96]=()=>Rc(),r[33]=()=>D()!==61?131121:D()!==61?6553951:(D(),6553953),r[61]=()=>D()===62?(D(),53):ee!==61?4194352:D()!==61?6553950:(D(),6553952),r[38]=()=>D()!==38?6291481:(D(),6553885),r[124]=()=>D()!==124?6291482:(D(),6553820),r[63]=()=>{if(D()===46){const o=Ts(j+1);return o<=48||o>=57?(D(),2162702):6291480}return ee!==63?6291480:(D(),6553755)},r[46]=()=>D()<=57&&ee>=48?Ja(!0):ee===46?D()!==46?12:(D(),13):65547,r[60]=()=>D()!==61?6554018:(D(),6554020),r[62]=()=>D()!==61?6554019:(D(),6554021),r[37]=i(6554157),r[40]=i(2688009),r[41]=i(7340048),r[42]=()=>D()===61?(D(),4194360):ee===42?(D(),6554223):6554156,r[43]=()=>D()===43?(D(),2228282):ee!==61?2490856:(D(),4194358),r[44]=i(6291475),r[45]=()=>D()===45?(D(),2228283):ee!==61?2490857:(D(),4194359),r[47]=()=>D()!==61?6554158:(D(),4194361),r[58]=i(6291478),r[59]=i(6291479),r[91]=i(2688020),r[93]=i(7340053),r[123]=i(524298),r[125]=i(7340047),{CharScanners:r,IdParts:s}})(),xt=as.createInterface,di=Object.freeze,{aliasTo:tl,singleton:Xo}=Is,Qt="Interpolation",Nc="IsFunction",$t="IsProperty",$n="custom-element",fi=di({default:0,oneTime:1,toView:2,fromView:4,twoWay:6}),nr=xt("ITemplateCompiler"),Fc=xt("IAttrMapper"),fe=(n,...e)=>{const t=String(n).padStart(4,"0"),s=wp(n,...e),i=`https://docs.aurelia.io/developer-guides/error-messages/0088-to-0723/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${i}`)},yp={88:"AttributeParser is already initialized; cannot add patterns after initialization.",89:'Attribute pattern "{{0}}" has already been registered.',99:"Method {{0}} not implemented",157:"Binding command {{0}} has already been registered.",701:'Template compilation error in element "{{0:name}}": the root <template> cannot be a local element template.',702:'Template compilation error: attribute "{{0}}" is invalid on element surrogate.',703:'Template compilation error: template controller "{{0}}" is invalid on element surrogate.',704:'Template compilation error: Invalid command "{{0:.command}}" for <let>. Only to-view/bind supported.',706:'Template compilation error: detected projection with [au-slot="{{0}}"] attempted on a non custom element {{1}}.',707:"Template compilation error: creating binding to non-bindable property {{0}} on {{1}}.",708:'Template compilation error: the custom element "{{0}}" does not have any content other than local template(s).',709:'Template compilation error: local element template needs to be defined directly under root of element "{{0}}".',710:'Template compilation error: bindable properties of local element "{{0}}" template needs to be defined directly under <template>.',711:`Template compilation error: the attribute 'property' is missing in {{0:outerHTML}} in local element "{{1}}"`,712:"Template compilation error: Bindable property and attribute needs to be unique; found property: {{0}}, attribute: {{1}}",713:'Template compilation error: unknown binding command: "{{0}}".{{0:bindingCommandHelp}}',715:'Template compilation error: the value of "as-custom-element" attribute cannot be empty for local element in element "{{0}}"',716:'Template compilation error: duplicate definition of the local template named "{{0}} in element {{1}}"',717:'Template compilation error: detected a usage of "<slot>" element without specifying shadow DOM options in element: {{0}}',718:'Spreading template controller "{{0}}" is not supported.',719:"Attribute {{0}} has been already registered for {{1:element}}",720:'Spreading syntax "...xxx" is reserved. Encountered "...{{0}}"',721:'Usage of $bindables is only allowed on custom element. Encountered: <{{0}} {{1}}="{{2}}">',722:"Invalid platform object provided to the compilation, no DOM API found.",723:"Template compilation error: Invalid comma-separated class binding syntax in {{0}}. It resulted in no valid class names after parsing.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?"},wp=(n,...e)=>{let t=yp[n];for(let s=0;s<e.length;++s){const i=new RegExp(`{{${s}(:.*)?}}`,"g");let r=i.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"nodeName":a=a.nodeName.toLowerCase();break;case"name":a=a.name;break;case"typeof":a=typeof a;break;case"ctor":a=a.constructor.name;break;case"controller":a=a.controller.name;break;case"target@property":a=`${a.target}@${a.targetProperty}`;break;case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"bindingCommandHelp":a=Cp(a);break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=String(a[o.slice(1)]):a=String(a)}t=t.slice(0,r.index)+a+t.slice(i.lastIndex),r=i.exec(t)}}return t};function Cp(n){switch(n){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}var Vc,jc,zc,Hc,Wc;class Ue{constructor(e,t,s,i,r=null){this.rawName=e,this.rawValue=t,this.target=s,this.command=i,this.parts=r}}const kp=xt("IAttributePattern"),Ap=0,Uc=1;function Kc(n){const e=new Set;for(let t=0;t<n.length;t++)e.add(n[t]);return e}function Sp(n,e){const t=[],s=Kc(e);let i=0,r=0,o=0,a=0;for(;a<n.length;){if(n.startsWith("PART",a)){t.push({kind:Ap}),r++,a+=4;continue}const c=a;for(;a<n.length&&!n.startsWith("PART",a);)a++;const l=n.slice(c,a);let u=0;for(;u<l.length;){const h=s.has(l[u]);let d=u+1;for(;d<l.length&&s.has(l[d])===h;)d++;t.push({kind:Uc,value:l.slice(u,d)}),h?o++:i++,u=d}}return{tokens:t,score:{statics:i,dynamics:r,symbols:o}}}class xp{constructor(e){this.def=e;const{tokens:t,score:s}=Sp(e.pattern,e.symbols);this._tokens=t,this._score=s,this._symbolSet=Kc(e.symbols)}_tryMatch(e){const t=[],s=this._tokens,i=this._symbolSet;let r=0,o="";for(let a=0;a<s.length;a++){const c=s[a];if(c.kind===Uc){const{value:l}=c;if(!e.startsWith(l,r))return null;for(let u=0;u<l.length;u++){const h=l[u];i.has(h)?o.length>0&&(t.push(o),o=""):o+=h}r+=l.length}else{const l=r;for(;r<e.length&&!i.has(e[r]);)r++;if(r===l)return null;o+=e.slice(l,r)}}return o.length>0&&t.push(o),r===e.length?t:null}}function $p(n,e){return n.statics!==e.statics?n.statics>e.statics:n.dynamics!==e.dynamics?n.dynamics>e.dynamics:n.symbols>e.symbols}class Ip{constructor(){this.parts=V,this._pattern=null}get pattern(){return this._pattern}set pattern(e){this._pattern=e}_set(e,t){this._pattern=e,this.parts=t}}const Ep=xt("ISyntaxInterpreter",n=>n.singleton(Tp));class Tp{constructor(){this._patterns=[],this._cache=new Map}add(e){for(const t of e)this._patterns.push(new xp(t))}interpret(e){const t=new Ip,s=this._cache.get(e);if(s!==void 0)return t._set(s.pattern,s.parts),t;let i=null,r=null;for(let o=0;o<this._patterns.length;o++){const a=this._patterns[o],c=a._tryMatch(e);c!==null&&(i===null||$p(a._score,i._score))&&(i=a,r=c)}if(i!==null){const o={pattern:i.def.pattern,parts:r};this._cache.set(e,o),t._set(o.pattern,o.parts)}else this._cache.set(e,{pattern:null,parts:V});return t}}const Yo=xt("IAttributeParser",n=>n.singleton(Pp));class Pp{constructor(){this._interpreter=$(Ep),this._container=$(ci),this._patternHandlers={},this._pendingDefs=[],this._initialized=!1}registerPattern(e,t){if(this._initialized)throw fe(88);const s=this._patternHandlers;for(const i of e){if(s[i.pattern]!=null)throw fe(89,i.pattern);s[i.pattern]={type:t}}this._pendingDefs.push(...e)}parse(e,t){this._initialized||(this._interpreter.add(this._pendingDefs),this._initialized=!0);const s=this._interpreter.interpret(e),i=s.pattern;if(i===null)return new Ue(e,t,e,null,null);const r=this._patternHandlers[i];return r.instance===void 0&&(r.instance=this._container.get(r.type)),r.instance[i](e,t,s.parts)}}const ls=di({name:Ms("attribute-pattern"),create(n,e){return{register(t){t.get(Yo).registerPattern(n,e),Xo(kp,e).register(t)}}}});class oo{"PART.PART"(e,t,s){return new Ue(e,t,s[0],s[1])}"PART.PART.PART"(e,t,s){return new Ue(e,t,`${s[0]}.${s[1]}`,s[2])}}Vc=Symbol.metadata;oo[Vc]={[St]:ls.create([{pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."}],oo)};class ao{ref(e,t,s){return new Ue(e,t,"element","ref")}"PART.ref"(e,t,s){let i=s[0];return i==="view-model"&&(i="component",console.warn(`[aurelia] Detected view-model.ref usage: "${e}=${t}". This is deprecated and component.ref should be used instead`)),new Ue(e,t,i,"ref")}}jc=Symbol.metadata;ao[jc]={[St]:ls.create([{pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."}],ao)};class lo{"PART.trigger:PART"(e,t,s){return new Ue(e,t,s[0],"trigger",s)}"PART.capture:PART"(e,t,s){return new Ue(e,t,s[0],"capture",s)}}zc=Symbol.metadata;lo[zc]={[St]:ls.create([{pattern:"PART.trigger:PART",symbols:".:"},{pattern:"PART.capture:PART",symbols:".:"}],lo)};class sl{":PART"(e,t,s){return new Ue(e,t,s[0],"bind")}}Hc=Symbol.metadata;sl[Hc]={[St]:ls.create([{pattern:":PART",symbols:":"}],sl)};class nl{"@PART"(e,t,s){return new Ue(e,t,s[0],"trigger")}"@PART:PART"(e,t,s){return new Ue(e,t,s[0],"trigger",[s[0],"trigger",...s.slice(1)])}}Wc=Symbol.metadata;nl[Wc]={[St]:ls.create([{pattern:"@PART",symbols:"@"},{pattern:"@PART:PART",symbols:"@:"}],nl)};const co=At.get,il=At.define,ea=0,uo=1,ta=2,Qc=3,In=10,bs=11,Ds=12,rl=13,Gc=14,qc=15,Bp=16,Zc=30,sa=31,ir=32,Lp=33,ho=34,fo=35,po=36,Ni=50,go=51,Fi=52,yn=xt("Instruction");class Vi{constructor(e,t,s,i){this.Type=e,this.name=t,this.aliases=s,this.key=i}static create(e,t){let s,i;return U(e)?(s=e,i={name:s}):(s=e.name,i=e),new Vi(t,Zt(mo(t,"name"),s),ve(mo(t,"aliases"),i.aliases,t.aliases),nn(s))}register(e,t){const s=this.Type,i=typeof t=="string"?nn(t):this.key,r=this.aliases;e.has(i,!1)?console.warn(`[DEV:aurelia] ${fe(157,this.name)}`):e.register(e.has(s,!1)?null:Xo(s,s),tl(s,i),...r.map(o=>tl(s,nn(o))))}}const Ee="binding-command",Ti=Ms(Ee),nn=n=>`${Ti}:${n}`,mo=(n,e)=>co(dc.annotation.keyFor(e),n),Rp=(()=>{const n="__au_static_resource__",e=(t,s,i)=>{let r=co(n,t);return r==null&&t.$au?.type===s&&(r=i(t.$au,t),il(r,t,n)),r};return di({name:Ti,keyFrom:nn,define(t,s){const i=Vi.create(t,s),r=i.Type;return il(i,r,Ti,bt),r},getAnnotation:mo,find(t,s){const i=t.find(Ee,s);return i==null?null:co(Ti,i)??e(i,Ee,Vi.create)??null},get(t,s){try{return t.get(ln(nn(s)))}catch(i){throw console.log(`


[DEV:aurelia] Cannot retrieve binding command with name




`,s),i}return t.get(ln(nn(s)))}})})();class Jc{get ignoreAttr(){return!1}build(e,t,s){let r=e.attr.target,o=e.attr.rawValue;return o=o===""?Ie(r):o,e.bindable==null?r=s.map(e.node,r)??Ie(r):r=e.bindable.name,{type:Ds,from:t.parse(o,$t),to:r,mode:1}}}Jc.$au={type:Ee,name:"one-time"};class Xc{get ignoreAttr(){return!1}build(e,t,s){let r=e.attr.target,o=e.attr.rawValue;return o=o===""?Ie(r):o,e.bindable==null?r=s.map(e.node,r)??Ie(r):r=e.bindable.name,{type:Ds,from:t.parse(o,$t),to:r,mode:2}}}Xc.$au={type:Ee,name:"to-view"};class Yc{get ignoreAttr(){return!1}build(e,t,s){const i=e.attr;let r=i.target,o=i.rawValue;return o=o===""?Ie(r):o,e.bindable==null?r=s.map(e.node,r)??Ie(r):r=e.bindable.name,{type:Ds,from:t.parse(o,$t),to:r,mode:4}}}Yc.$au={type:Ee,name:"from-view"};class eu{get ignoreAttr(){return!1}build(e,t,s){const i=e.attr;let r=i.target,o=i.rawValue;return o=o===""?Ie(r):o,e.bindable==null?r=s.map(e.node,r)??Ie(r):r=e.bindable.name,{type:Ds,from:t.parse(o,$t),to:r,mode:6}}}eu.$au={type:Ee,name:"two-way"};class tu{get ignoreAttr(){return!1}build(e,t,s){const i=e.attr,r=e.bindable;let o=i.rawValue,a=i.target,c;return o=o===""?Ie(a):o,r==null?(c=s.isTwoWay(e.node,a)?6:2,a=s.map(e.node,a)??Ie(a)):(c=r.mode===0||r.mode==null?2:r.mode,a=r.name),{type:Ds,from:t.parse(o,$t),to:a,mode:U(c)?fi[c]??0:c}}}tu.$au={type:Ee,name:"bind"};class su{constructor(){this._attrParser=$(Yo)}get ignoreAttr(){return!1}build(e,t){const s=e.bindable===null?Ie(e.attr.target):e.bindable.name,i=t.parse(e.attr.rawValue,"IsIterator");let r=V;if(i.semiIdx>-1){const a=e.attr.rawValue.slice(i.semiIdx+1).split(";"),c=[];for(let l=0,u=a.length;l<u;l++){const h=a[l],d=h.indexOf(":");if(d>-1){const p=h.slice(0,d).trim(),f=h.slice(d+1).trim(),g=this._attrParser.parse(p,f);c.push({type:Bp,value:f,to:g.target,command:g.command})}}r=c}return{type:qc,forOf:i,to:s,props:r}}}su.$au={type:Ee,name:"for"};class nu{get ignoreAttr(){return!0}build(e,t){return{type:sa,from:t.parse(e.attr.rawValue,Nc),to:e.attr.target,capture:!1,modifier:e.attr.parts?.[2]??null}}}nu.$au={type:Ee,name:"trigger"};class iu{get ignoreAttr(){return!0}build(e,t){return{type:sa,from:t.parse(e.attr.rawValue,Nc),to:e.attr.target,capture:!0,modifier:e.attr.parts?.[2]??null}}}iu.$au={type:Ee,name:"capture"};class ru{get ignoreAttr(){return!0}build(e,t){const s=e.attr,i=s.target;let r=s.rawValue;return r=r===""?Ie(i):r,{type:ir,attr:i,from:t.parse(r,$t),to:i}}}ru.$au={type:Ee,name:"attr"};class ou{get ignoreAttr(){return!0}build(e,t){return{type:ir,attr:"style",from:t.parse(e.attr.rawValue,$t),to:e.attr.target}}}ou.$au={type:Ee,name:"style"};class au{get ignoreAttr(){return!0}build(e,t){let s=e.attr.target;if(s.includes(",")){const i=s.split(",").filter(r=>r.length>0);if(i.length===0)throw fe(723);s=i.join(" ")}return{type:ir,attr:"class",from:t.parse(e.attr.rawValue,$t),to:s}}}au.$au={type:Ee,name:"class"};class lu{get ignoreAttr(){return!0}build(e,t){return{type:Gc,from:t.parse(e.attr.rawValue,$t),to:e.attr.target}}}lu.$au={type:Ee,name:"ref"};class cu{get ignoreAttr(){return!1}build(e){return{type:Fi,target:e.attr.target,from:e.attr.rawValue}}}cu.$au={type:Ee,name:"spread"};const Op=xt("ITemplateElementFactory",n=>n.singleton(Mp)),ol={};class Mp{constructor(){this.p=$(_n),this._template=this.t()}t(){return this.p.document.createElement("template")}createTemplate(e){if(U(e)){let s=ol[e];if(s===void 0){const i=this._template;i.innerHTML=e;const r=i.content.firstElementChild;t(r)?(this._template=this.t(),s=i):(i.content.removeChild(r),s=r),ol[e]=s}return s.cloneNode(!0)}if(e.nodeName!=="TEMPLATE"){const s=this.t();return s.content.appendChild(e),s}return e.parentNode?.removeChild(e),e.cloneNode(!0);function t(s){if(s==null||s.nodeName!=="TEMPLATE"||s.nextElementSibling!=null)return!0;const r=s.previousSibling;if(r!=null&&r.nodeType===3)return r.textContent.trim().length>0;const o=s.nextSibling;return o!=null&&o.nodeType===3?o.textContent.trim().length>0:!1}}}const al="au-start",ll="au-end",Lr=(n,e,t)=>n.insertBefore(e,t),cl=(n,e,t)=>{if(n===null)return;const s=t.length;let i=0;for(;s>i;)n.insertBefore(t[i],e),++i},_i=(n,e)=>n.content.appendChild(e),Dp=(n,e)=>{const t=e.length;let s=0;for(;t>s;)n.content.appendChild(e[s]),++s},Np=n=>n.nodeType===1,Fp=n=>n.nodeType===3,Rr="au-slot",Vp="default",yi=(n=>()=>`anonymous-${++n}`)(0);class uu{constructor(){this.debug=!1,this.resolveResources=!0}compile(e,t){if(e.template==null||e.needsCompile===!1)return e;const s=new ji(e,t,null,null,void 0),i=U(e.template)||!e.enhance?s._templateFactory.createTemplate(e.template):e.template,r=i.nodeName===wi&&i.content!=null,o=r?i.content:i,a=Gp.findAll(t),c=a.length;let l=0;if(c>0)for(;c>l;)a[l].compiling?.(i),++l;if(i.hasAttribute(vo))throw fe(701,e);return this._compileLocalElement(o,s),this._compileNode(o,s),{...e,name:e.name||yi(),dependencies:(e.dependencies??V).concat(s.deps??V),instructions:s.rows,surrogates:r?this._compileSurrogate(i,s):V,template:i,hasSlots:s.hasSlot,needsCompile:!1}}compileSpread(e,t,s,i,r){const o=new ji(e,s,null,null,void 0),a=[],c=r??o._findElement(i.nodeName.toLowerCase()),l=c!==null,u=o._exprParser,h=t.length;let d=0,p,f=null,g,m,_,w,P=null,A,C,I;for(;h>d;++d){if(p=t[d],C=p.target,I=p.rawValue,C==="...$attrs"){a.push({type:Ni});continue}if(P=o._getCommand(p),P!==null&&P.ignoreAttr){a.push(P.build({node:i,attr:p,bindable:null,def:null},o._exprParser,o._attrMapper));continue}if(l&&(_=o._getBindables(c),w=_.attrs[C],w!==void 0)){P==null?(A=u.parse(I,Qt),a.push({type:go,instruction:A==null?{type:In,value:I,to:w.name}:{type:bs,from:A,to:w.name}})):a.push({type:go,instruction:P.build({node:i,attr:p,bindable:w,def:c},o._exprParser,o._attrMapper)});continue}if(f=o._findAttr(C),f!==null){if(f.isTemplateController)throw fe(9998,C);m=this._compileCustomAttributeBindables(i,f,p,I,P,o,!1),(g??=[]).push({type:uo,res:this.resolveResources?f:f.name,alias:f.aliases!=null&&f.aliases.includes(C)?C:void 0,props:m});continue}if(P==null)if(A=u.parse(I,Qt),A!=null)a.push({type:bs,from:A,to:o._attrMapper.map(i,C)??Ie(C)});else switch(C){case"class":a.push({type:fo,value:I});break;case"style":a.push({type:po,value:I});break;default:a.push({type:ho,value:I,to:C})}else a.push(P.build({node:i,attr:p,bindable:null,def:null},o._exprParser,o._attrMapper))}return g!=null?g.concat(a):a}_compileSurrogate(e,t){const s=e.attributes;for(let a=0,c=s.length;a<c;++a){const l=t._attrParser.parse(s[a].name,s[a].value);if(Wp[l.target])throw fe(702,s[a].name)}const{tcInstructions:i,attrInstructions:r,plainAttrInstructions:o}=this._classifyAttributes(e,null,V,t,!0);if(i!=null&&i.length>0){const a=i[0].res,c=typeof a=="string"?a:a.name;throw fe(703,c)}return r!=null?r.concat(o??V):o??V}_compileNode(e,t){switch(e.nodeType){case 1:return e.nodeName==="LET"?this._compileLet(e,t):this._compileElement(e,t);case 3:return this._compileText(e,t);case 11:{let s=e.firstChild;for(;s!==null;)s=this._compileNode(s,t);break}}return e.nextSibling}_compileLet(e,t){const s=e.attributes,i=s.length,r=[],o=t._exprParser;let a=!1,c=0,l,u,h,d,p,f,g,m;for(;i>c;++c){if(l=s[c],h=l.name,d=l.value,h==="to-binding-context"){a=!0;continue}if(u=t._attrParser.parse(h,d),f=u.target,g=u.rawValue,p=t._getCommand(u),p!==null){if(u.command==="bind")r.push({type:rl,from:o.parse(g,$t),to:Ie(f)});else throw fe(704,u);continue}m=o.parse(g,Qt),m===null&&console.warn(`[DEV:aurelia] Property "${f}" is declared with literal string ${g}. Did you mean ${f}.bind="${g}"?`),r.push({type:rl,from:m===null?Go(g):m,to:Ie(f)})}return t.rows.push([{type:Qc,instructions:r,toBindingContext:a}]),this._markAsTarget(e,t).nextSibling}_compileElement(e,t){const s=e.nextSibling,i=(e.getAttribute("as-element")??e.nodeName).toLowerCase(),r=t._findElement(i),o=r!==null,a=o&&r.shadowOptions!=null,c=r?.capture?[]:V;if(i==="slot"){if(t.root.def.shadowOptions==null)throw fe(717,t.root.def.name);t.root.hasSlot=!0}let l=!0;const u={};o&&(l=r.processContent?.call(r.Type,e,t.p,u));const{tcInstructions:h,attrInstructions:d,elBindableInstructions:p,plainAttrInstructions:f,hasContainerless:g}=this._classifyAttributes(e,r,c,t);this._shouldReorderAttrs(e,f)&&f!=null&&f.length>1&&this._reorder(e,f);let m;o&&(m={type:ea,res:this.resolveResources?r:r.name,props:p??V,projections:null,containerless:g,captures:c,data:u});let _,w=!1;if((f!=null||m!=null||d!=null)&&(_=V.concat(m??V,d??V,f??V),w=!0),h!=null){let A=h.length-1,C=h[A];this._replaceByMarker(e,t);let I;e.nodeName===wi?I=e:(I=t.t(),_i(I,e));const R=I,L=t._createChild(_==null?[]:[_]);if(l!==!1){const X=this._extractProjections(e,o,a,i,t);X!=null&&(m.projections=X)}if(w&&(o&&(g||r.containerless)?this._replaceByMarker(e,L):this._markAsTarget(e,L)),!o||!r.containerless&&!g&&l!==!1)if(e.nodeName===wi)this._compileNode(e.content,L);else{let X=e.firstChild;for(;X!==null;)X=this._compileNode(X,L)}for(C.def={name:yi(),type:$n,template:R,instructions:L.rows,needsCompile:!1};A-- >0;)C=h[A],I=t.t(),Dp(I,[t._marker(),t._comment(al),t._comment(ll)]),C.def={name:yi(),type:$n,template:I,needsCompile:!1,instructions:[[h[A+1]]]};t.rows.push([C])}else{if(_!=null&&t.rows.push(_),l!==!1){const A=this._extractProjections(e,o,a,i,t);A!=null&&(m.projections=A)}if(w&&(o&&(g||r.containerless)?this._replaceByMarker(e,t):this._markAsTarget(e,t)),(!o||!r.containerless&&!g&&l!==!1)&&e.childNodes.length>0){let A=e.firstChild;for(;A!==null;)A=this._compileNode(A,t)}}return s}_classifyAttributes(e,t,s,i,r=!1){const o=t!==null,a=t?.capture,c=a!=null&&typeof a!="boolean",l=i._exprParser,u=e.attributes;let h=u.length,d=0,p,f,g,m,_=null,w,P,A,C,I,R,L=null,M,X,De,he,Ae=!1,Se=!1,re=0;const de=this.debug?st:()=>{e.removeAttribute(f),--d,--h};for(;h>d;++d){switch(p=u[d],f=p.name,g=p.value,f){case"as-element":case"containerless":de(),Ae=Ae||f==="containerless";continue}if(m=i._attrParser.parse(f,g),_=i._getCommand(m),w=m.target,P=m.rawValue,a&&(!c||c&&a(w))){if(_!=null&&_.ignoreAttr){de(),s.push(m);continue}if(Se=w!==Rr&&w!=="slot"&&((re=w.indexOf("..."))===-1||re===0&&w==="...$attrs"),Se&&(De=i._getBindables(t),De.attrs[w]==null&&!i._findAttr(w)?.isTemplateController)){de(),s.push(m);continue}}if(w==="...$attrs"){(R??=[]).push({type:Ni}),de();continue}if(_?.ignoreAttr){(R??=[]).push(_.build({node:e,attr:m,bindable:null,def:null},i._exprParser,i._attrMapper)),de();continue}if(w.indexOf("...")===0){if(o&&(w=w.slice(3))!=="$element"){(I??=[]).push({type:Fi,target:"$bindables",from:w==="$bindables"?P:w}),de();continue}throw(w==="$bindable"||w==="bindables")&&console.warn(`[DEV:aurelia] Detected usage of ${w} on <${e.nodeName}>, did you mean "$bindables"?`),fe(720,w)}if(o){if(De=i._getBindables(t),M=De.attrs[w],M!==void 0){_===null?(he=l.parse(P,Qt),(I??=[]).push(he==null?{type:In,value:P,to:M.name}:{type:bs,from:he,to:M.name})):(I??=[]).push(_.build({node:e,attr:m,bindable:M,def:t},i._exprParser,i._attrMapper)),de(),L=i._findAttr(w),L!==null&&console.warn(`[DEV:aurelia] Binding with bindable "${w}" on custom element "${t.name}" is ambiguous.There is a custom attribute with the same name.`);continue}if(w==="$bindables"){if(_!=null){const E=_.build({node:e,attr:m,bindable:null,def:null},i._exprParser,i._attrMapper);E.type!==Fi&&console.warn(`[DEV:aurelia] Binding with "$bindables" on custom element "${t.name}" with command ${m.command}  did not result in a spread binding instruction. This likely won't work as expected.`),(I??=[]).push(E)}else console.warn(`[DEV:aurelia] Usage of "$bindables" on custom element "<${t.name}>" is ignored.`);de();continue}}if(w==="$bindables")throw fe(721,e.nodeName,w,P);if(L=i._findAttr(w),L!==null){X=this._compileCustomAttributeBindables(e,L,m,P,_,i,!0),de(),L.isTemplateController?(A??=[]).push({type:ta,def:Hp,res:this.resolveResources?L:L.name,alias:void 0,props:X}):(C??=[]).push({type:uo,res:this.resolveResources?L:L.name,alias:L.aliases!=null&&L.aliases.includes(w)?w:void 0,props:X});continue}if(_===null){if(he=l.parse(P,Qt),he!=null)de(),(R??=[]).push({type:bs,from:he,to:i._attrMapper.map(e,w)??Ie(w)});else if(r)switch(f){case"class":(R??=[]).push({type:fo,value:P});break;case"style":(R??=[]).push({type:po,value:P});break;default:(R??=[]).push({type:ho,value:P,to:f})}continue}(R??=[]).push(_.build({node:e,attr:m,bindable:null,def:null},i._exprParser,i._attrMapper)),de()}return{tcInstructions:A,attrInstructions:C,elBindableInstructions:I,plainAttrInstructions:R,hasContainerless:Ae}}_compileText(e,t){const s=e.parentNode,i=t._exprParser.parse(e.textContent,Qt),r=e.nextSibling;let o,a,c,l,u;if(i!==null){for({parts:o,expressions:a}=i,(u=o[0])&&Lr(s,t._text(u),e),c=0,l=a.length;l>c;++c)cl(s,e,[t._marker(),t._text(" ")]),(u=o[c+1])&&Lr(s,t._text(u),e),t.rows.push([{type:Zc,from:a[c]}]);s.removeChild(e)}return r}_compileMultiBindings(e,t,s,i){const r=i._getBindables(s),o=t.length,a=[];let c,l,u=0,h=0,d,p,f,g;for(let m=0;m<o;++m)if(h=t.charCodeAt(m),h===92)++m;else if(h===58){for(c=t.slice(u,m);t.charCodeAt(++m)<=32;);for(u=m;m<o;++m)if(h=t.charCodeAt(m),h===92)++m;else if(h===59){l=t.slice(u,m);break}if(l===void 0&&(l=t.slice(u)),p=i._attrParser.parse(c,l),f=i._getCommand(p),g=r.attrs[p.target],g==null)throw fe(707,p.target,s.name);for(f===null?(d=i._exprParser.parse(l,Qt),a.push(d===null?{type:In,value:l,to:g.name}:{type:bs,from:d,to:g.name})):a.push(f.build({node:e,attr:p,bindable:g,def:s},i._exprParser,i._attrMapper));m<o&&t.charCodeAt(++m)<=32;);u=m,c=void 0,l=void 0}return a}_compileLocalElement(e,t){const s=t.root.def.name,i=e,r=xr(i.querySelectorAll("template[as-custom-element]")),o=r.length;if(o===0)return;if(o===i.childElementCount)throw fe(708,s);const a=new Set,c=[];for(const u of r){if(u.parentNode!==i)throw fe(709,s);const h=Qp(s,u,a),d=u.content,p=xr(d.querySelectorAll("bindable")),f=new Set,g=new Set,m=p.reduce((w,P)=>{if(P.parentNode!==d)throw fe(710,h);const A=P.getAttribute("name");if(A===null)throw fe(711,P,h);const C=P.getAttribute("attribute");if(C!==null&&g.has(C)||f.has(A))throw fe(712,f,C);C!==null&&g.add(C),f.add(A);const I=xr(P.attributes).filter(R=>!ul.includes(R.name));return I.length>0&&console.warn(`[DEV:aurelia] The attribute(s) ${I.map(R=>R.name).join(", ")} will be ignored for ${P.outerHTML}. Only ${ul.join(", ")} are processed.`),P.remove(),w[A]={name:A,attribute:C??void 0,mode:P.getAttribute("mode")??"default"},w},{});class _{}_.$au={type:$n,name:h,template:u,bindables:m},Reflect.defineProperty(_,"name",{value:cc(h)}),c.push(_),i.removeChild(u)}const l=(t.root.def.dependencies??[]).concat(t.root.def.Type==null?V:[t.root.def.Type]);for(const u of c)u.dependencies=l.concat(c.filter(h=>h!==u)),t._addLocalDep(u)}_shouldReorderAttrs(e,t){const s=e.nodeName;return s==="INPUT"&&Up[e.type]===1||s==="SELECT"&&(e.hasAttribute("multiple")||t?.some(i=>i.type===Ds&&i.to==="multiple"))}_reorder(e,t){switch(e.nodeName){case"INPUT":{const s=t;let i,r,o=0,a;for(let c=0;c<s.length&&o<3;c++)switch(a=s[c],a.to){case"model":case"value":case"matcher":i=c,o++;break;case"checked":r=c,o++;break}r!==void 0&&i!==void 0&&r<i&&([s[i],s[r]]=[s[r],s[i]]);break}case"SELECT":{const s=t;let i=0,r=0,o=0,a;for(let c=0;c<s.length&&o<2;++c){switch(a=s[c],a.to){case"multiple":r=c,o++;break;case"value":i=c,o++;break}o===2&&i<r&&([s[r],s[i]]=[s[i],s[r]])}}}}_markAsTarget(e,t){return Lr(e.parentNode,t._marker(),e),e}_replaceByMarker(e,t){if(jp(e))return e;const s=e.parentNode,i=t._marker();return cl(s,e,[i,t._comment(al),t._comment(ll)]),s.removeChild(e),i}_compileCustomAttributeBindables(e,t,s,i,r,o,a){const c=o._getBindables(t);if(t.noMultiBindings===!1&&r===null&&zp(i))return this._compileMultiBindings(e,i,t,o);const u=c.primary;if(r===null){const h=o._exprParser.parse(i,Qt);return h===null?a&&i===""?[]:[{type:In,value:i,to:u.name}]:[{type:bs,from:h,to:u.name}]}return[r.build({node:e,attr:s,bindable:u,def:t},o._exprParser,o._attrMapper)]}_extractProjections(e,t,s,i,r){let o=e.firstChild,a,c,l,u,h;for(;o!==null;){if(c=Np(o)?o.getAttribute(Rr):null,l=c!==null||t&&!s,a=o.nextSibling,l){if(!t)throw fe(706,c,i);o.removeAttribute?.(Rr),h=Fp(o)&&o.textContent.trim()==="",h||((u??={})[c||Vp]??=[]).push(o),e.removeChild(o)}o=a}if(u==null)return null;const d={};let p,f,g,m;for(c in u){p=r.t(),f=u[c];for(let _=0,w=f.length;w>_;++_)g=f[_],g.nodeName===wi?g.attributes.length>0?_i(p,g):_i(p,g.content):_i(p,g);m=r._createChild(),this._compileNode(p.content,m),d[c]={name:yi(),type:$n,template:p,instructions:m.rows,needsCompile:!1}}return d}}uu.register=li(nr);const wi="TEMPLATE",jp=n=>n.nodeType===8&&n.textContent==="au";class ji{constructor(e,t,s,i,r){this.hasSlot=!1,this.deps=null;const o=s!==null;if(this.c=t,this.root=i===null?this:i,this.def=e,this.parent=s,this._resourceResolver=o?s._resourceResolver:t.get(hu),this._commandResolver=o?s._commandResolver:t.get(Kp),this._templateFactory=o?s._templateFactory:t.get(Op),this._attrParser=o?s._attrParser:t.get(Yo),this._exprParser=o?s._exprParser:t.get(ss),this._attrMapper=o?s._attrMapper:t.get(Fc),this._logger=o?s._logger:t.get(cn),typeof(this.p=o?s.p:t.get(_n)).document?.nodeType!="number")throw fe(722);this.localEls=o?s.localEls:new Set,this.rows=r??[]}_addLocalDep(e){return(this.root.deps??=[]).push(e),this.root.c.register(e),this}_text(e){return this.p.document.createTextNode(e)}_comment(e){return this.p.document.createComment(e)}_marker(){return this._comment("au")}h(e){const t=this.p.document.createElement(e);return e==="template"&&this.p.document.adoptNode(t.content),t}t(){return this.h("template")}_findElement(e){return this._resourceResolver.el(this.c,e)}_findAttr(e){return this._resourceResolver.attr(this.c,e)}_getBindables(e){return this._resourceResolver.bindables(e)}_createChild(e){return new ji(this.def,this.c,this,this.root,e)}_getCommand(e){const t=e.command;return t===null?null:this._commandResolver.get(this.c,t)}}const zp=n=>{const e=n.length;let t=0,s=0;for(;e>s;){if(t=n.charCodeAt(s),t===92)++s;else{if(t===58)return!0;if(t===36&&n.charCodeAt(s+1)===123)return!1}++s}return!1},Hp={name:"unnamed",type:$n},Wp={id:!0,name:!0,"au-slot":!0,"as-element":!0},Up={checkbox:1,radio:1},hu=xt("IResourceResolver"),Kp=xt("IBindingCommandResolver",n=>{class e{constructor(){this._cache=new WeakMap}get(s,i){let r=this._cache.get(s);return r||this._cache.set(s,r={}),i in r?r[i]:r[i]=Rp.get(s,i)}}return n.singleton(e)}),ul=di(["name","attribute","mode"]),vo="as-custom-element",Qp=(n,e,t)=>{const s=e.getAttribute(vo);if(s===null||s==="")throw fe(715,n);if(t.has(s))throw fe(716,s,n);return t.add(s),e.removeAttribute(vo),s},hl=xt("ITemplateCompilerHooks"),Gp=di({name:Ms("compiler-hooks"),define(n){return{register(e){Xo(hl,n).register(e)}}},findAll(n){return n.get(Fd(hl))}}),Or=new Map,qp=n=>new Error(n),dl=n=>()=>{throw qp(`AUR1005: The PLATFORM did not receive a valid reference to the global function '${n}'.

For more information, see: https://docs.aurelia.io/developer-guides/error-messages/platform/aur1005`)};class Ps{constructor(e,t={}){this.globalThis=e,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach(s=>{this[s]=s in t?t[s]:e[s]}),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach(s=>{this[s]=s in t?t[s]:e[s]?.bind(e)??dl(s)}),this.performanceNow="performanceNow"in t?t.performanceNow:e.performance?.now?.bind(e.performance)??dl("performance.now")}static getOrCreate(e,t={}){let s=Or.get(e);return s===void 0&&Or.set(e,s=new Ps(e,t)),s}static set(e,t){Or.set(e,t)}}const Zp=Object.prototype.hasOwnProperty,ns=Reflect.defineProperty;function Ns(n,e,t){return ns(n,e,{configurable:!0,writable:!0,value:t}),t}function Ot(n,e,t){e in n||Ns(n,e,t)}const du=Object.assign,na=Object.freeze,fl=Object.getPrototypeOf,pl=Object.getOwnPropertyDescriptor,un=String,ia=as.createInterface,Jp=At.get,Xp=At.define,N=(n,...e)=>{const t=un(n).padStart(4,"0"),s=eg(n,...e),r=`https://docs.aurelia.io/developer-guides/error-messages/${n>=101&&n<=116?"runtime-html":n>=151&&n<=179?"0151-to-0179":"0203-to-0227"}/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${r}`)},Yp={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`,199:"Trying to observe property {{0}} on null/undefined",200:'Trying to observe expression "{{0}}" but there is no expression parser available',203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",206:"Trying to switch to a null/undefined connectable",207:"Trying to enter an active connectable",208:"Trying to pop a null/undefined connectable",209:"Trying to exit an inactive connectable",210:"Unrecognised collection type {{0:toString}}.",217:"There is no registration for IDirtyChecker interface. If you want to use your own dirty checker, make sure you register it.",218:"Dirty checked is not permitted in this application. Property key {{0}} is being dirty checked.",219:"Trying to set value for property {{0}} in dirty checker",220:'Map/Set "size" is a readonly property',221:'Trying to assign value to readonly property "{{0}}" through computed observer.',224:"Invalid @observable decorator usage, cannot determine property name",225:"Trying to stop an effect that has already been stopped",226:"Maximum number of recursive effect run reached. Consider handle effect dependencies differently.",227:"Side-effect detected in computed getter '{{0}}': mutation during evaluation caused self-dirtying. This can lead to infinite recursion. Use non-mutating operations (e.g., spread syntax) or move side effects outside the getter.",228:'@computed decorator can only be used on a getter, "{{0}}" is not a getter.'},eg=(n,...e)=>{let t=Yp[n];for(let s=0;s<e.length;++s){const i=new RegExp(`{{${s}(:.*)?}}`,"g");let r=i.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"typeof":a=typeof a;break;case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=un(a[o.slice(1)]):a=un(a)}t=t.slice(0,r.index)+a+t.slice(i.lastIndex),r=i.exec(t)}}return t};class ce{constructor(e,t,s,i){this.parent=e,this.bindingContext=t,this.overrideContext=s,this.isBoundary=i}static getContext(e,t,s){if(e==null)throw N(203);let i=e.overrideContext,r=e;if(s>0){for(;s>0;)if(s--,r=r.parent,r==null)return;return i=r.overrideContext,t in i?i:r.bindingContext}for(;r!=null&&!r.isBoundary&&!(t in r.overrideContext)&&!(t in r.bindingContext);)r=r.parent;return r==null?e.bindingContext:(i=r.overrideContext,t in i?i:r.bindingContext)}static create(e,t,s){if(e==null)throw N(204);return new ce(null,e,t??new ml,s??!1)}static fromParent(e,t,s=new ml){if(e==null)throw N(203);return new ce(e,t,s,!1)}}class gl{constructor(e,t){e!==void 0&&(this[e]=t)}}class ml{}const{astAssign:hn,astEvaluate:ie,astBind:cs,astUnbind:us}=(()=>{const n="AccessThis",e="AccessBoundary",t="AccessGlobal",s="AccessScope",i="ArrayLiteral",r="ObjectLiteral",o="PrimitiveLiteral",c="Template",l="Unary",u="CallScope",h="CallMember",d="CallFunction",p="CallGlobal",f="AccessMember",g="AccessKeyed",m="TaggedTemplate",_="Binary",w="Conditional",P="Assign",A="ArrowFunction",C="ValueConverter",I="BindingBehavior",R="ArrayBindingPattern",L="ObjectBindingPattern",M="BindingIdentifier",X="ForOfStatement",De="Interpolation",he="ArrayDestructuring",Ae="ObjectDestructuring",Se="DestructuringAssignmentLeaf",re="Custom",de=ce.getContext;function E(v,k,y,x){switch(v.$kind){case n:{let b=k.overrideContext,S=k,J=v.ancestor;for(;J--&&b;)S=S.parent,b=S?.overrideContext??null;return J<1&&S?S.bindingContext:void 0}case e:{let b=k;for(;b!=null&&!b.isBoundary;)b=b.parent;return b?b.bindingContext:void 0}case s:{const b=de(k,v.name,v.ancestor);x!==null&&x.observe(b,v.name);const S=b[v.name];if(S==null){if(v.name==="$host")throw N(105);return S}return y?.boundFn&&K(S)?S.bind(b):S}case t:return globalThis[v.name];case p:{const b=globalThis[v.name];if(K(b))return b(...v.args.map(S=>E(S,k,y,x)));if(!y?.strict&&b==null)return;throw N(107)}case i:return v.elements.map(b=>E(b,k,y,x));case r:{const b={};for(let S=0;S<v.keys.length;++S)b[v.keys[S]]=E(v.values[S],k,y,x);return b}case o:return v.value;case"New":{const b=E(v.func,k,y,x);if(K(b))return new b(...v.args.map(S=>E(S,k,y,x)));throw N(107)}case c:{let b=v.cooked[0];for(let S=0;S<v.expressions.length;++S)b+=un(E(v.expressions[S],k,y,x)),b+=v.cooked[S+1];return b}case l:{const b=E(v.expression,k,y,x);switch(v.operation){case"void":return;case"typeof":return typeof b;case"!":return!b;case"-":return-b;case"+":return+b;case"--":if(x!=null)throw N(113);return z(v.expression,k,y,x,b-1)+v.pos;case"++":if(x!=null)throw N(113);return z(v.expression,k,y,x,b+1)-v.pos;default:throw N(109,v.operation)}}case u:{const b=de(k,v.name,v.ancestor);if(b==null){if(y?.strict)throw N(114,v.name,b);return}const S=b[v.name];if(K(S))return S.apply(b,v.args.map(J=>E(J,k,y,x)));if(S==null){if(y?.strict&&!v.optional)throw N(111,v.name);return}throw N(111,v.name)}case h:{const b=E(v.object,k,y,x);if(b==null&&y?.strict&&!v.optionalMember)throw N(114,v.name,b);const S=b?.[v.name];if(S==null){if(!v.optionalCall&&y?.strict)throw N(111,v.name);return}if(!K(S))throw N(111,v.name);const J=S.apply(b,v.args.map(ot=>E(ot,k,y,x)));return ue(b)&&gs.includes(v.name)&&x?.observeCollection(b),J}case d:{const b=E(v.func,k,y,x);if(K(b))return b(...v.args.map(S=>E(S,k,y,x)));if(b==null){if(!v.optional&&y?.strict)throw N(107);return}throw N(107)}case A:return(...S)=>{const J=v.args,ot=v.rest,Ge=J.length-1,ms=J.reduce((Ar,Fa,Sr)=>(ot&&Sr===Ge?Ar[Fa.name]=S.slice(Sr):Ar[Fa.name]=S[Sr],Ar),{}),ad=ce.fromParent(k,ms);return E(v.body,ad,y,x)};case f:{const b=E(v.object,k,y,x);if(b==null){if(!v.optional&&y?.strict)throw N(114,v.name,b);return}x!==null&&!v.accessGlobal&&x.observe(b,v.name);const S=b[v.name];return y?.boundFn&&K(S)?S.bind(b):S}case g:{const b=E(v.object,k,y,x),S=E(v.key,k,y,x);if(b==null){if(!v.optional&&y?.strict)throw N(115,S,b);return}return x!==null&&!v.accessGlobal&&x.observe(b,S),b[S]}case m:{const b=v.expressions.map(J=>E(J,k,y,x)),S=E(v.func,k,y,x);if(!K(S))throw N(110);return S(v.cooked,...b)}case _:{const b=v.left,S=v.right;switch(v.operation){case"&&":return E(b,k,y,x)&&E(S,k,y,x);case"||":return E(b,k,y,x)||E(S,k,y,x);case"??":return E(b,k,y,x)??E(S,k,y,x);case"==":return E(b,k,y,x)==E(S,k,y,x);case"===":return E(b,k,y,x)===E(S,k,y,x);case"!=":return E(b,k,y,x)!=E(S,k,y,x);case"!==":return E(b,k,y,x)!==E(S,k,y,x);case"instanceof":{const J=E(S,k,y,x);return K(J)?E(b,k,y,x)instanceof J:!1}case"in":{const J=E(S,k,y,x);return Li(J)?E(b,k,y,x)in J:!1}case"+":return E(b,k,y,x)+E(S,k,y,x);case"-":return E(b,k,y,x)-E(S,k,y,x);case"*":return E(b,k,y,x)*E(S,k,y,x);case"/":return E(b,k,y,x)/E(S,k,y,x);case"%":return E(b,k,y,x)%E(S,k,y,x);case"**":return E(b,k,y,x)**E(S,k,y,x);case"<":return E(b,k,y,x)<E(S,k,y,x);case">":return E(b,k,y,x)>E(S,k,y,x);case"<=":return E(b,k,y,x)<=E(S,k,y,x);case">=":return E(b,k,y,x)>=E(S,k,y,x);default:throw N(108,v.operation)}}case w:return E(v.condition,k,y,x)?E(v.yes,k,y,x):E(v.no,k,y,x);case P:{let b=E(v.value,k,y,x);if(v.op!=="="){if(x!=null)throw N(113);const S=E(v.target,k,y,x);switch(v.op){case"/=":b=S/b;break;case"*=":b=S*b;break;case"+=":b=S+b;break;case"-=":b=S-b;break;default:throw N(108,v.op)}}return z(v.target,k,y,x,b)}case C:return y?.useConverter?.(v.name,"toView",E(v.expression,k,y,x),v.args.map(b=>E(b,k,y,x)));case I:return E(v.expression,k,y,x);case M:return v.name;case X:return E(v.iterable,k,y,x);case De:if(v.isMulti){let b=v.parts[0],S=0;for(;S<v.expressions.length;++S)b+=un(E(v.expressions[S],k,y,x)),b+=v.parts[S+1];return b}else return`${v.parts[0]}${E(v.firstExpression,k,y,x)}${v.parts[1]}`;case Se:return E(v.target,k,y,x);case he:return v.list.map(b=>E(b,k,y,x));case R:case L:case Ae:default:return;case re:return v.evaluate(k,y,x)}}function z(v,k,y,x,b){switch(v.$kind){case s:{if(v.name==="$host")throw N(106);const S=de(k,v.name,v.ancestor);return S[v.name]=b}case f:{const S=E(v.object,k,y,x);if(S==null){if(y?.strict)throw N(116,v.name);z(v.object,k,y,x,{[v.name]:b})}else Li(S)&&(v.name==="length"&&ue(S)&&!isNaN(b)?S.splice(b):S[v.name]=b);return b}case g:{const S=E(v.object,k,y,x),J=E(v.key,k,y,x);if(S==null){if(y?.strict)throw N(116,J);return z(v.object,k,y,x,{[J]:b}),b}if(ue(S)){if(J==="length"&&!isNaN(b))return S.splice(b),b;if(Yn(J))return S.splice(J,1,b),b}return S[J]=b}case P:return z(v.value,k,y,x,b),z(v.target,k,y,x,b);case C:return b=y?.useConverter?.(v.name,"fromView",b,v.args.map(S=>E(S,k,y,x))),z(v.expression,k,y,x,b);case I:return z(v.expression,k,y,x,b);case he:case Ae:{const S=v.list,J=S.length;let ot,Ge;for(ot=0;ot<J;ot++)switch(Ge=S[ot],Ge.$kind){case Se:z(Ge,k,y,x,b);break;case he:case Ae:{if(typeof b!="object"||b===null)throw N(112);let ms=E(Ge.source,ce.create(b),y,null);ms===void 0&&Ge.initializer&&(ms=E(Ge.initializer,k,y,null)),z(Ge,k,y,x,ms);break}}break}case Se:{if("source"in v){if(b==null)return;if(typeof b!="object")throw N(112);let S=E(v.source,ce.create(b),y,x);S===void 0&&v.initializer&&(S=E(v.initializer,k,y,x)),z(v.target,k,y,x,S)}else{if(b==null)return;if(typeof b!="object")throw N(112);const S=v.indexOrProperties;let J;if(Yn(S)){if(!Array.isArray(b))throw N(112);J=b.slice(S)}else J=Object.entries(b).reduce((ot,[Ge,ms])=>(S.includes(Ge)||(ot[Ge]=ms),ot),{});z(v.target,k,y,x,J)}break}case re:return v.assign(k,y,b);default:return}}function xe(v,k,y){switch(v.$kind){case I:{y.bindBehavior?.(v.name,k,v.args.map(x=>E(x,k,y,null))),xe(v.expression,k,y);break}case C:{y.bindConverter?.(v.name),xe(v.expression,k,y);break}case X:{xe(v.iterable,k,y);break}case re:v.bind?.(k,y)}}function rt(v,k,y){switch(v.$kind){case I:{y.unbindBehavior?.(v.name,k),rt(v.expression,k,y);break}case C:{y.unbindConverter?.(v.name),rt(v.expression,k,y);break}case X:{rt(v.iterable,k,y);break}case re:v.unbind?.(k,y)}}const gs="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" ");return{astEvaluate:E,astAssign:z,astBind:xe,astUnbind:rt}})(),tg=n=>{const e=n.prototype;["bindBehavior","unbindBehavior","bindConverter","unbindConverter","useConverter"].forEach(t=>{Ns(e,t,()=>{throw N(99,t)})})},Mr="pending",sg="running",vl="completed",En="canceled",fu=Promise.resolve();let Dr=!1,bo=!1;const Ne=[];let es=0,Jt=null,ts=[],zi=null,dn=null;const Hi=()=>{Dr||(Dr=!0,fu.then(()=>{Dr=!1,bo=!0,ng()}))},Wn=n=>{if(Jt&&Ne.length===0&&es===0)if(Jt=null,ts.length>0){const e=ts;ts=[],e.length===1?dn(e[0]):dn(new AggregateError(e,"One or more tasks failed."))}else zi(n)},ng=()=>{const n=!bo;bo=!1,Jt??=new Promise((i,r)=>{zi=i,dn=r});let e=-Ne.length;const t=Ne.length===0;for(;Ne.length>0;){if(++e>1e4){const r=new Error("Potential deadlock detected. More than 10000 extra tasks were queued from within tasks.");throw Ne.length=0,dn?.(r),Jt=null,r}const i=Ne.shift();if(typeof i=="function")try{i()}catch(r){ts.push(r)}else i.run()}const s=ts.slice();if(Wn(!t),n&&s.length>0)throw s.length===1?s[0]:new AggregateError(s,"One or more tasks failed.")},ig=()=>Jt||(Ne.length>0||es>0?Jt??=new Promise((n,e)=>{zi=n,dn=e}):fu.then(()=>Ne.length>0||es>0?Jt??=new Promise((n,e)=>{zi=n,dn=e}):!1)),nt=n=>{Hi(),Ne.push(n)},Un=(n,e)=>{const t=new rr(n,e?.delay);return t.delay!=null&&t.delay>0?(++es,t._timerId=Ps.getOrCreate(globalThis).setTimeout(()=>{if(--es,t._timerId=void 0,t.status===En){Wn(!0);return}Ne.push(t),Hi()},t.delay)):(Ne.push(t),Hi()),t};class bl extends Error{constructor(e){super(`Task ${e.id} was canceled.`),this.task=e}}class rr{get result(){return this._result}get status(){return this._status}constructor(e,t){this.callback=e,this.delay=t,this.id=++rr._taskId,this._status=Mr,this._result=new Promise((s,i)=>{this._resolve=s,this._reject=i})}then(e,t){return this.result.then(e,t)}catch(e){return this.result.catch(e)}finally(e){return this.result.finally(e)}run(){if(this._status!==Mr)throw new Error(`Cannot run task in ${this._status} state`);this._status=sg;let e;try{e=this.callback()}catch(t){this._status=En,this._reject(t),ts.push(t);return}e instanceof Promise?(++es,e.then(t=>{this._status=vl,this._resolve(t)}).catch(t=>{this._status=En,this._reject(t),ts.push(t)}).finally(()=>{--es,Wn(!0)})):(this._status=vl,this._resolve(e))}cancel(){if(this._timerId!==void 0){Ps.getOrCreate(globalThis).clearTimeout(this._timerId),--es,this._timerId=void 0,this._status=En;const e=new bl(this);return this._reject(e),this._result.catch(st),Wn(!0),!0}if(this._status===Mr){const e=Ne.indexOf(this);if(e>-1){Ne.splice(e,1),this._status=En;const t=new bl(this);return this._reject(t),this._result.catch(st),Wn(!0),!0}}return!1}}rr._taskId=0;const rg=(n,e)=>{const t=new or(n,Math.max(e?.interval,0));return t._start(),t};class or{constructor(e,t){this._callback=e,this._interval=t,this.id=++or._nextId,this._canceled=!1,this._nextResolvers=[]}run(){try{this._callback()}catch(e){ts.push(e);return}}_start(){this._canceled||(this._timerId=Ps.getOrCreate(globalThis).setTimeout(()=>{this._tick(),this._canceled||this._start()},this._interval))}_tick(){Ne.push(this),Hi();const e=this._nextResolvers.splice(0);for(const t of e)t()}next(){return this._canceled?Promise.resolve():new Promise(e=>this._nextResolvers.push(e))}cancel(){this._canceled=!0,this._timerId!==void 0&&(Ps.getOrCreate(globalThis).clearTimeout(this._timerId),this._timerId=void 0);const e=this._nextResolvers.splice(0);for(const t of e)t()}}or._nextId=0;const pu=as.createInterface("ICoercionConfiguration"),ar=0,It=1,og=2,ag=4,ra=na({None:ar,Observer:It,Node:og,Layout:ag});function Bs(n=0){const e=Array(n);let t=0;for(;t<n;)e[t]=t++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}let lg=!1;const Ke=(()=>{function n(a,c){return a==null?r:r(a)}function e(){return Ns(this,"subs",new o)}function t(a){return this.subs.add(a)}function s(a){return this.subs.remove(a)}const i=new WeakSet;function r(a,c){if(!i.has(a)){i.add(a);const l=a.prototype;ns(l,"subs",{get:e}),Ot(l,"subscribe",t),Ot(l,"unsubscribe",s)}return a}class o{constructor(){this.count=0,this._subs=[],this._requestDirtySubs=[],this._hasDirtySubs=!1}add(c){return this._subs.includes(c)?!1:(this._subs[this._subs.length]=c,"handleDirty"in c&&(this._requestDirtySubs[this._requestDirtySubs.length]=c,this._hasDirtySubs=!0),++this.count,!0)}remove(c){let l=this._subs.indexOf(c);return l!==-1?(this._subs.splice(l,1),l=this._requestDirtySubs.indexOf(c),l!==-1&&(this._requestDirtySubs.splice(l,1),this._hasDirtySubs=this._requestDirtySubs.length>0),--this.count,!0):!1}notify(c,l){for(const u of this._subs.slice(0))u.handleChange(c,l)}notifyCollection(c,l){const u=this._subs.slice(0),h=u.length;let d=0;for(;d<h;++d)u[d].handleCollectionChange(c,l)}notifyDirty(){if(this._hasDirtySubs)for(const c of this._requestDirtySubs.slice(0))c.handleDirty()}}return n})();class gu{constructor(e){this.owner=e,this.type=It,this._value=(this._obj=e.collection).length}getValue(){return this._obj.length}setValue(e){e!==this._value&&(Number.isNaN(e)?console.warn(`Invalid value "${e}" for array length`):(this._obj.splice(e),this._value=this._obj.length))}handleDirty(){this._value!==this._obj.length&&this.subs.notifyDirty()}handleCollectionChange(e,t){const s=this._value,i=this._obj.length;(this._value=i)!==s&&(this.subs.notifyDirty(),this.subs.notify(this._value,s))}}mu(gu);class oa{constructor(e){this.owner=e,this.type=It,this._value=(this._obj=e.collection).size}getValue(){return this._obj.size}setValue(){throw N(220)}handleDirty(){this._value!==this._obj.size&&this.subs.notifyDirty()}handleCollectionChange(e,t){const s=this._value,i=this._obj.size;(this._value=i)!==s&&this.subs.notify(this._value,s)}}mu(oa);function mu(n){const e=n.prototype;return Ot(e,"subscribe",cg),Ot(e,"unsubscribe",ug),Ke(n,null)}function cg(n){this.subs.add(n)&&this.subs.count===1&&this.owner.subscribe(this)}function ug(n){this.subs.remove(n)&&this.subs.count===0&&this.owner.subscribe(this)}const Kn=(()=>{const n=new WeakMap;function e(f,g){return f===g?0:(f=f===null?"null":f.toString(),g=g===null?"null":g.toString(),f<g?-1:1)}function t(f,g){return f===void 0?g===void 0?0:1:g===void 0?-1:0}function s(f,g,m,_,w){let P,A,C,I,R,L,M;for(L=m+1;L<_;L++){for(P=f[L],A=g[L],M=L-1;M>=m&&(C=f[M],I=g[M],R=w(C,P),R>0);M--)f[M+1]=C,g[M+1]=I;f[M+1]=P,g[M+1]=A}}function i(f,g,m,_,w){let P=0,A=0,C,I,R,L,M,X,De,he,Ae,Se,re,de,E,z,xe,rt,gs,v,k;for(;;){if(_-m<=10){s(f,g,m,_,w);return}P=m+(_-m>>1),C=f[m],L=g[m],I=f[_-1],M=g[_-1],R=f[P],X=g[P],De=w(C,I),De>0&&(Se=C,re=L,C=I,L=M,I=Se,M=re),he=w(C,R),he>=0?(Se=C,re=L,C=R,L=X,R=I,X=M,I=Se,M=re):(Ae=w(I,R),Ae>0&&(Se=I,re=M,I=R,M=X,R=Se,X=re)),f[m]=C,g[m]=L,f[_-1]=R,g[_-1]=X,de=I,E=M,z=m+1,xe=_-1,f[P]=f[z],g[P]=g[z],f[z]=de,g[z]=E;e:for(A=z+1;A<xe;A++)if(rt=f[A],gs=g[A],v=w(rt,de),v<0)f[A]=f[z],g[A]=g[z],f[z]=rt,g[z]=gs,z++;else if(v>0){do{if(xe--,xe==A)break e;k=f[xe],v=w(k,de)}while(v>0);f[A]=f[xe],g[A]=g[xe],f[xe]=rt,g[xe]=gs,v<0&&(rt=f[A],gs=g[A],f[A]=f[z],g[A]=g[z],f[z]=rt,g[z]=gs,z++)}_-xe<z-m?(i(f,g,xe,_,w),_=z):(i(f,g,m,z,w),m=xe)}}const r=Array.prototype,o=["push","unshift","pop","shift","splice","reverse","sort"];let a;function c(){const f=r.push,g=r.unshift,m=r.pop,_=r.shift,w=r.splice,P=r.reverse,A=r.sort;a={push:function(...C){const I=n.get(this);if(I===void 0)return f.apply(this,C);const R=this.length,L=C.length;if(L===0)return R;this.length=I.indexMap.length=R+L;let M=R;for(;M<this.length;)this[M]=C[M-R],I.indexMap[M]=-2,M++;return I.notify(),this.length},unshift:function(...C){const I=n.get(this);if(I===void 0)return g.apply(this,C);const R=C.length,L=new Array(R);let M=0;for(;M<R;)L[M++]=-2;g.apply(I.indexMap,L);const X=g.apply(this,C);return I.notify(),X},pop:function(){const C=n.get(this);if(C===void 0)return m.call(this);const I=C.indexMap,R=m.call(this),L=I.length-1;return I[L]>-1&&(I.deletedIndices.push(I[L]),I.deletedItems.push(R)),m.call(I),C.notify(),R},shift:function(){const C=n.get(this);if(C===void 0)return _.call(this);const I=C.indexMap,R=_.call(this);return I[0]>-1&&(I.deletedIndices.push(I[0]),I.deletedItems.push(R)),_.call(I),C.notify(),R},splice:function(...C){const I=C[0],R=C[1],L=n.get(this);if(L===void 0)return w.apply(this,C);const M=this.length,X=I|0,De=X<0?Math.max(M+X,0):Math.min(X,M),he=L.indexMap,Ae=C.length,Se=Ae===0?0:Ae===1?M-De:R;let re=De;if(Se>0){const E=re+Se;for(;re<E;)he[re]>-1&&(he.deletedIndices.push(he[re]),he.deletedItems.push(this[re])),re++}if(re=0,Ae>2){const E=Ae-2,z=new Array(E);for(;re<E;)z[re++]=-2;w.call(he,I,R,...z)}else w.apply(he,C);const de=w.apply(this,C);return(Se>0||re>0)&&L.notify(),de},reverse:function(){const C=n.get(this);if(C===void 0)return P.call(this),this;const I=this.length,R=I/2|0;let L=0;for(;L!==R;){const M=I-L-1,X=this[L],De=C.indexMap[L],he=this[M],Ae=C.indexMap[M];this[L]=he,C.indexMap[L]=Ae,this[M]=X,C.indexMap[M]=De,L++}return C.notify(),this},sort:function(C){const I=n.get(this);if(I===void 0)return A.call(this,C),this;let R=this.length;if(R<2)return this;i(this,I.indexMap,0,R,t);let L=0;for(;L<R&&this[L]!==void 0;)L++;(C===void 0||!K(C))&&(C=e),i(this,I.indexMap,0,L,C);let M=!1;for(L=0,R=I.indexMap.length;R>L;++L)if(I.indexMap[L]!==L){M=!0;break}return(M||lg)&&I.notify(),this}};for(const C of o)ns(a[C],"observing",{value:!0})}let l=!1;const u="__au_arr_on__";function h(){if(a===void 0&&c(),!(Jp(u,Array)??!1)){Xp(!0,Array,u);for(const f of o)r[f].observing!==!0&&Ns(r,f,a[f])}}class d{constructor(g){this.type=It,l||(l=!0,h()),this.indexObservers={},this.collection=g,this.indexMap=Bs(g.length),this.lenObs=void 0,n.set(g,this)}notify(){const g=this.subs;g.notifyDirty();const m=this.indexMap,_=this.collection,w=_.length;this.indexMap=Bs(w),g.notifyCollection(_,m)}getLengthObserver(){return this.lenObs??=new gu(this)}getIndexObserver(g){return this.indexObservers[g]??=new p(this,g)}}Ke(d,null);class p{constructor(g,m){this.owner=g,this.index=m,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(g){if(g===this.getValue())return;const m=this.owner,_=this.index,w=m.indexMap;w[_]>-1&&w.deletedIndices.push(w[_]),w[_]=-2,m.collection[_]=g,m.notify()}handleDirty(){this.value!==this.getValue()&&this.subs.notifyDirty()}handleCollectionChange(g,m){const _=this.index;if(m[_]===_)return;const P=this.value,A=this.value=this.getValue();P!==A&&this.subs.notify(A,P)}subscribe(g){this.subs.add(g)&&this.subs.count===1&&this.owner.subscribe(this)}unsubscribe(g){this.subs.remove(g)&&this.subs.count===0&&this.owner.unsubscribe(this)}}return Ke(p,null),function(g){let m=n.get(g);return m===void 0&&(n.set(g,m=new d(g)),h()),m}})(),Wi=(()=>{const n=new WeakMap,{add:e,clear:t,delete:s}=Set.prototype,i=["add","clear","delete"],r={add:function(c){const l=n.get(this);if(l===void 0)return e.call(this,c),this;const u=this.size;return e.call(this,c),this.size===u?this:(l.indexMap[u]=-2,l.notify(),this)},clear:function(){const c=n.get(this);if(c===void 0)return t.call(this);if(this.size>0){const u=c.indexMap;let h=0;for(const d of this.keys())u[h]>-1&&(u.deletedIndices.push(u[h]),u.deletedItems.push(d)),h++;t.call(this),u.length=0,c.notify()}},delete:function(c){const l=n.get(this);if(l===void 0)return s.call(this,c);if(this.size===0)return!1;let h=0;const d=l.indexMap;for(const p of this.keys()){if(p===c){d[h]>-1&&(d.deletedIndices.push(d[h]),d.deletedItems.push(p)),d.splice(h,1);const f=s.call(this,c);return f===!0&&l.notify(),f}h++}return!1}};function o(c){for(const l of i)Ns(c,l,r[l])}class a{constructor(l){this.type=It,this.collection=l,this.indexMap=Bs(l.size),this.lenObs=void 0}notify(){const l=this.subs;l.notifyDirty();const u=this.indexMap,h=this.collection,d=h.size;this.indexMap=Bs(d),l.notifyCollection(h,u)}getLengthObserver(){return this.lenObs??=new oa(this)}}return Ke(a,null),function(l){let u=n.get(l);return u===void 0&&(n.set(l,u=new a(l)),o(l)),u}})(),Ui=(()=>{const n=new WeakMap,{set:e,clear:t,delete:s}=Map.prototype,i=["set","clear","delete"],r={set:function(c,l){const u=n.get(this);if(u===void 0)return e.call(this,c,l),this;const h=this.get(c),d=this.size;if(e.call(this,c,l),this.size===d){let f=0;for(const g of this.entries()){if(g[0]===c)return g[1]!==h&&(u.indexMap.deletedIndices.push(u.indexMap[f]),u.indexMap.deletedItems.push(g),u.indexMap[f]=-2,u.notify()),this;f++}return this}return u.indexMap[d]=-2,u.notify(),this},clear:function(){const c=n.get(this);if(c===void 0)return t.call(this);if(this.size>0){const u=c.indexMap;let h=0;for(const d of this.keys())u[h]>-1&&(u.deletedIndices.push(u[h]),u.deletedItems.push(d)),h++;t.call(this),u.length=0,c.notify()}},delete:function(c){const l=n.get(this);if(l===void 0)return s.call(this,c);if(this.size===0)return!1;let h=0;const d=l.indexMap;for(const p of this.keys()){if(p===c){d[h]>-1&&(d.deletedIndices.push(d[h]),d.deletedItems.push(p)),d.splice(h,1);const f=s.call(this,c);return f===!0&&l.notify(),f}++h}return!1}};function o(c){for(const l of i)Ns(c,l,r[l])}class a{constructor(l){this.type=It,this.collection=l,this.indexMap=Bs(l.size),this.lenObs=void 0}notify(){const l=this.subs;l.notifyDirty();const u=this.indexMap,h=this.collection,d=h.size;this.indexMap=Bs(d),l.notifyCollection(h,u)}getLengthObserver(){return this.lenObs??=new oa(this)}}return Ke(a,null),function(l){let u=n.get(l);return u===void 0&&(n.set(l,u=new a(l)),o(l)),u}})(),_l=(()=>{class n{constructor(u){this.version=0,this.count=0,this.o=new Map,this.b=u}add(u){this.o.has(u)||(u.subscribe(this.b),++this.count),this.o.set(u,this.version)}clear(){this.o.forEach(t,this),this.count=this.o.size}clearAll(){this.o.forEach(e,this),this.o.clear(),this.count=0}}function e(l,u){u.unsubscribe(this.b)}function t(l,u){this.version!==l&&(u.unsubscribe(this.b),this.o.delete(u))}function s(){return Ns(this,"obs",new n(this))}function i(l,u){this.obs.add(this.oL.getObserver(l,u))}function r(l){let u;if(ue(l))u=Kn(l);else if(Os(l))u=Wi(l);else if(Nt(l))u=Ui(l);else throw N(210,l);this.obs.add(u)}function o(l){this.obs.add(l)}function a(){throw N(99,"handleChange")}function c(){throw N(99,"handleCollectionChange")}return function(u,h){const d=u.prototype;return Ot(d,"observe",i),Ot(d,"observeCollection",r),Ot(d,"subscribeTo",o),ns(d,"obs",{get:s}),Ot(d,"handleChange",a),Ot(d,"handleCollectionChange",c),u}})();function it(n,e){return n==null?_l:_l(n,e)}let W=null;const Zs=[];let zt=!1;function hg(){zt=!1}function dg(){zt=!0}function aa(){return W}function la(n){if(n==null)throw N(206);if(W==null){W=n,Zs[0]=W,zt=!0;return}if(W===n)throw N(207);Zs.push(n),W=n,zt=!0}function ca(n){if(n==null)throw N(208);if(W!==n)throw N(209);Zs.pop(),W=Zs.length>0?Zs[Zs.length-1]:null,zt=W!=null}const fg=na({get current(){return W},get connecting(){return zt},enter:la,exit:ca,pause:hg,resume:dg}),fn=Reflect.get,pg=Object.prototype.toString,_o=new WeakMap,gg="__au_nw__",mg="__au_nw";function vu(n){switch(pg.call(n)){case"[object Object]":return n.constructor[gg]!==!0;case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const wn="__raw__";function H(n){return vu(n)?lr(n):n}function lr(n){return _o.get(n)??vg(n)}function q(n){return n[wn]??n}function Te(n){return vu(n)&&n[wn]||n}function ua(n,e){if(e==="constructor"||e==="__proto__"||e==="$observers"||e===Symbol.toPrimitive||e===Symbol.toStringTag||n.constructor[`${mg}_${un(e)}__`]===!0)return!0;const t=Reflect.getOwnPropertyDescriptor(n,e);return t?.configurable===!1&&t.writable===!1}function vg(n){const e=ue(n)?_g:Nt(n)||Os(n)?zg:bg,t=new Proxy(n,e);return _o.set(n,t),_o.set(t,t),t}const bg={get(n,e,t){if(e===wn)return n;const s=aa();return!zt||ua(n,e)||s==null?fn(n,e,t):(s.observe(n,e),H(fn(n,e,t)))},deleteProperty(n,e){return console.warn("[DEV:aurelia] deletion of a property will not always be working with Aurelia observation system, as it depends on getter/setter installation."),delete n[e]}},_g={get(n,e,t){if(e===wn)return n;if(!zt||ua(n,e)||W==null)return fn(n,e,t);switch(e){case"length":return W.observe(n,"length"),n.length;case"map":return yg;case"includes":return kg;case"indexOf":return Ag;case"lastIndexOf":return Sg;case"every":return wg;case"filter":return Cg;case"find":return $g;case"findIndex":return xg;case"flat":return Ig;case"flatMap":return Eg;case"join":return Tg;case"push":return Bg;case"pop":return Pg;case"reduce":return Vg;case"reduceRight":return jg;case"reverse":return Mg;case"shift":return Lg;case"unshift":return Rg;case"slice":return Fg;case"splice":return Og;case"some":return Dg;case"sort":return Ng;case"keys":return bu;case"values":case Symbol.iterator:return yo;case"entries":return wo}return W.observe(n,e),H(fn(n,e,t))},ownKeys(n){return aa()?.observe(n,"length"),Reflect.ownKeys(n)}};function yg(n,e){const t=q(this),s=t.map((i,r)=>Te(n.call(e,H(i),r,this)));return ge(W,t),H(s)}function wg(n,e){const t=q(this),s=t.every((i,r)=>n.call(e,H(i),r,this));return ge(W,t),s}function Cg(n,e){const t=q(this),s=t.filter((i,r)=>Te(n.call(e,H(i),r,this)));return ge(W,t),H(s)}function kg(n){const e=q(this),t=e.includes(Te(n));return ge(W,e),t}function Ag(n){const e=q(this),t=e.indexOf(Te(n));return ge(W,e),t}function Sg(n){const e=q(this),t=e.lastIndexOf(Te(n));return ge(W,e),t}function xg(n,e){const t=q(this),s=t.findIndex((i,r)=>Te(n.call(e,H(i),r,this)));return ge(W,t),s}function $g(n,e){const t=q(this),s=t.find((i,r)=>n(H(i),r,this),e);return ge(W,t),H(s)}function Ig(){const n=q(this);return ge(W,n),H(n.flat())}function Eg(n,e){const t=q(this);return ge(W,t),lr(t.flatMap((s,i)=>H(n.call(e,H(s),i,this))))}function Tg(n){const e=q(this);return ge(W,e),e.join(n)}function Pg(){return H(q(this).pop())}function Bg(...n){return q(this).push(...n)}function Lg(){return H(q(this).shift())}function Rg(...n){return q(this).unshift(...n)}function Og(...n){return H(q(this).splice(...n))}function Mg(...n){return H(q(this).reverse())}function Dg(n,e){const t=q(this),s=t.some((i,r)=>Te(n.call(e,H(i),r,this)));return ge(W,t),s}function Ng(n){const e=q(this),t=e.sort(n);return ge(W,e),H(t)}function Fg(n,e){const t=q(this);return ge(W,t),lr(t.slice(n,e))}function Vg(n,e){const t=q(this),s=t.reduce((i,r,o)=>n(i,H(r),o,this),e);return ge(W,t),H(s)}function jg(n,e){const t=q(this),s=t.reduceRight((i,r,o)=>n(i,H(r),o,this),e);return ge(W,t),H(s)}const zg={get(n,e,t){if(e===wn)return n;const s=aa();if(!zt||ua(n,e)||s==null)return fn(n,e,t);switch(e){case"size":return s.observe(n,"size"),n.size;case"clear":return Gg;case"delete":return qg;case"forEach":return Hg;case"add":if(Os(n))return Qg;break;case"get":if(Nt(n))return Ug;break;case"set":if(Nt(n))return Kg;break;case"has":return Wg;case"keys":return bu;case"values":return yo;case"entries":return wo;case Symbol.iterator:return Nt(n)?wo:yo}return H(fn(n,e,t))}};function Hg(n,e){const t=q(this);return ge(W,t),t.forEach((s,i)=>{n.call(e,H(s),H(i),this)})}function Wg(n){const e=q(this);return ge(W,e),e.has(Te(n))}function Ug(n){const e=q(this);return ge(W,e),H(e.get(Te(n)))}function Kg(n,e){return H(q(this).set(Te(n),Te(e)))}function Qg(n){return H(q(this).add(Te(n)))}function Gg(){return H(q(this).clear())}function qg(n){return H(q(this).delete(Te(n)))}function bu(){const n=q(this);ge(W,n);const e=n.keys();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:H(s),done:i}},[Symbol.iterator](){return this}}}function yo(){const n=q(this);ge(W,n);const e=n.values();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:H(s),done:i}},[Symbol.iterator](){return this}}}function wo(){const n=q(this);ge(W,n);const e=n.entries();return{next(){const t=e.next(),s=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[H(s[0]),H(s[1])],done:i}},[Symbol.iterator](){return this}}}const ge=(n,e)=>n?.observeCollection(e),Zg=na({getProxy:lr,getRaw:q,wrap:H,unwrap:Te,rawKey:wn});class Ki{constructor(e,t,s,i,r="async"){this.type=It,this._oldValue=void 0,this._value=void 0,this._notified=!1,this._isQueued=!1,this._isDirty=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=e,this._wrapped=H(e),this.$get=t,this.$set=s,this.oL=i,this._flush=r}init(e){this._value=e,this._isDirty=!1}getValue(){return this.subs.count===0?this.$get.call(this._obj,this._obj,this):(this._isDirty&&(this.compute(),this._notified=!1),this._value)}setValue(e){if(K(this.$set))this._coercer!==void 0&&(e=this._coercer.call(null,e,this._coercionConfig)),jt(e,this._value)||(this.$set.call(this._obj,e),this.run());else throw N(221)}useCoercer(e,t){return this._coercer=e,this._coercionConfig=t,!0}useCallback(e){return this._callback=e,!0}useFlush(e){return this._flush=e,!0}handleDirty(){this._isDirty||(this._isDirty=!0,this.subs.notifyDirty())}handleChange(){this._isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this._isDirty=!0,this.subs.count>0&&this.run()}subscribe(e){this.subs.add(e)&&this.subs.count===1&&(this._oldValue=this.compute(),this._isDirty=!1,this._notified=!1)}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&(this._isDirty=!0,this.obs.clearAll(),this._oldValue=void 0,this._notified=!0)}run(){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,nt(()=>{this._isQueued=!1,this._run()}))}_run(){const e=this._value,t=this._oldValue,s=this.compute();this._isDirty=!1,(!this._notified||!jt(s,e))&&(this.subs.notify(s,t),this._oldValue=this._value=s,this._callback?.(s,t),this._notified=!0)}compute(){this._isDirty=!1,this.obs.version++;try{la(this);const e=Te(this.$get.call(this._wrapped,this._wrapped,this));if(this._isDirty)throw N(227,this.$get.name??this.$get.toString());return this._value=e}catch(e){throw this._isDirty=!0,e}finally{this.obs.clear(),ca(this)}}}it(Ki,null),Ke(Ki,null);const Jg=(()=>{const n=new WeakMap,e=t=>ud(t)?t:String(t);return{get:(t,s)=>n.get(t)?.get(e(s)),set:(t,s,i)=>{n.has(t)||n.set(t,new Map),n.get(t).set(e(s),i)}}})(),ha=ia("IDirtyChecker",n=>n.callback(()=>{throw N(217)})),Xg={timeoutsPerCheck:25};class Yg{static register(e){e.register(Is.singleton(this,this),Is.aliasTo(this,ha))}constructor(){this.tracked=[],this._task=null,this._elapsedFrames=0,this.p=$(_n),this.check=()=>{if(++this._elapsedFrames<Xg.timeoutsPerCheck)return;this._elapsedFrames=0;const e=this.tracked.slice(0),t=e.length;let s,i=0;for(;i<t;++i)s=e[i],s.isDirty()&&s.flush()},Ke(yl,null)}createProperty(e,t){return new yl(this,e,t)}addProperty(e){this.tracked.push(e),this.tracked.length===1&&(this._task=rg(this.check,{interval:0}))}removeProperty(e){this.tracked.splice(this.tracked.indexOf(e),1),this.tracked.length===0&&(this._task.cancel(),this._task=null)}}class yl{constructor(e,t,s){this.obj=t,this.key=s,this.type=ar,this._oldValue=void 0,this._dirtyChecker=e}getValue(){return this.obj[this.key]}setValue(e){throw N(219,this.key)}isDirty(){return this._oldValue!==this.obj[this.key]}flush(){const e=this._oldValue,t=this.getValue();this._oldValue=t,this.subs.notify(t,e)}subscribe(e){this.subs.add(e)&&this.subs.count===1&&(this._oldValue=this.obj[this.key],this._dirtyChecker.addProperty(this))}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&this._dirtyChecker.removeProperty(this)}}class em{get doNotCache(){return!0}constructor(e,t){this.type=ar,this._obj=e,this._key=t}getValue(){return this._obj[this._key]}setValue(){}subscribe(){}unsubscribe(){}}class _u{constructor(){this.type=ar}getValue(e,t){return e[t]}setValue(e,t,s){t[s]=e}}class da{constructor(e,t){this.type=It,this._value=void 0,this._observing=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=e,this._key=t}getValue(){return this._value}setValue(e){this._coercer!==void 0&&(e=this._coercer.call(void 0,e,this._coercionConfig));const t=this._value;if(this._observing){if(jt(e,this._value))return;this._value=e,this.subs.notifyDirty(),this.subs.notify(e,t),jt(e,this._value)&&this._callback?.(e,t)}else this._value=this._obj[this._key]=e,this._callback?.(e,t)}useCallback(e){return this._callback=e,this.start(),!0}useCoercer(e,t){return this._coercer=e,this._coercionConfig=t,this.start(),!0}subscribe(e){this._observing===!1&&this.start(),this.subs.add(e)}start(){return this._observing===!1&&(this._observing=!0,this._value=this._obj[this._key],ns(this._obj,this._key,{enumerable:!0,configurable:!0,get:du(()=>this.getValue(),{getObserver:()=>this}),set:e=>{this.setValue(e)}})),this}stop(){return this._observing&&(ns(this._obj,this._key,{enumerable:!0,configurable:!0,writable:!0,value:this._value}),this._observing=!1),this}}Ke(da,null);const yu=n=>{let e=n.$observers;return e===void 0&&ns(n,"$observers",{value:e=Y()}),e};class Pi{get type(){return It}constructor(e,t,s){this.oL=t,this._value=void 0,this.boundFn=!1,this._scope=ce.create(e),this.ast=s}getValue(){return this._value}setValue(e){hn(this.ast,this._scope,this,null,e)}useCallback(e){return this._callback=e,!0}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.obs.version++;const e=this._value,t=ie(this.ast,this._scope,this,this);this.obs.clear(),jt(t,e)||(this._value=t,this.subs.notify(t,e),this._callback?.call(void 0,t,e))}subscribe(e){this.subs.add(e)&&this.subs.count===1&&this._start()}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&this.stop()}_start(){this.obs.version++,this._value=ie(this.ast,this._scope,this,this),this.obs.clear()}stop(){this.obs.clearAll(),this._value=void 0}}it(Pi,null),Ke(Pi,null),tg(Pi);class fa{constructor(e,t,s,i,r,o,a){this.obj=e,this.key=t,this.getter=s,this.oL=i,this.dependencies=r,this.flush=o,this.deep=a,this.type=It,this.doNotCache=!1,this._value=void 0,this._observers=[],this._queued=!1,this._started=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0}getValue(){return this._started?this._value:this._eval()}setValue(e){this._coercer!=null&&(e=this._coercer.call(null,e,this._coercionConfig)),this.obj[this.key]=e}useCallback(e){return this._callback=e,!0}useCoercer(e,t){return this._coercer=e,this._coercionConfig=t,!0}handleChange(){if(this.flush==="sync"){this._doFlush();return}this._queued||(this._queued=!0,nt(()=>{this._queued=!1,this._doFlush()}))}handleCollectionChange(){if(this.flush==="sync"){this._doFlush();return}this._queued||(this._queued=!0,nt(()=>{this._queued=!1,this._doFlush()}))}_eval(){return this.getter.call(this.obj)}_doFlush(){if(!this._started)return;const e=this._value,t=this._eval();this._stop(),this._observe(),e!==t&&(this._value=t,this.subs.notify(t,e),this._callback?.(t,e))}_observe(){const e=this._observers;this.dependencies.forEach(t=>{let s=U(t)?this.oL.getExpressionObserver(this.obj,t):this.oL.getObserver(this.obj,t);e.push(s),s.subscribe(this),s.useFlush?.(this.flush),this.deep&&(s=tm(s.getValue(),this.oL),e.push(s),s.subscribe(this),s.useFlush?.(this.flush))})}_stop(){this._observers.forEach(e=>{e.unsubscribe(this)}),this._observers.length=0}subscribe(e){this.subs.add(e)&&this.subs.count===1&&(this._observe(),this._started=!0,this._value=this._eval())}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&(this._stop(),this._started=!1,this._value=void 0)}}Ke(fa,null);fa.mixed=!1;function tm(n,e){function t(s,i){const r=Te(s);if(zo(r)){if(ue(r)){i.observeCollection(r);for(let o=0;o<r.length;o++)t(r[o],i);return}if(Nt(r)){i.observeCollection(r);for(const[o,a]of r)t(o,i),t(a,i);return}if(Os(r)){i.observeCollection(r);for(const o of r)t(o,i);return}for(const o of Object.keys(r))i.observe(r,o),t(r[o],i)}}return e.getObserver(n,((s,i)=>{t(s,i)}))}const Co=new _u,Cn=ia("IObserverLocator",n=>n.singleton(nm)),pa=ia("INodeObserverLocator",n=>n.cachedCallback(e=>(e.getAll(cn).forEach(t=>{t.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")}),new sm)));class sm{handles(){return!1}getObserver(){return Co}getAccessor(){return Co}}class nm{constructor(){this._adapters=[],this._dirtyChecker=$(ha),this._nodeObserverLocator=$(pa),this._expressionParser=$(Uo(ss))}addAdapter(e){this._adapters.push(e)}getObserver(e,t){if(e==null)throw N(199,t);if(!zo(e))return new em(e,K(t)?"":t);if(K(t))return new Ki(e,t,void 0,this);const s=yu(e);let i=s[t];return i===void 0&&(i=this.createObserver(e,t),i.doNotCache||(s[t]=i)),i}getAccessor(e,t){const s=e.$observers?.[t];return s!==void 0?s:this._nodeObserverLocator.handles(e,t,this)?this._nodeObserverLocator.getAccessor(e,t,this):Co}getExpressionObserver(e,t){if(this._expressionParser==null)throw N(200,t);return new Pi(e,this,this._expressionParser.parse(t,"IsProperty"))}getComputedObserver(e,t,s){const i=Jg.get(e,t);if(i?.deps==null||i.deps.length===0){const r=new Ki(e,s.get,s.set,this,i?.flush);return ns(e,t,{enumerable:s.enumerable,configurable:!0,get:du((()=>r.getValue()),{getObserver:()=>r}),set:o=>{r.setValue(o)}}),r}return new fa(e,t,s.get,this,i.deps,i.flush??"async",i.deep===!0)}getArrayObserver(e){return Kn(e)}getMapObserver(e){return Ui(e)}getSetObserver(e){return Wi(e)}createObserver(e,t){if(this._nodeObserverLocator.handles(e,t,this))return this._nodeObserverLocator.getObserver(e,t,this);switch(t){case"length":if(ue(e))return Kn(e).getLengthObserver();break;case"size":if(Nt(e))return Ui(e).getLengthObserver();if(Os(e))return Wi(e).getLengthObserver();break;default:if(ue(e)&&Yn(t))return Kn(e).getIndexObserver(Number(t));break}let s=pl(e,t);if(s===void 0){let i=fl(e);for(;i!==null&&(s=pl(i,t),s===void 0);)i=fl(i)}if(s!==void 0&&!Zp.call(s,"value")){let i=this._getAdapterObserver(e,t,s);return i==null&&(i=s.get?.getObserver?.(e,this)),i??(s.configurable?this.getComputedObserver(e,t,s):this._dirtyChecker.createProperty(e,t))}return new da(e,t)}_getAdapterObserver(e,t,s){if(this._adapters.length>0)for(const i of this._adapters){const r=i.getObserver(e,t,s,this);if(r!=null)return r}return null}}const ga=n=>{let e;return ue(n)?e=Kn(n):Nt(n)?e=Ui(n):Os(n)&&(e=Wi(n)),e};class im{constructor(e,t){this.oL=e,this.fn=t,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1,this._cleanupTask=void 0,this.run=()=>{if(this.stopped)throw N(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{this._cleanupTask?.call(void 0),la(this),this._cleanupTask=this.fn(this)}finally{this.obs.clear(),this.running=!1,ca(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,N(226);this.run()}else this.runCount=0}},this.stop=()=>{this._cleanupTask?.call(void 0),this._cleanupTask=void 0,this.stopped=!0,this.obs.clearAll()}}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}}it(im,null);class Xt extends Ps{static getOrCreate(e,t={}){let s=Xt._lookup.get(e);return s===void 0&&Xt._lookup.set(e,s=new Xt(e,t)),s}static set(e,t){Xt._lookup.set(e,t)}constructor(e,t={}){super(e,t);const s=i=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${i}'.`)};"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach(i=>this[i]=i in t?t[i]:e[i]),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach(i=>this[i]=i in t?t[i]:e[i]?.bind(e)??s(i))}}Xt._lookup=new WeakMap;const{default:rm,oneTime:cr,toView:me,fromView:Ht,twoWay:wu}=fi,Pe=At.get,ur=At.has,ft=At.define,Cu=(n,...e)=>{for(const t of e)At.delete(t,n)},{annotation:om}=dc,Wt=om.keyFor,pi=Object,Ls=String,ku=pi.prototype,Ss=ku.hasOwnProperty,Ut=pi.freeze,Au=pi.assign,Su=pi.getOwnPropertyNames,ma=pi.keys,wl=Y(),ko=(n,e,t)=>{if(wl[e]===!0)return!0;if(!U(e))return!1;const s=e.slice(0,5);return wl[e]=s==="aria-"||s==="data-"||t.isStandardSvgAttribute(n,e)},Ao=n=>{throw n},xu=Reflect.defineProperty,We=(n,e,t)=>(xu(n,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),t),$u=(n,e,t)=>n.addSignalListener(e,t),Iu=(n,e,t)=>n.removeSignalListener(e,t),am="Interpolation",lm="IsIterator",cm="IsFunction",pt="IsProperty",Cl="pending",Nr="running",va=ra.Observer,hs=ra.Node,Et=ra.Layout,T=(n,...e)=>{const t=Ls(n).padStart(4,"0"),s=hm(n,...e),i=`https://docs.aurelia.io/developer-guides/error-messages/runtime-html/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${i}`)},um={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:"No binding behavior definition found for type {{0:name}}",152:"No value converter definition found for type {{0:name}}",153:'Element "{{0}}" has already been registered.',154:'Attribute "{{0}}" has already been registered.',155:"Value converter {{0}} has already been registered.",156:"Binding behavior {{0}} has already been registered.",157:"Binding command {{0}} has already been registered.",203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",227:"@bindable is not supported for properties that uses a symbol for name. Use a string for the property name instead.",228:"@bindable cannot be used as a class decorator when no configuration object is supplied.",229:"@bindable cannot be used as a class decorator when no property name is supplied in the configuration object.",500:"There is no cached controller for the provided ViewModel: {{0}}",501:"Invalid combination: cannot combine the containerless custom element option with Shadow DOM.",502:"Trying to activate a disposed controller: {{0}}.",503:"Controller at {{0}} is in an unexpected state: {{1}} during activation.",504:"Synthetic view at {{0}} is being activated with null/undefined scope.",505:"Controller at {{0}} is in an unexpected state: {{1}} during deactivation.",506:"Invalid callback for @watch decorator: {{0}}",507:"Observer for bindable property {{0}} does not support coercion.",508:"Observer for property {{0}} does not support change handler.",759:"No attribute definition found for type {{0:name}}",760:"No element definition found for type {{0:name}}",761:"Cannot create a custom element definition with only a name and no type: {{0}}",762:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",763:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",764:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",765:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",766:"Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a {{0:typeof}}.",652:"Aurelia is unable to observe property {{0}}. Register observation mapping with .useConfig().",653:"Mapping for property {{0}} of <{{1}} /> already exists",654:"Array values can only be bound to a multi-select",655:"Possible infinitely recursive side-effect detected in a watcher",719:"Attribute {{0}} has been already registered for {{1:element}}",767:"Aurelia.root was accessed without a valid root.",768:"An instance of Aurelia is already registered with the container or an ancestor of it.",769:"Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView, did you create the host from a DOMParser and forget to call adoptNode()?",770:"Aurelia.start() was called without a composition root",771:"The aurelia instance must be fully stopped before it can be disposed",750:"view.ref is not supported. If you are migrating from v1, this can be understood as the controller.",751:`Attempted to reference "{{0}}", but it was not found amongst the target's API.`,752:"Element {{0:.res}} is not registered in {{1:name}}.",753:"Attribute {{0:.res}} is not registered in {{1:name}}.",754:"Attribute {{0:.res}} is not registered in {{1:name}}.",755:"Cannot resolve ViewFactory before the provider was prepared.",756:"Cannot resolve ViewFactory without a (valid) name.",757:"The compiled template is not aligned with the render instructions. There are {{0}} targets and {{1}} instructions.",772:"Invalid @watch decorator config. Expected an expression or a fn but received null/undefined.",773:'Invalid @watch decorator change handler config. Method "{{0}}" not found in class {{1}}',774:"Invalid @watch decorator usage: decorated target {{0}} is not a class method.",775:'Invalid command "{{0}}" usage with [repeat]',776:'Invalid [repeat] usage, found extraneous target "{{0}}"',777:"Unsupported: [repeat] cannot iterate over {{0:toString}}",778:"Unsupported: [repeat] cannot count {{0:toString}}",814:"[repeat] encountered an error: number of views != number of items {{0:join(!=)}}",821:'Invalid command "{{0}}" usage with [repeat.for] option "contextual". Only "bind" or static assignment is supported.',779:"Invalid portal insertion position: {{0}}",801:'"& self" binding behavior only supports listener binding via trigger/capture command.',802:`"& updateTrigger" invalid usage. This binding behavior requires at least one event name argument: eg <input value.bind="firstName & updateTrigger:'blur'">`,803:'"& updateTrigger" invalid usage. This binding behavior can only be applied to two-way/ from-view bindings.',805:'Invalid scope behavior "{{0}}" on <au-compose />. Only "scoped" or "auto" allowed.',806:`<au-compose /> couldn't find a custom element with name "{{0}}", did you forget to register it locally or globally?`,807:"Composition has already been activated/deactivated. Id: {{0:controller}}",808:"Composition has already been deactivated.",810:"Invalid [else] usage, it should follow an [if]",811:"Invalid portal strict target query, empty query.",812:"Invalid portal strict target resolution, target not found.",813:'Invalid [pending]/[then]/[catch] usage. The parent [promise].resolve not found; only "*[promise.resolve] > *[pending|then|catch]" relation is supported.',815:'Invalid [case/default-case] usage. The parent [switch] not found; only "*[switch] > *[case|default-case]" relation is supported.',816:"Invalid [default-case] usage. Multiple 'default-case's are not allowed.",817:'"& signal" binding behavior can only be used with bindings that have a "handleChange" method',818:`"& signal" invalid usage. At least one signal name must be passed to the signal behavior, e.g. "expr & signal:'my-signal'"`,819:"Spreading to bindables onto non custom element",820:"Invalid spread target {{0}}",9999:"No scope context for spread binding.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?",9997:"Marker is malformed. This likely happens when a compiled template has been modified. Did you accidentally modified some compiled template? You can modify template before compilation with compiling Template compiler hook.",9996:"Invalid usage, a rate limit has already been applied. Did you have both throttle and debounce on the same binding?",9995:"The binding already has a target subscriber.",9994:`"& attr" can be only used on property binding. It's used on {{0:ctor}}`,9993:'"& updateTrigger" binding behavior only works with the default implementation of Aurelia HTML observation. Implement your own node observation + updateTrigger',9992:'"& updateTrigger" uses node observer to observe, but it does not know how to use events to observe property <{{0:target@property}} />',9991:"Invalid @children usage. @children decorator can only be used on a field",9990:"Invalid @slotted usage. @slotted decorator can only be used on a field",9989:"Invalid query selector. Only selectors with alpha-numeric characters, or $all are allowed. Got {{0}} instead.",822:"SSR hydration error: manifest declares {{0}} targets but collected {{1}} from DOM.",823:"SSR hydration error: manifest declares {{0}} total nodes for views but found {{1}} nodes in DOM.",824:"SSR hydration error: manifest declares {{0}} views but items array has {{1}} elements."},hm=(n,...e)=>{let t=um[n];for(let s=0;s<e.length;++s){const i=new RegExp(`{{${s}(:.*)?}}`,"g");let r=i.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"nodeName":a=a.nodeName.toLowerCase();break;case"name":a=a.name;break;case"typeof":a=typeof a;break;case"ctor":a=a.constructor.name;break;case"controller":a=a.controller.name;break;case"target@property":a=`${a.target}@${a.targetProperty}`;break;case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"bindingCommandHelp":a=dm(a);break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=Ls(a[o.slice(1)]):a=Ls(a)}t=t.slice(0,r.index)+a+t.slice(i.lastIndex),r=i.exec(t)}}return t};function dm(n){switch(n){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}function Eu(n,e){let t;function s(i,r){let o;switch(r.kind){case"getter":case"field":{const l=r.name;if(typeof l!="string")throw T(227);o=l;break}case"class":if(t==null)throw T(228);if(typeof t=="string")o=t;else{const l=t.name;if(!l)throw T(229);if(typeof l!="string")throw T(227);o=l}break}const a=t==null||typeof t=="string"?{name:o}:t,c=r.metadata[Us]??=Y();c[o]=ct.create(o,a)}if(arguments.length>1){t={},s(n,e);return}else if(U(n))return t=n,s;return t=n===void 0?{}:n,s}const Us=Wt("bindables"),ze=Ut({name:Us,keyFrom:n=>`${Us}:${n}`,from(...n){const e={},t=Array.isArray;function s(o){e[o]=ct.create(o)}function i(o,a){e[o]=a instanceof ct?a:ct.create(o,a===!0?{}:a)}function r(o){t(o)?o.forEach(a=>U(a)?s(a):i(a.name,a)):o instanceof ct?e[o.name]=o:o!==void 0&&ma(o).forEach(a=>i(a,o[a]))}return n.forEach(r),e},getAll(n){const e=[],t=gd(n);let s=t.length,i;for(;--s>=0;){i=t[s];const r=Pe(Us,i);r!=null&&e.push(...Object.values(r))}return e},_add(n,e){let t=Pe(Us,e);t==null&&ft(t=Y(),e,Us),t[n.name]=n}});class ct{constructor(e,t,s,i,r){this.attribute=e,this.callback=t,this.mode=s,this.name=i,this.set=r}static toAttr(e){return this._cache[e]??=e.replace(/([A-Z])/g,(t,s)=>`-${s.toLowerCase()}`)}static create(e,t={}){const s=t.mode??me;return new ct(t.attribute??ct.toAttr(e),t.callback??`${e}Changed`,U(s)?fi[s]??rm:s,t.name??e,t.set??fm(t))}}ct._cache={};const So={key:Wt("coercer"),define(n,e){ft(n[e].bind(n),n,So.key)},for(n){return Pe(So.key,n)}};function fm(n={}){const e=n.type??null;if(e==null)return st;let t;switch(e){case Number:case Boolean:case String:case BigInt:t=e;break;default:{const s=e.coerce;t=typeof s=="function"?s.bind(e):So.for(e)??st;break}}return t===st?t:pm(t,n.nullable)}function pm(n,e){return function(t,s){return s?.enableCoercion?(e??!(s?.coerceNullish??!1))&&t==null?t:n(t,s):t}}const te=as.createInterface,Tt=Is.singleton,pn=Is.aliasTo,Tu=Is.instance,oe=(n,e,t)=>n.registerResolver(e,t),gm="custom-element",mm="custom-attribute",Pu="__au_static_resource__",is=(n,e,t,s=Pu)=>{let i=Pe(s,n);return i==null&&n.$au?.type===e&&(i=t(n.$au,n),ft(i,n,s)),i},vm=n=>{Cu(n,Pu)};class Qn{constructor(e,t,s,i){this.Type=e,this.name=t,this.aliases=s,this.key=i}static create(e,t){let s,i;return U(e)?(s=e,i={name:s}):(s=e.name,i=e),new Qn(t,Zt(kl(t,"name"),s),ve(kl(t,"aliases"),i.aliases,t.aliases),Bu.keyFrom(s))}register(e,t){const s=this.Type,i=typeof t=="string"?Gn(t):this.key,r=this.aliases;e.has(i,!1)?console.warn(`[DEV:aurelia] ${T(156,this.name)}`):e.register(e.has(s,!1)?null:Tt(s,s),pn(s,i),...r.map(o=>pn(s,Gn(o))))}}const tt="binding-behavior",Ks=Ms(tt),kl=(n,e)=>Pe(Wt(e),n),Gn=n=>`${Ks}:${n}`,Bu=Ut({name:Ks,keyFrom:Gn,isType(n){return K(n)&&(ur(Ks,n)||n.$au?.type===tt)},define(n,e){const t=Qn.create(n,e),s=t.Type;return ft(t,s,Ks,bt),s},getDefinition(n){const e=Pe(Ks,n)??is(n,tt,Qn.create);if(e===void 0)throw T(151,n);return e},find(n,e){const t=n.find(tt,e);return t==null?null:Pe(Ks,t)??is(t,tt,Qn.create)??null},get(n,e){try{return n.get(ln(Gn(e)))}catch(t){throw console.error("[DEV:aurelia] Cannot retrieve binding behavior with name",e),t}return n.get(ln(Gn(e)))}}),Fr=new Map,hr=n=>({type:tt,name:n});class dr{bind(e,t){Fr.set(t,t.mode),t.mode=this.mode}unbind(e,t){t.mode=Fr.get(t),Fr.delete(t)}}class Lu extends dr{get mode(){return cr}}Lu.$au=hr("oneTime");class Ru extends dr{get mode(){return me}}Ru.$au=hr("toView");class Ou extends dr{get mode(){return Ht}}Ou.$au=hr("fromView");class Mu extends dr{get mode(){return wu}}Mu.$au=hr("twoWay");const Vr=new WeakMap,bm=200;class Du{constructor(){this._platform=$(_n)}bind(e,t,s,i){const r={type:"debounce",delay:s??bm,now:this._platform.performanceNow,signals:U(i)?[i]:i??V},o=t.limit?.(r);o==null?console.warn(`[DEV:aurelia] Binding ${t.constructor.name} does not support debounce rate limiting`):Vr.set(t,o)}unbind(e,t){Vr.get(t)?.dispose(),Vr.delete(t)}}Du.$au={type:tt,name:"debounce"};const Qi=te("ISignaler",n=>n.singleton(_m));class _m{constructor(){this.signals=Y()}dispatchSignal(e){const t=this.signals[e];if(t===void 0)return;let s;for(s of t.keys())s.handleChange(void 0,void 0)}addSignalListener(e,t){(this.signals[e]??=new Set).add(t)}removeSignalListener(e,t){this.signals[e]?.delete(t)}}class Nu{constructor(){this._lookup=new Map,this._signaler=$(Qi)}bind(e,t,...s){if(!("handleChange"in t))throw T(817);if(s.length===0)throw T(818);this._lookup.set(t,s);let i;for(i of s)$u(this._signaler,i,t)}unbind(e,t){const s=this._lookup.get(t);this._lookup.delete(t);let i;for(i of s)Iu(this._signaler,i,t)}}Nu.$au={type:tt,name:"signal"};const jr=new WeakMap,ym=200;class Fu{constructor(){({performanceNow:this._now}=$(_n))}bind(e,t,s,i){const r={type:"throttle",delay:s??ym,now:this._now,signals:U(i)?[i]:i??V},o=t.limit?.(r);o==null?console.warn(`[DEV:aurelia] Binding ${t.constructor.name} does not support throttle rate limiting`):jr.set(t,o)}unbind(e,t){jr.get(t)?.dispose(),jr.delete(t)}}Fu.$au={type:tt,name:"throttle"};const Al=te("IAppTask"),Ce=_n;class wm{}const _t=(()=>{const n=new WeakMap;let e=!1;return new class{get hideProp(){return e}set hideProp(t){e=t}get(t,s){return n.get(t)?.[s]??null}set(t,s,i){const r=n.get(t)??(n.set(t,new wm),n.get(t));if(s in r)throw new Error(`Node already associated with a controller, remove the ref "${s}" first before associating with another controller`);return e||(t.$au??=r),r[s]=i}clear(t){n.get(t)!=null&&(n.delete(t),t.$au!=null&&delete t.$au)}}})(),fr=te("INode"),xo=(()=>{const n=new WeakMap;return Ut({add(e,t){let s=n.get(e);s==null&&n.set(e,s=[]),s.push(t)},getDefinitions(e){return n.get(e)??V}})})();class gi{get type(){return mm}constructor(e,t,s,i,r,o,a,c,l,u,h){this.Type=e,this.name=t,this.aliases=s,this.key=i,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=a,this.watches=c,this.dependencies=l,this.containerStrategy=u,this.defaultProperty=h}static create(e,t){let s,i;U(e)?(s=e,i={name:s}):(s=e.name,i=e);for(const r of Object.values(ze.from(i.bindables)))ze._add(r,t);return new gi(t,Zt(Lt(t,"name"),s),ve(Lt(t,"aliases"),i.aliases,t.aliases),rn(s),Zt(Lt(t,"isTemplateController"),i.isTemplateController,t.isTemplateController,!1),ze.from(...ze.getAll(t),Lt(t,"bindables"),t.bindables,i.bindables),Zt(Lt(t,"noMultiBindings"),i.noMultiBindings,t.noMultiBindings,!1),ve(xo.getDefinitions(t),t.watches),ve(Lt(t,"dependencies"),i.dependencies,t.dependencies),Zt(Lt(t,"containerStrategy"),i.containerStrategy,t.containerStrategy,"reuse"),Zt(Lt(t,"defaultProperty"),i.defaultProperty,t.defaultProperty,"value"))}register(e,t){const s=this.Type,i=typeof t=="string"?rn(t):this.key,r=this.aliases;e.has(i,!1)&&console.warn(T(154,this.name)),e.register(Tt(i,s),...r.map(o=>pn(i,rn(o))))}toString(){return`au:ca:${this.name}`}}const Be="custom-attribute",gn=Ms(Be),rn=n=>`${gn}:${n}`,Lt=(n,e)=>Pe(Wt(e),n),Cm=n=>K(n)&&(ur(gn,n)||n.$au?.type===Be),Vu=(n,e)=>_t.get(n,rn(e))??void 0,ba=(n,e)=>{const t=gi.create(n,e),s=t.Type;return ft(t,s,gn,bt),s},_a=n=>{const e=Pe(gn,n)??is(n,Be,gi.create);if(e===void 0)throw T(759,n);return e},km=(n,e)=>{let t="",s="";if(U(e))t=rn(e),s=e;else{const r=_a(e);t=r.key,s=r.name}let i=n;for(;i!==null;){const r=_t.get(i,t);if(r?.is(s))return r;i=Zi(i)}return null},ya=Ut({name:gn,keyFrom:rn,isType:Cm,for:Vu,closest:km,define:ba,getDefinition:_a,annotate(n,e,t){ft(t,n,Wt(e))},getAnnotation:Lt,find(n,e){const t=n.find(Be,e);return t===null?null:Pe(gn,t)??is(t,Be,gi.create)??null}}),zs=te("ILifecycleHooks");class Am{constructor(e,t){this.definition=e,this.instance=t}}class wa{constructor(e,t){this.Type=e,this.propertyNames=t}static create(e,t){const s=new Set;let i=t.prototype;for(;i!==ku;){for(const r of Su(i))r!=="constructor"&&!r.startsWith("_")&&s.add(r);i=Object.getPrototypeOf(i)}return new wa(t,s)}}const Sl=(()=>{const n=new WeakMap,e=new WeakMap;return Ut({define(t,s){const i=wa.create(t,s),r=i.Type;return e.set(r,i),{register(o){Tt(zs,r).register(o)}}},resolve(t){let s=n.get(t);if(s===void 0){n.set(t,s=new Sm);const i=t.root,r=i===t?t.getAll(zs):t.has(zs,!1)?i.getAll(zs).concat(t.getAll(zs)):i.getAll(zs);let o,a,c,l,u;for(o of r){a=e.get(o.constructor),c=new Am(a,o);for(l of a.propertyNames)u=s[l],u===void 0?s[l]=[c]:u.push(c)}}return s}})})();class Sm{}function mn(n){return"type"in n}const xl=te("ISSRContext");function pr(n,e,t,s,i){const r=n.views[0];if(r==null)return null;const o=r.nodeCount??1,a=uh(s,[o]);if(a.length===0||a[0].length===0)return null;const c=Dt.adoptSiblings(i,a[0]),l=e.createAdopted(t,c,r);return l.setLocation(s),{view:l,viewScope:r}}function xm(n,e,t,s,i){const r=n.views,o=r.length,a=Array(o);for(let u=0;u<o;++u)a[u]=r[u]?.nodeCount??1;const c=uh(s,a),l=Array(o);for(let u=0;u<o;++u){const h=c[u]??[],d=Dt.adoptSiblings(i,h),p=e.createAdopted(t,d,r[u]);p.setLocation(s),l[u]=p}return{views:l,viewScopes:r}}class qn{constructor(e,t,s,i){this.Type=e,this.name=t,this.aliases=s,this.key=i}static create(e,t){let s,i;return U(e)?(s=e,i={name:s}):(s=e.name,i=e),new qn(t,Zt($o(t,"name"),s),ve($o(t,"aliases"),i.aliases,t.aliases),ju.keyFrom(s))}register(e,t){const s=this.Type,i=typeof t=="string"?Zn(t):this.key,r=this.aliases;e.has(i,!1)?console.warn(`[DEV:aurelia] ${T(155,this.name)}`):e.register(e.has(s,!1)?null:Tt(s,s),pn(s,i),...r.map(o=>pn(s,Zn(o))))}}const Js="value-converter",Qs=Ms(Js),$o=(n,e)=>Pe(Wt(e),n),Zn=n=>`${Qs}:${n}`,ju=Ut({name:Qs,keyFrom:Zn,isType(n){return K(n)&&(ur(Qs,n)||n.$au?.type===Js)},define(n,e){const t=qn.create(n,e),s=t.Type;return ft(t,s,Qs,bt),s},getDefinition(n){const e=Pe(Qs,n)??is(n,Js,qn.create);if(e===void 0)throw T(152,n);return e},annotate(n,e,t){ft(t,n,Wt(e))},getAnnotation:$o,find(n,e){const t=n.find(Js,e);return t==null?null:Pe(Qs,t)??is(t,Js,qn.create)??null},get(n,e){try{return n.get(ln(Zn(e)))}catch(t){throw console.error("[DEV:aurelia] Cannot retrieve value converter with name",e),t}return n.get(ln(Zn(e)))}});class $m{constructor(e,t){this._value=void 0,this.b=e,this._flushQueue=t}flush(){this.b.isBound&&this.b.updateSource(this._value)}handleChange(e,t){const s=this.b;e!==ie(s.ast,s._scope,s,null)&&(this._value=e,this._flushQueue.add(this))}}const ds=(()=>{function n(e){this._scope=e}return e=>{We(e.prototype,"useScope",n)}})(),Kt=(()=>{class n{}const e=new WeakMap,t=new WeakMap,s=new WeakMap;function i(d){return this.l.get(d)}function r(d,p){let f=t.get(d);return f==null&&t.set(d,f=new n),f[p]??=Bu.get(d.l,p)}function o(d,p,f){const g=r(this,d);if(g==null)throw T(101,d);let m=s.get(this);if(m==null&&s.set(this,m={}),m[d])throw T(102,d);g.bind?.(p,this,...f)}function a(d,p){const f=r(this,d),g=s.get(this);f?.unbind?.(p,this),g!=null&&(g[d]=!1)}function c(d,p){let f=e.get(d);return f==null&&e.set(d,f=new n),f[p]??=ju.get(d.l,p)}function l(d){const p=c(this,d);if(p==null)throw T(103,d);const f=p.signals;if(f!=null){const g=this.l.get(Qi),m=f.length;let _=0;for(;_<m;++_)g.addSignalListener(f[_],this)}}function u(d){const p=c(this,d);if(p?.signals===void 0)return;const f=this.l.get(Qi);let g=0;for(;g<p.signals.length;++g)f.removeSignalListener(p.signals[g],this)}function h(d,p,f,g){const m=c(this,d);if(m==null)throw T(103,d);const _=m.withContext===!0;let w=null;switch(_&&(w={source:this.l.get(rs).controller.viewModel,binding:this}),p){case"toView":return"toView"in m?_?m.toView(f,w,...g):m.toView(f,...g):f;case"fromView":return"fromView"in m?_?m.fromView?.(f,w,...g):m.fromView?.(f,...g):f}}return d=>{const p=d.prototype;We(p,"get",i),We(p,"bindBehavior",o),We(p,"unbindBehavior",a),We(p,"bindConverter",l),We(p,"unbindConverter",u),We(p,"useConverter",h)}})(),Im=te("IFlushQueue",n=>n.singleton(Em));class Em{constructor(){this._flushing=!1,this._items=new Set}get count(){return this._items.size}add(e){if(this._items.add(e),!this._flushing){this._flushing=!0;try{this._items.forEach(Tm)}finally{this._flushing=!1}}}clear(){this._items.clear(),this._flushing=!1}}const Tm=function(n,e,t){t.delete(n),n.flush()},fs=(()=>{const n=new WeakSet,e=(s,i,r)=>{let o,a,c,l=!1;const u=()=>i(c),h=p=>{c=p,r.isBound?(a=o,o=Un(u,{delay:s.delay}),a?.cancel()):u()},d=h.dispose=()=>{a?.cancel(),o?.cancel(),a=o=void 0};return h.flush=()=>{l=o?.status===Cl,d(),l&&u()},h},t=(s,i,r)=>{let o,a,c=0,l=0,u,h=!1;const d=()=>s.now(),p=()=>i(u),f=m=>{u=m,r.isBound?(l=d()-c,a=o,l>s.delay?(c=d(),p()):o=Un(()=>{c=d(),p()},{delay:s.delay-l}),a?.cancel()):p()},g=f.dispose=()=>{a?.cancel(),o?.cancel(),a=o=void 0};return f.flush=()=>{h=o?.status===Cl,g(),h&&p()},f};return(s,i)=>{We(s.prototype,"limit",function(r){if(n.has(this))throw T(9996);n.add(this);const o=i(this,r),a=r.signals,c=a.length>0?this.get(Qi):null,l=this[o],u=(...p)=>l.call(this,...p),h=r.type==="debounce"?e(r,u,this):t(r,u,this),d=c?{handleChange:h.flush}:null;return this[o]=h,c&&a.forEach(p=>$u(c,p,d)),{dispose:()=>{c&&a.forEach(p=>Iu(c,p,d)),n.delete(this),h.dispose(),delete this[o]}}})}})(),ps=((n=new WeakSet)=>e=>function(){n.has(this)||(n.add(this),e.call(this))})();class et{constructor(e,t,s,i,r,o,a,c,l){this.targetAttribute=o,this.targetProperty=a,this.mode=c,this.strict=l,this.isBound=!1,this._scope=void 0,this._isQueued=!1,this._value=void 0,this.boundFn=!1,this._isMulti=!1,this.l=t,this.ast=i,this._controller=e,this.target=r,this.oL=s,(this._isMulti=a.indexOf(" ")>-1)&&!et._splitString.has(a)&&et._splitString.set(a,a.split(" "))}updateTarget(e){const t=this.target,s=this.targetAttribute,i=this.targetProperty;switch(s){case"class":if(this._isMulti){const r=!!e;for(const o of et._splitString.get(i))t.classList.toggle(o,r)}else t.classList.toggle(i,!!e);break;case"style":{let r="",o=Ls(e);U(o)&&o.includes("!important")&&(r="important",o=o.replace("!important","")),t.style.setProperty(i,o,r);break}default:e==null?t.removeAttribute(s):t.setAttribute(s,Ls(e))}}handleChange(){this.isBound&&(this._isQueued||(this._isQueued=!0,nt(()=>{if(this._isQueued=!1,!this.isBound)return;this.obs.version++;const e=ie(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),e!==this._value&&(this._value=e,this.updateTarget(e))})))}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,cs(this.ast,e,this),this.mode&(me|cr)&&this.updateTarget(this._value=ie(this.ast,e,this,(this.mode&me)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,us(this.ast,this._scope,this),this._scope=void 0,this._value=void 0,this.obs.clearAll())}}et.mix=ps(()=>{ds(et),fs(et,()=>"updateTarget"),it(et,null),Kt(et)});et._splitString=new Map;class Pm{constructor(e,t,s,i,r,o,a,c){this.ast=i,this.target=r,this.targetProperty=o,this.mode=a,this.strict=c,this.isBound=!1,this._scope=void 0,this._isQueued=!1,this._controller=e,this.oL=s,this._targetObserver=s.getAccessor(r,o);const l=i.expressions,u=this.partBindings=Array(l.length),h=l.length;let d=0;for(;h>d;++d)u[d]=new ys(l[d],r,o,t,s,c,this)}_handlePartChange(){if(!this.isBound||this._controller.state>Oe)return;if(this._controller.state!==lt&&(this._targetObserver.type&Et)>0){if(this._isQueued)return;this._isQueued=!0,nt(()=>{this._isQueued=!1,!(!this.isBound||this._controller.state>Oe)&&this.updateTarget()})}else this.updateTarget()}updateTarget(){const e=this.partBindings,t=this.ast,s=this.target,i=this.targetProperty,r=t.parts,o=e.length;let a="",c=0;if(o===1)a=r[0]+e[0]._evaluate()+r[1];else for(a=r[0];o>c;++c)a+=e[c]._evaluate()+r[c+1];this._targetObserver.setValue(a,s,i)}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e;const t=this.partBindings,s=t.length;let i=0;for(;s>i;++i)t[i].bind(e);this.updateTarget(),this.isBound=!0}unbind(){if(!this.isBound)return;this.isBound=!1,this._scope=void 0;const e=this.partBindings,t=e.length;let s=0;for(;t>s;++s)e[s].unbind()}useAccessor(e){this._targetObserver=e}}class ys{constructor(e,t,s,i,r,o,a){this.ast=e,this.target=t,this.targetProperty=s,this.strict=o,this.owner=a,this.mode=me,this.isBound=!1,this._value="",this.boundFn=!1,this._isDirty=!1,this.l=i,this.oL=r}updateTarget(){this.owner._handlePartChange()}handleChange(){this.isBound&&(this._isDirty=!0,this.updateTarget())}handleCollectionChange(){this.isBound&&(this._isDirty=!0,this.updateTarget())}_evaluate(){if(!this._isDirty)return this._value;this.obs.version++;const e=ie(this.ast,this._scope,this,(this.mode&me)>0?this:null);return this.obs.clear(),this._value=e,ue(e)&&this.observeCollection(e),this._isDirty=!1,this._value}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,cs(this.ast,e,this),this._value=ie(this.ast,this._scope,this,(this.mode&me)>0?this:null),ue(this._value)&&this.observeCollection(this._value),this._isDirty=!1,this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this._value=void 0,this._isDirty=!1,us(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}ys.mix=ps(()=>{ds(ys),fs(ys,()=>"updateTarget"),it(ys,null),Kt(ys)});class ws{constructor(e,t,s,i,r,o,a){this.p=i,this.ast=r,this.target=o,this.strict=a,this.isBound=!1,this.mode=me,this._isQueued=!1,this._value="",this._needsRemoveNode=!1,this.boundFn=!1,this.l=t,this._controller=e,this.oL=s}updateTarget(e){const t=this.target,s=this._value;this._value=e,this._needsRemoveNode&&(s.parentNode?.removeChild(s),this._needsRemoveNode=!1),e instanceof this.p.Node&&(t.parentNode?.insertBefore(e,t),e="",this._needsRemoveNode=!0),t.textContent=Ls(e??"")}handleChange(){!this.isBound||this._controller.state>Oe||this._isQueued||(this._isQueued=!0,nt(()=>{if(this._isQueued=!1,!this.isBound||this._controller.state>Oe)return;this.obs.version++;const e=ie(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),e!==this._value&&(ue(e)&&this.observeCollection(e),this.updateTarget(e))}))}handleCollectionChange(){!this.isBound||this._controller.state>Oe||this._isQueued||(this._isQueued=!0,nt(()=>{if(this._isQueued=!1,!this.isBound||this._controller.state>Oe)return;this.obs.version++;const e=this._value=ie(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),ue(e)&&this.observeCollection(e),this.updateTarget(e)}))}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,cs(this.ast,e,this);const t=this._value=ie(this.ast,this._scope,this,(this.mode&me)>0?this:null);ue(t)&&this.observeCollection(t),this.updateTarget(t),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,us(this.ast,this._scope,this),this._needsRemoveNode&&this._value.parentNode?.removeChild(this._value),this._scope=void 0,this.obs.clearAll())}}ws.mix=ps(()=>{ds(ws),fs(ws,()=>"updateTarget"),it(ws,null),Kt(ws)});class Cs{constructor(e,t,s,i,r,o,a){this.ast=i,this.targetProperty=r,this.isBound=!1,this._scope=void 0,this.target=null,this.boundFn=!1,this.l=t,this.oL=s,this.strict=a,this._toBindingContext=o,this._controller=e}updateTarget(){this.target[this.targetProperty]=this._value}handleChange(){!this.isBound||this._controller.state>Oe||(this.obs.version++,this._value=ie(this.ast,this._scope,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,this.target=this._toBindingContext?e.bindingContext:e.overrideContext,cs(this.ast,e,this),this._value=ie(this.ast,this._scope,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,us(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}Cs.mix=ps(()=>{ds(Cs),fs(Cs,()=>"updateTarget"),it(Cs,null),Kt(Cs)});class Le{constructor(e,t,s,i,r,o,a,c){this.ast=i,this.target=r,this.targetProperty=o,this.mode=a,this.strict=c,this.isBound=!1,this._scope=void 0,this._targetObserver=void 0,this._isQueued=!1,this._targetSubscriber=null,this.boundFn=!1,this.l=t,this._controller=e,this.oL=s}updateTarget(e){this._targetObserver.setValue(e,this.target,this.targetProperty)}updateSource(e){hn(this.ast,this._scope,this,null,e)}handleChange(){if(!this.isBound||this._controller.state>Oe)return;if(this._controller.state!==lt&&(this._targetObserver.type&Et)>0){if(this._isQueued)return;this._isQueued=!0,nt(()=>{this._isQueued=!1,this.isBound&&this._handleChange()})}else this._handleChange()}_handleChange(){this.obs.version++;const e=ie(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),this.updateTarget(e)}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,cs(this.ast,e,this);const t=this.oL,s=this.mode;let i=this._targetObserver;i||(s&Ht?i=t.getObserver(this.target,this.targetProperty):i=t.getAccessor(this.target,this.targetProperty),this._targetObserver=i);const r=(s&me)>0;s&(me|cr)&&this.updateTarget(ie(this.ast,this._scope,this,r?this:null)),s&Ht&&(i.subscribe(this._targetSubscriber??=new $m(this,this.l.get(Im))),r||this.updateSource(i.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this._targetSubscriber&&(this._targetObserver.unsubscribe(this._targetSubscriber),this._targetSubscriber=null),us(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}useTargetObserver(e){this._targetObserver?.unsubscribe(this),(this._targetObserver=e).subscribe(this)}useTargetSubscriber(e){if(this._targetSubscriber!=null)throw T(9995);this._targetSubscriber=e}}Le.mix=ps(()=>{ds(Le),fs(Le,n=>n.mode&Ht?"updateSource":"updateTarget"),it(Le,null),Kt(Le)});class ks{constructor(e,t,s,i,r){this.oL=t,this.ast=s,this.target=i,this.strict=r,this.isBound=!1,this._scope=void 0,this.l=e}updateSource(){this.isBound?(this.obs.version++,hn(this.ast,this._scope,this,this,this.target),this.obs.clear()):hn(this.ast,this._scope,this,null,null)}handleChange(){this.isBound&&this.updateSource()}handleCollectionChange(){this.isBound&&this.updateSource()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,cs(this.ast,e,this),this.isBound=!0,this.updateSource()}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),ie(this.ast,this._scope,this,null)===this.target&&this.updateSource(),us(this.ast,this._scope,this),this._scope=void 0)}}ks.mix=ps(()=>{it(ks,null),fs(ks,()=>"updateSource"),ds(ks),Kt(ks)});class Bm{constructor(e,t=!1,s){this.prevent=e,this.capture=t,this.onError=s}}class Xs{constructor(e,t,s,i,r,o,a){this.ast=t,this.target=s,this.targetEvent=i,this.strict=a,this.isBound=!1,this.self=!1,this.boundFn=!0,this._modifiedEventHandler=null,this.l=e,this._options=r,this._modifiedEventHandler=o}callSource(e){const t=this._scope.overrideContext;t.$event=e;let s=ie(this.ast,this._scope,this,null);delete t.$event,K(s)&&(s=s(e)),s!==!0&&this._options.prevent&&e.preventDefault()}handleEvent(e){if(!(this.self&&this.target!==e.composedPath()[0])&&this._modifiedEventHandler?.(e)!==!1)try{this.callSource(e)}catch(t){this._options.onError(e,t)}}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,cs(this.ast,e,this),this.target.addEventListener(this.targetEvent,this,this._options),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,us(this.ast,this._scope,this),this._scope=void 0,this.target.removeEventListener(this.targetEvent,this,this._options))}}Xs.mix=ps(function(){ds(Xs),fs(Xs,()=>"callSource"),Kt(Xs)});const gr=te("IEventModifier"),zu=te("IKeyMapping",n=>n.instance({meta:Ut(["ctrl","alt","shift","meta"]),keys:{escape:"Escape",enter:"Enter",space:"Space",tab:"tab",...Array.from({length:25}).reduce((e,t,s)=>{let i=String.fromCharCode(s+65);return e[s+65]=i,i=String.fromCharCode(s+97),e[s+97]=e[i]=i,e},{})}}));class Ca{constructor(){this.type=["click","mousedown","mousemove","mouseup","dblclick","contextmenu"],this._mapping=$(zu),this._mouseButtons=["left","middle","right"]}static register(e){e.register(Tt(gr,Ca))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let i=!1,r=!1,o;for(o of t){switch(o){case"prevent":i=!0;continue;case"stop":r=!0;continue;case"left":case"middle":case"right":if(s.button!==this._mouseButtons.indexOf(o))return!1;continue}if(this._mapping.meta.includes(o)&&s[`${o}Key`]!==!0)return!1;console.warn(`[DEV:aurelia]Modifier '${o}' is not supported for mouse events.`)}return i&&s.preventDefault(),r&&s.stopPropagation(),!0})}}class ka{constructor(){this._mapping=$(zu),this.type=["keydown","keyup"]}static register(e){e.register(Tt(gr,ka))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let i=!1,r=!1,o;for(o of t){switch(o){case"prevent":i=!0;continue;case"stop":r=!0;continue}if(this._mapping.meta.includes(o)){if(s[`${o}Key`]!==!0)return!1;continue}if(this._mapping.keys[o]!==s.key)return!1;console.warn(`Modifier '${o}' is not supported for keyboard event with key "${s.key}".`)}return i&&s.preventDefault(),r&&s.stopPropagation(),!0})}}class Aa{constructor(){this.type=["$ALL"]}static register(e){e.register(Tt(gr,Aa))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let i=!1,r=!1,o;for(o of t){switch(o){case"prevent":i=!0;continue;case"stop":r=!0;continue}console.warn(`Modifier '${o}' is not supported for event "${s.type}".`)}return i&&s.preventDefault(),r&&s.stopPropagation(),!0})}}const Hu=te("IEventModifierHandler",n=>n.instance({getHandler:()=>(console.warn("No event modifier handler registered"),null)}));class Sa{constructor(){this._reg=$(Wo(gr)).reduce((e,t)=>((ue(t.type)?t.type:[t.type]).forEach(i=>e[i]=t),e),{})}static register(e){e.register(Tt(Hu,Sa))}getHandler(e,t){return U(t)?(this._reg[e]??this._reg.$ALL)?.getHandler(t)??null:null}}const Lm={register(n){n.register(Sa,Ca,ka,Aa)}},Qe=te("IViewFactory");class mr{constructor(e,t){this.isCaching=!1,this._cache=null,this._cacheSize=-1,this.name=t.name,this.container=e,this.def=t}setCacheSize(e,t){e&&(e==="*"?e=mr.maxCacheSize:U(e)&&(e=parseInt(e,10)),(this._cacheSize===-1||!t)&&(this._cacheSize=e)),this._cacheSize>0?this._cache=[]:this._cache=null,this.isCaching=this._cacheSize>0}canReturnToCache(e){return this._cache!=null&&this._cache.length<this._cacheSize}tryReturnToCache(e){return this.canReturnToCache(e)?(this._cache.push(e),!0):!1}create(e){const t=this._cache;let s;return t!=null&&t.length>0?(s=t.pop(),s):(s=Re.$view(this,e),s)}createAdopted(e,t,s){return Re.$viewAdopted(this,e,t,s)}}mr.maxCacheSize=65535;const Rm=(()=>{const n=(e,t)=>e.document.createComment(t);return e=>{const t=n(e,"au-end");return t.$start=n(e,"au-start"),t}})(),Ci=(n,e,t)=>{if(n===null)return;const s=t.length;let i=0;for(;s>i;)n.insertBefore(t[i],e),++i},Wu=(n,e)=>new n.ownerDocument.defaultView.MutationObserver(e),Om=n=>n.nodeType===1,Uu="default",Mm="au-slot",Ku=te("IAuSlotsInfo");class Qu{constructor(e){this.projectedSlots=e}}const Dm=te("IAuSlotWatcher");class vr{static create(e,t,s,i,r,o,a,c){const l=[],u=i.renderers,h=p=>{let f=p,g=e;for(;g!=null&&f>0;)g=g.parent,--f;if(g==null)throw T(9999);return g},d=p=>{const f=h(p),g=new vr(f),m=r.compileSpread(f.controller.definition,f.instruction?.captures??V,f.controller.container,t,s);let _;for(_ of m)switch(_.type){case Ni:d(p+1);break;case go:u[_.instruction.type].render(g,on(t),_.instruction,o,a,c);break;default:u[_.type].render(g,t,_,o,a,c)}l.push(g)};return d(0),l}get container(){return this.locator}get definition(){return this.$controller.definition}get state(){return this.$controller.state}constructor(e){this.isBound=!1,this._innerBindings=[],this.locator=(this.$controller=(this._hydrationContext=e).controller).container}get(e){return this.locator.get(e)}bind(e){if(this.isBound)return;this.isBound=!0;const t=this.scope=this._hydrationContext.controller.scope.parent??void 0;if(t==null)throw T(9999);this._innerBindings.forEach(s=>s.bind(t))}unbind(){this._innerBindings.forEach(e=>e.unbind()),this.isBound=!1}addBinding(e){this._innerBindings.push(e)}addChild(e){if(e.vmKind!==_s)throw T(9998);this.$controller.addChild(e)}}class vt{constructor(e,t,s,i,r,o,a){this.target=t,this.targetKeys=s,this.ast=i,this.strict=a,this.isBound=!1,this._scope=void 0,this.boundFn=!1,this._bindingCache={},this._scopeCache=new WeakMap,this._controller=e,this.oL=r,this.l=o}updateTarget(){this.obs.version++;const e=ie(this.ast,this._scope,this,this);this.obs.clear(),this._createBindings(e,!0)}handleChange(){this.isBound&&this.updateTarget()}handleCollectionChange(){this.isBound&&this.updateTarget()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this.isBound=!0,this._scope=e,cs(this.ast,e,this);const t=ie(this.ast,e,this,this);this._createBindings(t,!1)}unbind(){if(!this.isBound)return;this.isBound=!1,us(this.ast,this._scope,this),this._scope=void 0;let e;for(e in this._bindingCache)this._bindingCache[e].unbind()}_createBindings(e,t){let s;if(!zo(e)){console.warn(`[DEV:aurelia] $bindable spread is given a non object for properties: "${this.targetKeys.join(", ")}" of ${this.target.constructor.name}`);for(s in this._bindingCache)this._bindingCache[s]?.unbind();return}let i,r=this._scopeCache.get(e);r==null&&this._scopeCache.set(e,r=ce.fromParent(this._scope,e));for(s of this.targetKeys)i=this._bindingCache[s],s in e?(i==null&&(i=this._bindingCache[s]=new Le(this._controller,this.l,this.oL,vt._astCache[s]??=zn(s,0),this.target,s,fi.toView,this.strict)),i.bind(r)):t&&i?.unbind()}}vt.mix=ps(()=>{ds(vt),fs(vt,()=>"updateTarget"),it(vt,null),Kt(vt)});vt._astCache={};const $l=(n,e,t,s)=>{n.addEventListener(e,t,s)},Il=(n,e,t,s)=>{n.removeEventListener(e,t,s)},xa=n=>{let e;const t=n.prototype;We(t,"subscribe",function(s){if(this.subs.add(s)&&this.subs.count===1){for(e of this._config.events)$l(this._el,e,this);this._listened=!0,this._start?.()}}),We(t,"unsubscribe",function(s){if(this.subs.remove(s)&&this.subs.count===0){for(e of this._config.events)Il(this._el,e,this);this._listened=!1,this._stop?.()}}),We(t,"useConfig",function(s){if(this._config=s,this._listened){for(e of this._config.events)Il(this._el,e,this);for(e of this._config.events)$l(this._el,e,this)}})},br=n=>{We(n.prototype,"subscribe",st),We(n.prototype,"unsubscribe",st)};class _r{get doNotCache(){return!0}constructor(e,t={}){this.obj=e,this.mapping=t,this.type=hs|Et,this._value="",this._nameIndex={},this._version=0}getValue(){return this._value}setValue(e){e!==this._value&&(this._value=e,this._flushChanges())}_flushChanges(){const e=this._nameIndex,t=++this._version,s=this.obj.classList,i=Gu(this._value),r=i.length;let o=0,a;if(r>0)for(;o<r;o++)a=i[o],a=this.mapping[a]||a,a.length!==0&&(e[a]=this._version,s.add(a));if(t!==1)for(a in e)a=this.mapping[a]||a,e[a]!==t&&s.remove(a)}}br(_r);function Gu(n){if(U(n))return El(n);if(typeof n!="object")return V;if(ue(n)){const s=n.length;if(s>0){const i=[];let r=0;for(;s>r;++r)i.push(...Gu(n[r]));return i}else return V}const e=[];let t;for(t in n)n[t]&&(t.includes(" ")?e.push(...El(t)):e.push(t));return e}function El(n){const e=n.match(/\S+/g);return e===null?V:e}const qu=n=>({$isResolver:!0,resolve(e,t){return t.get(rs).controller.container.get(Dd(n))}}),Zu=te("IRenderer");function ke(n,e){const t=n[Symbol.metadata]??=Object.create(null);return t[St]={register(s){Tt(Zu,n).register(s)}},n}function kt(n,e,t){return U(e)?n.parse(e,t):e}function yr(n){return n.viewModel!=null?n.viewModel:n}function Nm(n,e){if(e==="element")return n;switch(e){case"controller":return on(n);case"view":throw T(750);case"component":return on(n).viewModel;default:{const t=Vu(n,e);if(t!==void 0)return t.viewModel;const s=on(n,{name:e});if(s===void 0)throw T(751,e);return s.viewModel}}}const Fm=ke(class{constructor(){this.target=In}render(e,t,s){const i=yr(t);i.$observers?.[s.to]!==void 0?i.$observers[s.to].setValue(s.value):i[s.to]=s.value}}),Vm=ke(class{constructor(){this._rendering=$(Fs),this.target=ea}render(e,t,s,i,r,o,a){let c,l,u;const h=s.res,d=s.projections,p=e.container;switch(typeof h){case"string":if(c=ut.find(p,h),c==null)throw T(752,s,e);break;default:c=h}const g=s.containerless||c.containerless?ni(t):null,m=lv(i,e,t,s,g,d==null?void 0:new Qu(ma(d)));l=m.invoke(c.Type),u=Re.$el(m,l,t,s,c,g,a);const _=this._rendering.renderers,w=s.props,P=w.length;let A=0,C;for(;P>A;)C=w[A],_[C.type].render(e,u,C,i,r,o),++A;e.addChild(u)}}),jm=ke(class{constructor(){this._rendering=$(Fs),this.target=uo}render(e,t,s,i,r,o){let a=e.container,c;switch(typeof s.res){case"string":if(c=ya.find(a,s.res),c==null)throw T(753,s,e);break;default:c=s.res}const l=th(i,c,e,t,s,void 0,void 0),u=Re.$attr(l.ctn,l.vm,t,c);_t.set(t,c.key,u);const h=this._rendering.renderers,d=s.props,p=d.length;let f=0,g;for(;p>f;)g=d[f],h[g.type].render(e,u,g,i,r,o),++f;e.addChild(u)}}),zm=ke(class{constructor(){this._rendering=$(Fs),this.target=ta}render(e,t,s,i,r,o,a){let c=e.container,l;switch(typeof s.res){case"string":if(l=ya.find(c,s.res),l==null)throw T(754,s,e);break;default:l=s.res}const u=this._rendering.getViewFactory(s.def,l.containerStrategy==="new"?c.createChild({inheritParentResources:!0}):c),h=ni(t),d=th(i,l,e,t,s,u,h),p=Re.$attr(d.ctn,d.vm,t,l,a);_t.set(h,l.key,p),d.vm.link?.(e,p,t,s);const f=this._rendering.renderers,g=s.props,m=g.length;let _=0,w;for(;m>_;)w=g[_],f[w.type].render(e,p,w,i,r,o),++_;e.addChild(p)}}),Hm=ke(class{constructor(){this.target=Qc,Cs.mix()}render(e,t,s,i,r,o){t.remove();const a=s.instructions,c=s.toBindingContext,l=e.container,u=a.length;let h,d,p=0;for(;u>p;)h=a[p],d=kt(r,h.from,pt),e.addBinding(new Cs(e,l,o,d,h.to,c,e.strict??!1)),++p}}),Wm=ke(class{constructor(){this.target=Gc,ks.mix()}render(e,t,s,i,r,o){e.addBinding(new ks(e.container,o,kt(r,s.from,pt),Nm(t,s.to),e.strict??!1))}}),Um=ke(class{constructor(){this.target=bs,ys.mix()}render(e,t,s,i,r,o){const a=e.container,c=new Pm(e,a,o,kt(r,s.from,am),yr(t),s.to,me,e.strict??!1);if(s.to==="class"&&c.target.nodeType>0){const l=a.get(qu(Gi));c.useAccessor(new _r(c.target,l))}e.addBinding(c)}}),Km=ke(class{constructor(){this.target=Ds,Le.mix()}render(e,t,s,i,r,o){const a=e.container,c=new Le(e,a,o,kt(r,s.from,pt),yr(t),s.to,s.mode,e.strict??!1);if(s.to==="class"&&c.target.nodeType>0){const l=a.get(qu(Gi));c.useTargetObserver(new _r(c.target,l))}e.addBinding(c)}}),Qm=ke(class{constructor(){this.target=qc,Le.mix()}render(e,t,s,i,r,o){e.addBinding(new Le(e,e.container,o,kt(r,s.forOf,lm),yr(t),s.to,me,e.strict??!1))}}),Gm=ke(class{constructor(){this.target=Zc,ws.mix()}render(e,t,s,i,r,o){e.addBinding(new ws(e,e.container,o,i,kt(r,s.from,pt),t,e.strict??!1))}}),qm=te("IListenerBindingOptions",n=>n.singleton(class{constructor(){this.p=$(Ce),this.prevent=!1,this.onError=(e,t)=>{const s=new this.p.CustomEvent("au-event-error",{cancelable:!0,detail:{event:e,error:t}});if(this.p.window.dispatchEvent(s),!s.defaultPrevented)throw t}}})),Zm=ke(class{constructor(){this.target=sa,this._modifierHandler=$(Hu),this._defaultOptions=$(qm),Xs.mix()}render(e,t,s,i,r){e.addBinding(new Xs(e.container,kt(r,s.from,cm),t,s.to,new Bm(this._defaultOptions.prevent,s.capture,this._defaultOptions.onError),this._modifierHandler.getHandler(s.to,s.modifier),e.strict??!1))}}),Jm=ke(class{constructor(){this.target=ho}render(e,t,s){t.setAttribute(s.to,s.value)}}),Xm=ke(class{constructor(){this.target=fo}render(e,t,s){ov(t.classList,s.value)}}),Ym=ke(class{constructor(){this.target=po}render(e,t,s){t.style.cssText+=s.value}}),ev=["height","width","border-width","padding","padding-left","padding-right","padding-top","padding-right","padding-inline","padding-block","margin","margin-left","margin-right","margin-top","margin-bottom","margin-inline","margin-block","top","right","bottom","left"],tv=ke(class{constructor(){this.target=Lp,Le.mix()}render(e,t,s,i,r,o){if(ev.includes(s.to)){e.addBinding(new sv(e,e.container,o,kt(r,s.from,pt),t.style,s.to,me,e.strict??!1));return}e.addBinding(new Le(e,e.container,o,kt(r,s.from,pt),t.style,s.to,me,e.strict??!1))}});class sv extends Le{updateTarget(e){return typeof e=="number"&&e>0&&console.warn(`[DEV]: Setting number ${e} as value for style.${this.targetProperty}. Did you meant "${e}px"?`),super.updateTarget(e)}}const nv=ke(class{constructor(){this.target=ir,et.mix()}render(e,t,s,i,r,o){const a=e.container,c=a.has(Gi,!1)?a.get(Gi):null;e.addBinding(new et(e,a,o,kt(r,s.from,pt),t,s.attr,c==null?s.to:s.to.split(/\s/g).map(l=>c[l]??l).join(" "),me,e.strict??!1))}}),iv=ke(class{constructor(){this._compiler=$(nr),this._rendering=$(Fs),this.target=Ni}render(e,t,s,i,r,o){vr.create(e.container.get(rs),t,void 0,this._rendering,this._compiler,i,r,o).forEach(a=>e.addBinding(a))}}),rv=ke(class{constructor(){this.target=Fi,vt.mix()}render(e,t,s,i,r,o){const a=s.target;if(a==="$bindables")e.addBinding(new vt(e,t.viewModel,ma(t.definition.bindables),r.parse(s.from,pt),o,e.container,e.strict??!1));else throw T(820,a)}});function ov(n,e){const t=e.length;let s=0;for(let i=0;i<t;++i)e.charCodeAt(i)===32?(i!==s&&n.add(e.slice(s,i)),s=i+1):i+1===t&&n.add(e.slice(s))}const Ju="IController",Xu="IInstruction",av="IRenderLocation",Yu="ISlotsInfo";function lv(n,e,t,s,i,r){const o=e.container.createChild();return Cr(o,t,n),oe(o,wr,new _e(Ju,e)),oe(o,yn,new _e(Xu,s)),oe(o,Me,i==null?nh:new sh(i)),oe(o,Qe,ih),oe(o,Ku,r==null?rh:new _e(Yu,r)),o}class eh{get $isResolver(){return!0}constructor(e){this.f=e}resolve(){const e=this.f;if(e===null)throw T(755);if(!U(e.name)||e.name.length===0)throw T(756);return e}}function th(n,e,t,s,i,r,o,a){const c=t instanceof Re?t:t.$controller,l=c.container.createChild();return Cr(l,s,n),oe(l,wr,new _e(Ju,c)),oe(l,yn,new _e(Xu,i)),oe(l,Me,o==null?nh:new _e(av,o)),oe(l,Qe,r==null?ih:new eh(r)),oe(l,Ku,rh),{vm:l.invoke(e.Type),ctn:l}}class sh{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(e){this._location=e}resolve(){return this._location}}const nh=new sh(null),ih=new eh(null),rh=new _e(Yu,new Qu(V)),Fs=te("IRendering",n=>n.singleton(cv));class cv{get renderers(){return this._renderers??=this._ctn.getAll(Zu,!1).reduce((e,t)=>(e[t.target]!==void 0&&console.warn(`[DEV:aurelia] Renderer for target ${t.target} already exists.`),e[t.target]??=t,e),Y())}constructor(){this._compilationCache=new WeakMap,this._fragmentCache=new WeakMap;const e=this._ctn=$(ci).root,t=this._platform=e.get(Ce);this._exprParser=e.get(ss),this._observerLocator=e.get(Cn),this._empty=new Dt(t,t.document.createDocumentFragment()),this._preserveMarkers=e.has(xl,!0)?e.get(xl).preserveMarkers:!1}compile(e,t){const s=t.get(nr),i=this._compilationCache;let r=i.get(e);return r==null&&i.set(e,r=Fe.create(e.needsCompile?s.compile(e,t):e)),r}getViewFactory(e,t){return new mr(t,Fe.getOrCreate(e))}createNodes(e){if(e.enhance===!0)return new Dt(this._platform,e.template);let t,s=!1;const i=this._fragmentCache,r=this._platform,o=r.document;if(i.has(e))t=i.get(e);else{const c=e.template;let l;c==null?t=null:c instanceof r.Node?c.nodeName==="TEMPLATE"?(t=c.content,s=!0):(t=o.createDocumentFragment()).appendChild(c.cloneNode(!0)):(l=o.createElement("template"),U(c)&&(l.innerHTML=c),t=l.content,s=!0),i.set(e,t)}if(t==null)return this._empty;const a=s?o.importNode(t,!0):o.adoptNode(t.cloneNode(!0));return new Dt(this._platform,a,this._preserveMarkers)}adoptNodes(e){return Dt.adoptChildren(this._platform,e)}render(e,t,s,i){const r=s.instructions,o=this.renderers,a=t.length,c=r.length,l=e.ssrScope,u=l!=null,h=l?.children;let d=0,p=0,f=0,g=c,m,_,w;if(!u&&a!==c)throw T(757,a,c);if(i!=null&&(m=s.surrogates,(g=m.length)>0))for(f=0;g>f;)_=m[f],o[_.type].render(e,i,_,this._platform,this._exprParser,this._observerLocator),++f;if(c>0)for(;c>p;){for(m=r[p],w=t[p],f=0,g=m.length;g>f;){_=m[f];const P=_.type,C=(P===ta||P===ea)&&h!=null?h[d++]:void 0;o[P].render(e,w,_,this._platform,this._exprParser,this._observerLocator,C),++f}++p}}}const Tl=te("IShadowDOMStyles"),uv=te("IShadowDOMGlobalStyles",n=>n.instance({applyTo:st})),{enter:hv,exit:dv}=fg,{wrap:fv,unwrap:pv}=Zg;class oh{get value(){return this._value}constructor(e,t,s,i,r="async"){this.obj=e,this.$get=s,this.isBound=!1,this._isQueued=!1,this._computeDepth=0,this._value=void 0,this._callback=i,this.oL=t,this._flush=r}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(this.isBound){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,nt(()=>{this._isQueued=!1,this._run()}))}}_run(){if(!this.isBound)return;const e=this.obj,t=this._value;if(++this._computeDepth>100)throw T(655);const s=this.compute();jt(s,t)||this._callback.call(e,s,t,e),this._isQueued||(this._computeDepth=0)}compute(){this.obs.version++;try{return hv(this),this._value=pv(this.$get.call(void 0,fv(this.obj),this))}finally{this.obs.clear(),dv(this)}}}it(oh,null);class Io{get value(){return this._value}constructor(e,t,s,i,r,o="async"){this.scope=e,this.l=t,this.oL=s,this.isBound=!1,this._isQueued=!1,this.boundFn=!1,this.obj=e.bindingContext,this._expression=i,this._callback=r,this._flush=o}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){if(this.isBound){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,nt(()=>{this._isQueued=!1,this._run()}))}}_run(){if(!this.isBound)return;const e=this._expression,t=this.obj,s=this._value;this.obs.version++;const i=ie(e,this.scope,this,this);this.obs.clear(),jt(i,s)||(this._value=i,this._callback.call(t,i,s,t))}bind(){this.isBound||(this.obs.version++,this._value=ie(this._expression,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this._value=void 0)}}it(Io,null),Kt(Io);class Re{get lifecycleHooks(){return this._lifecycleHooks}get isActive(){return(this.state&(lt|Oe))>0&&(this.state&As)===0}get name(){if(this.parent===null)switch(this.vmKind){case _s:return`[${this.definition.name}]`;case Xe:return this.definition.name;case $e:return this.viewFactory.name}switch(this.vmKind){case _s:return`${this.parent.name}>[${this.definition.name}]`;case Xe:return`${this.parent.name}>${this.definition.name}`;case $e:return this.viewFactory.name===this.parent.definition?.name?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this._vm}set viewModel(e){this._vm=e,this._vmHooks=e==null||this.vmKind===$e?Ys.none:new Ys(e)}get strict(){return this.definition?.strict}constructor(e,t,s,i,r,o,a){this.container=e,this.vmKind=t,this.definition=s,this.viewFactory=i,this.host=o,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.scope=null,this.isBound=!1,this._isBindingDone=!1,this.mountTarget=ah,this.shadowRoot=null,this.nodes=null,this.location=null,this._lifecycleHooks=null,this.state=zr,this._fullyNamed=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this._activatingStack=0,this._detachingStack=0,this._unbindingStack=0,this._vm=r,this._vmHooks=t===$e?Ys.none:new Ys(r),this.logger=null,this.debug=!1,this.location=a,this._rendering=e.root.get(Fs)}static getCached(e){return Gt.get(e)}static getCachedOrThrow(e){const t=Re.getCached(e);if(t===void 0)throw T(500,e);return t}static $el(e,t,s,i,r=void 0,o=null,a=null){if(Gt.has(t))return Gt.get(t);if(r==null)try{r=dh(t.constructor)}catch(u){throw console.error(`[DEV:aurelia] Custom element definition not found for creating a controller with host: <${s.nodeName} /> and component ${t.constructor.name||"(Anonymous) class"}`),u}oe(e,r.Type,new _e(r.key,t,r.Type));const c=new Re(e,Xe,r,null,t,s,o),l=e.get(Uo(rs));return r.dependencies.length>0&&e.register(...r.dependencies),oe(e,rs,new _e("IHydrationContext",new lh(c,i,l))),Gt.set(t,c),a!=null&&(c.ssrScope=a),(i==null||i.hydrate!==!1)&&c._hydrateCustomElement(i),c}static $attr(e,t,s,i,r){if(Gt.has(t))return Gt.get(t);i=i??_a(t.constructor),oe(e,i.Type,new _e(i.key,t,i.Type));const o=new Re(e,_s,i,null,t,s,null);return i.dependencies.length>0&&e.register(...i.dependencies),Gt.set(t,o),r!=null&&(o.ssrScope=r),o._hydrateCustomAttribute(),o}static $view(e,t=void 0,s=null){const i=new Re(e.container,$e,null,e,null,s,null);return i.parent=t??null,i._hydrateSynthetic(),i}static $viewAdopted(e,t,s,i){const r=new Re(e.container,$e,null,e,null,null,null);return r.parent=t??null,i!=null&&(r.ssrScope=i),r._hydrateSyntheticAdopted(s),r}_hydrateCustomElement(e){this.logger=this.container.get(cn).root,this.debug=this.logger.config.level<=zd.debug,this.debug&&(this.logger=this.logger.scopeTo(this.name));const t=this.container,s=this._vm,i=this.definition;this.scope=ce.create(s,null,!0),i.watches.length>0&&Ll(this,t,i,s),Pl(this,i,s),this._lifecycleHooks=Sl.resolve(t),t.register(i.Type),i.injectable!==null&&oe(t,i.injectable,new _e("definition.injectable",s)),(e==null||e.hydrate!==!1)&&(this._hydrate(),this._hydrateChildren())}_hydrate(){this._lifecycleHooks.hydrating!=null&&this._lifecycleHooks.hydrating.forEach(wv,this),this._vmHooks._hydrating&&(this.debug&&this.logger.trace("invoking hydrating() hook"),this._vm.hydrating(this));const e=this.definition,t=this._compiledDef=this._rendering.compile(e,this.container),s=t.shadowOptions,i=t.hasSlots,r=t.containerless,o=this.host;let a=this.location;if(r&&a==null&&(a=this.location=ni(o)),qe(o,we,this),qe(o,e.key,this),s!==null||i){if(a!=null)throw T(501);qe(this.shadowRoot=o.attachShadow(s??bv),we,this),qe(this.shadowRoot,e.key,this),this.mountTarget=Pn}else a!=null?(o!==a&&(qe(a,we,this),qe(a,e.key,this)),this.mountTarget=Bn):this.mountTarget=Tn;this._vm.$controller=this,this.ssrScope!=null?this.nodes=this._rendering.adoptNodes(o):this.nodes=this._rendering.createNodes(t),this._lifecycleHooks.hydrated!==void 0&&this._lifecycleHooks.hydrated.forEach(Cv,this),this._vmHooks._hydrated&&(this.debug&&this.logger.trace("invoking hydrated() hook"),this._vm.hydrated(this))}_hydrateChildren(){const e=this.nodes.findTargets();this._rendering.render(this,e,this._compiledDef,this.host),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(Rl,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateCustomAttribute(){const e=this.definition,t=this._vm;e.watches.length>0&&Ll(this,this.container,e,t),Pl(this,e,t),t.$controller=this,this._lifecycleHooks=Sl.resolve(this.container),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(Rl,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateSynthetic(){this._compiledDef=this._rendering.compile(this.viewFactory.def,this.container),this._rendering.render(this,(this.nodes=this._rendering.createNodes(this._compiledDef)).findTargets(),this._compiledDef,this.host)}_hydrateSyntheticAdopted(e){this._compiledDef=this._rendering.compile(this.viewFactory.def,this.container),this.nodes=e;const t=e.findTargets();this._rendering.render(this,t,this._compiledDef,this.host)}activate(e,t,s){switch(this.state){case zr:case en:if(!(t===null||t.isActive))return;this.state=lt;break;case As:if(!(t===null||t.isActive))return;this._isBindingDone=!1,this.isBound=!1,this.head=this.tail=this.next=null,this._activatingStack=0,this._detachingStack=0,this._unbindingStack=0,this.state=lt;break;case Oe:return;case qt:throw T(502,this.name);default:throw T(503,this.name,_v(this.state))}switch(this.parent=t,this.debug&&!this._fullyNamed&&(this._fullyNamed=!0,(this.logger??=this.container.get(cn).root.scopeTo(this.name)).trace("activate()")),this.vmKind){case Xe:this.scope.parent=s??null;break;case _s:this.scope=s??null;break;case $e:if(s==null)throw T(504,this.name);this.scope=s;break}this.$initiator=e,this._enterActivating();let i;return this.vmKind!==$e&&this._lifecycleHooks.binding!=null&&(this.debug&&this.logger.trace("lifecycleHooks.binding()"),i=ye(...this._lifecycleHooks.binding.map(kv,this))),this._vmHooks._binding&&(this.debug&&this.logger.trace("binding()"),i=ye(i,this._vm.binding(this.$initiator,this.parent))),pe(i)?(this._ensurePromise(),i.then(()=>{this._isBindingDone=!0,this.state!==lt?this._leaveActivating():this.bind()}).catch(r=>{this._reject(r)}),this.$promise):(this._isBindingDone=!0,this.bind(),this.$promise)}bind(){this.debug&&this.logger.trace("bind()");let e=0,t=0,s;if(this.bindings!==null)for(e=0,t=this.bindings.length;t>e;)this.bindings[e].bind(this.scope),++e;if(this.vmKind!==$e&&this._lifecycleHooks.bound!=null&&(this.debug&&this.logger.trace("lifecycleHooks.bound()"),s=ye(...this._lifecycleHooks.bound.map(Av,this))),this._vmHooks._bound&&(this.debug&&this.logger.trace("bound()"),s=ye(s,this._vm.bound(this.$initiator,this.parent))),pe(s)){this._ensurePromise(),s.then(()=>{this.isBound=!0,this.state!==lt?this._leaveActivating():this._attach()}).catch(i=>{this._reject(i)});return}this.isBound=!0,this._attach()}_append(...e){switch(this.mountTarget){case Tn:this.host.append(...e);break;case Pn:this.shadowRoot.append(...e);break;case Bn:{let t=0;for(;t<e.length;++t)this.location.parentNode.insertBefore(e[t],this.location);break}}}_attach(){switch(this.debug&&this.logger.trace("attach()"),this.mountTarget){case Tn:this.nodes.appendTo(this.host,this.definition!=null&&this.definition.enhance);break;case Pn:{const s=this.container;(s.has(Tl,!1)?s.get(Tl):s.get(uv)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case Bn:this.nodes.insertBefore(this.location);break}let e=0,t;if(this.vmKind!==$e&&this._lifecycleHooks.attaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.attaching()"),t=ye(...this._lifecycleHooks.attaching.map(Sv,this))),this._vmHooks._attaching&&(this.debug&&this.logger.trace("attaching()"),t=ye(t,this._vm.attaching(this.$initiator,this.parent))),pe(t)&&(this._ensurePromise(),this._enterActivating(),t.then(()=>{this._leaveActivating()}).catch(s=>{this._reject(s)})),this.children!==null)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.scope);this._leaveActivating()}deactivate(e,t){let s;switch(this.state&~tn){case Oe:this.state=As;break;case lt:this.state=As,s=this.$promise?.catch(a=>{this.logger?.warn("The activation error will be ignored, as the controller is already scheduled for deactivation. The activation was rejected with: %s",a)});break;case As:return this.$promise;case zr:case en:case qt:case en|qt:return;default:throw T(505,this.name,this.state)}this.debug&&this.logger.trace("deactivate()"),this.$initiator=e,e===this&&this._enterDetaching();const i=pe(s)&&e!==this;i&&(e._ensurePromise(),e._enterDetaching());let r=0,o;if(this.children!==null)for(r=0;r<this.children.length;++r)this.children[r].deactivate(e,this);return F(s,()=>{if(this.isBound&&(this.vmKind!==$e&&this._lifecycleHooks.detaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.detaching()"),o=ye(...this._lifecycleHooks.detaching.map($v,this))),this._vmHooks._detaching&&(this.debug&&this.logger.trace("detaching()"),o=ye(o,this._vm.detaching(this.$initiator,this.parent)))),pe(o)&&(this._ensurePromise(),e._enterDetaching(),o.then(()=>{e._leaveDetaching()}).catch(a=>{e._reject(a)})),e.head===null?e.head=this:e.tail.next=this,e.tail=this,e!==this){i&&e._leaveDetaching();return}return this._leaveDetaching(),this.$promise})}removeNodes(){switch(this.vmKind){case Xe:case $e:this.nodes.remove(),this.nodes.unlink()}}unbind(){this.debug&&this.logger.trace("unbind()");let e=0;if(this.bindings!==null)for(;e<this.bindings.length;++e)this.bindings[e].unbind();switch(this.parent=null,this.vmKind){case _s:this.scope=null;break;case $e:this.scope=null,(this.state&tn)===tn&&!this.viewFactory.tryReturnToCache(this)&&this.$initiator===this&&this.dispose();break;case Xe:this.scope.parent=null;break}this.state=en,this.$initiator=null,this._resolve()}_ensurePromise(){this.$promise===void 0&&(this.$promise=new Promise((e,t)=>{this.$resolve=e,this.$reject=t}),this.$initiator!==this&&this.parent._ensurePromise())}_resolve(){this.$promise!==void 0&&(Hr=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,Hr(),Hr=void 0)}_reject(e){this.$promise!==void 0&&(Wr=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,Wr(e),Wr=void 0),this.$initiator!==this&&this.parent._reject(e)}_enterActivating(){++this._activatingStack,this.$initiator!==this&&this.parent._enterActivating()}_leaveActivating(){if(this.state!==lt){--this._activatingStack,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating();return}if(--this._activatingStack===0){if(this.vmKind!==$e&&this._lifecycleHooks.attached!=null&&(vs=ye(...this._lifecycleHooks.attached.map(xv,this))),this._vmHooks._attached&&(this.debug&&this.logger.trace("attached()"),vs=ye(vs,this._vm.attached(this.$initiator))),pe(vs)){this._ensurePromise(),vs.then(()=>{this.state=Oe,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating()}).catch(e=>{this._reject(e)}),vs=void 0;return}vs=void 0,this.state=Oe,this._resolve()}this.$initiator!==this&&this.parent._leaveActivating()}_enterDetaching(){++this._detachingStack}_leaveDetaching(){if(--this._detachingStack===0){this.debug&&this.logger.trace("detach()"),this._enterUnbinding(),this.removeNodes();let e=this.$initiator.head,t;for(;e!==null;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e._isBindingDone&&(e.vmKind!==$e&&e._lifecycleHooks.unbinding!=null&&(t=ye(...e._lifecycleHooks.unbinding.map(Iv,e))),e._vmHooks._unbinding&&(e.debug&&e.logger.trace("unbinding()"),t=ye(t,e.viewModel.unbinding(e.$initiator,e.parent)))),pe(t)&&(this._ensurePromise(),this._enterUnbinding(),t.then(()=>{this._leaveUnbinding()}).catch(s=>{this._reject(s)})),t=void 0,e=e.next;this._leaveUnbinding()}}_enterUnbinding(){++this._unbindingStack}_leaveUnbinding(){if(--this._unbindingStack===0){this.debug&&this.logger.trace("unbind()");let e=this.$initiator.head,t=null;for(;e!==null;)e!==this&&(e._isBindingDone=!1,e.isBound=!1,e.unbind()),t=e.next,e.next=null,e=t;this.head=this.tail=null,this._isBindingDone=!1,this.isBound=!1,this.unbind()}}addBinding(e){this.bindings===null?this.bindings=[e]:this.bindings[this.bindings.length]=e}addChild(e){this.children===null?this.children=[e]:this.children[this.children.length]=e}is(e){switch(this.vmKind){case _s:case Xe:return this.definition.name===e;case $e:return this.viewFactory.name===e}}setHost(e){return this.vmKind===Xe&&(qe(e,we,this),qe(e,this.definition.key,this)),this.host=e,this.mountTarget=Tn,this}setShadowRoot(e){return this.vmKind===Xe&&(qe(e,we,this),qe(e,this.definition.key,this)),this.shadowRoot=e,this.mountTarget=Pn,this}setLocation(e){return this.vmKind===Xe&&(qe(e,we,this),qe(e,this.definition.key,this)),this.location=e,this.mountTarget=Bn,this}release(){this.state|=tn}dispose(){this.debug&&this.logger.trace("dispose()"),(this.state&qt)!==qt&&(this.state|=qt,this._vmHooks._dispose&&this._vm.dispose(),this.children!==null&&(this.children.forEach(yv),this.children=null),this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,this._vm!==null&&(Gt.delete(this._vm),this._vm=null),this._vm=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(e){if(e(this)===!0||this._vmHooks._accept&&this._vm.accept(e)===!0)return!0;if(this.children!==null){const{children:t}=this;for(let s=0,i=t.length;s<i;++s)if(t[s].accept(e)===!0)return!0}}}const Gt=new WeakMap,ah=0,Tn=1,Pn=2,Bn=3,gv=Ut({none:ah,host:Tn,shadowRoot:Pn,location:Bn}),mv=Nd(pu);function Pl(n,e,t){const s=e.bindables,i=Su(s),r=i.length;if(r===0)return;const o=n.container.get(Cn),a="propertiesChanged"in t,c=n.vmKind===$e?void 0:n.container.get(mv),l=a?(()=>{let u={},h=!1,d=0;const p=()=>{h||(h=!0,nt(()=>{h=!1;const f=u;u={},d=0,n.isBound&&(t.propertiesChanged?.(f),d>0&&p())}))};return(f,g,m)=>{u[f]={newValue:g,oldValue:m},d++,p()}})():st;for(let u=0;u<r;++u){const h=i[u],d=s[h],p=d.callback,f=o.getObserver(t,h);if(d.set!==st&&f.useCoercer?.(d.set,c)!==!0)throw T(507,h);if(p in t||t.propertyChanged!=null||a){const g=(m,_)=>{n.isBound&&(t[p]?.(m,_),t.propertyChanged?.(h,m,_),l(h,m,_))};if(f.useCallback?.(g)!==!0)throw T(508,h)}}}const Bl=new Map,vv=n=>{let e=Bl.get(n);return e==null&&(e=zn(n,0),Bl.set(n,e)),e};function Ll(n,e,t,s){const i=e.get(Cn),r=e.get(ss),o=t.watches,a=n.vmKind===Xe?n.scope:ce.create(s,null,!0),c=o.length;let l,u,h,d,p=0;for(;c>p;++p){if({expression:l,callback:u,flush:d}=o[p],u=K(u)?u:Reflect.get(s,u),!K(u))throw T(506,u);K(l)?n.addBinding(new oh(s,i,l,u,d)):(h=U(l)?r.parse(l,pt):vv(l),n.addBinding(new Io(a,e,i,h,u,d)))}}class Ys{constructor(e){this._define="define"in e,this._hydrating="hydrating"in e,this._hydrated="hydrated"in e,this._created="created"in e,this._binding="binding"in e,this._bound="bound"in e,this._attaching="attaching"in e,this._attached="attached"in e,this._detaching="detaching"in e,this._unbinding="unbinding"in e,this._dispose="dispose"in e,this._accept="accept"in e}}Ys.none=new Ys({});const bv={mode:"open"},Xe="customElement",_s="customAttribute",$e="synthetic",zr=0,lt=1,Oe=2,As=4,en=8,tn=16,qt=32;function _v(n){const e=[];return(n&lt)===lt&&e.push("activating"),(n&Oe)===Oe&&e.push("activated"),(n&As)===As&&e.push("deactivating"),(n&en)===en&&e.push("deactivated"),(n&tn)===tn&&e.push("released"),(n&qt)===qt&&e.push("disposed"),e.length===0?"none":e.join("|")}const wr=te("IController"),rs=te("IHydrationContext");class lh{constructor(e,t,s){this.instruction=t,this.parent=s,this.controller=e}}function yv(n){n.dispose()}function Rl(n){n.instance.created(this._vm,this)}function wv(n){n.instance.hydrating(this._vm,this)}function Cv(n){n.instance.hydrated(this._vm,this)}function kv(n){return n.instance.binding(this._vm,this.$initiator,this.parent)}function Av(n){return n.instance.bound(this._vm,this.$initiator,this.parent)}function Sv(n){return n.instance.attaching(this._vm,this.$initiator,this.parent)}function xv(n){return n.instance.attached(this._vm,this.$initiator)}function $v(n){return n.instance.detaching(this._vm,this.$initiator,this.parent)}function Iv(n){return n.instance.unbinding(this._vm,this.$initiator,this.parent)}let Hr,Wr,vs;const qe=_t.set,Ev=te("IEventTarget",n=>n.cachedCallback(e=>e.has(Xi,!0)?e.get(Xi).host:e.get(Ce).document)),Me=te("IRenderLocation"),Gi=te("ICssClassMapping"),qi=new WeakMap;function Zi(n){if(qi.has(n))return qi.get(n);let e=0,t=n.nextSibling;for(;t!==null;){if(t.nodeType===8)switch(t.textContent){case"au-start":++e;break;case"au-end":if(e--===0)return t}t=t.nextSibling}if(n.parentNode===null&&n.nodeType===11){const s=on(n,{optional:!0});if(s==null)return null;if(s.mountTarget===gv.shadowRoot)return Zi(s.host)}return n.parentNode}function Tv(n,e){if(n.platform!==void 0&&!(n instanceof n.platform.Node)){const t=n.childNodes;for(let s=0,i=t.length;s<i;++s)qi.set(t[s],e)}else qi.set(n,e)}function ni(n){if(ch(n))return n;const e=n.ownerDocument.createComment("au-end"),t=e.$start=n.ownerDocument.createComment("au-start"),s=n.parentNode;return s!==null&&(s.replaceChild(e,n),s.insertBefore(t,e)),e}function ch(n){return n.textContent==="au-end"}function Ol(n){let e=1,t=n.nextSibling;for(;t!==null;){if(t.nodeType===8){const s=t.textContent;if(s==="au-start")e++;else if(s==="au-end"&&--e===0)return t}t=t.nextSibling}return null}function uh(n,e){const t=n,s=n.$start;if(s==null)return[];const i=[];let r=s.nextSibling;for(let o=0,a=e.length;a>o;++o){const c=e[o],l=[];for(let u=0;u<c&&r!=null&&r!==t;++u)l.push(r),r=r.nextSibling;i.push(l)}return i}function Pv(n){const e=[],t=n.ownerDocument.createTreeWalker(n,128);let s;for(;(s=t.nextNode())!==null;)s.textContent==="au"&&e.push(s);return e}class Dt{get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}constructor(e,t,s){this.platform=e,this.next=void 0,this._isMounted=!1,this._isLinked=!1,this.ref=null;const i=Pv(this.f=t);let r=0,o=i.length,a=this.t=Array(o),c,l;for(;o>r;){if(l=i[r],c=l.nextSibling,s||l.remove(),c.nodeType===8){const d=c;c=c.nextSibling,c.$start=d}a[r]=c,++r}const u=t.childNodes,h=this.childNodes=Array(o=u.length);for(r=0;o>r;)h[r]=u[r],++r;this._firstChild=t.firstChild,this._lastChild=t.lastChild}static adoptChildren(e,t){const s=e.document.createDocumentFragment(),i=new Dt(e,s),r=t.childNodes,o=Array(r.length);for(let a=0,c=r.length;c>a;++a)o[a]=r[a];return i.childNodes=o,i._firstChild=o[0]??null,i._lastChild=o[o.length-1]??null,i._isMounted=!0,i.t=i._collectTargetsFromHost(t),i}static adoptSiblings(e,t){const s=e.document.createDocumentFragment(),i=new Dt(e,s);return i.childNodes=t,i._firstChild=t[0]??null,i._lastChild=t[t.length-1]??null,i._isMounted=!0,i.t=i._collectTargetsFromSiblings(t),i}_collectTargetsFromSiblings(e){const t=[],s=[],i=r=>{let o=0;for(let a=0,c=r.length;c>a;++a){const l=r[a];if(l.nodeType===8){const u=l.textContent;if(u==="au"){o===0&&s.push(l);continue}else if(u==="au-start"){o++;continue}else if(u==="au-end"){o--;continue}}if(!(o>0)&&l.nodeType===1){const u=l;if(u.tagName.includes("-"))continue;i(u.childNodes)}}};for(let r=0,o=e.length;o>r;++r){const a=e[r];if(a.nodeType===8&&a.textContent==="au")s.push(a);else if(a.nodeType===1){const c=a;c.tagName.includes("-")||i(c.childNodes)}}for(let r=0,o=s.length;o>r;++r){let c=s[r].nextSibling;if(c.nodeType===8&&c.textContent==="au-start"){const l=c,u=Ol(c);u!==null&&(c=u,c.$start=l)}t[r]=c}return t}_collectTargetsFromHost(e){const t=[],s=[],i=r=>{let o=0;for(let a=0,c=r.length;c>a;++a){const l=r[a];if(l.nodeType===8){const u=l.textContent;if(u==="au"){o===0&&s.push(l);continue}else if(u==="au-start"){o++;continue}else if(u==="au-end"){o--;continue}}if(!(o>0)&&l.nodeType===1){const u=l;if(u.tagName.includes("-"))continue;i(u.childNodes)}}};i(e.childNodes);for(let r=0,o=s.length;o>r;++r){let c=s[r].nextSibling;if(c.nodeType===8&&c.textContent==="au-start"){const l=c,u=Ol(c);u!==null&&(c=u,c.$start=l)}t[r]=c}return t}findTargets(){return this.t}insertBefore(e){if(this._isLinked&&this.ref)this.addToLinked();else{const t=e.parentNode;if(this._isMounted){let s=this._firstChild,i;const r=this._lastChild;for(;s!=null&&(i=s.nextSibling,t.insertBefore(s,e),s!==r);)s=i}else this._isMounted=!0,e.parentNode.insertBefore(this.f,e)}}appendTo(e,t=!1){if(this._isMounted){let s=this._firstChild,i;const r=this._lastChild;for(;s!=null&&(i=s.nextSibling,e.appendChild(s),s!==r);)s=i}else this._isMounted=!0,t||e.appendChild(this.f)}remove(){if(this._isMounted){this._isMounted=!1;const e=this.f,t=this._lastChild;let s,i=this._firstChild;for(;i!==null&&(s=i.nextSibling,e.appendChild(i),i!==t);)i=s}}addToLinked(){const e=this.ref,t=e.parentNode;if(this._isMounted){let s=this._firstChild,i;const r=this._lastChild;for(;s!=null&&(i=s.nextSibling,t.insertBefore(s,e),s!==r);)s=i}else this._isMounted=!0,t.insertBefore(this.f,e)}unlink(){this._isLinked=!1,this.next=void 0,this.ref=void 0}link(e){this._isLinked=!0,ch(e)?this.ref=e:(this.next=e,this._obtainRefNode())}_obtainRefNode(){this.next!==void 0?this.ref=this.next.firstChild:this.ref=void 0}}const Cr=(n,e,t=n.get(Ce))=>(oe(n,t.HTMLElement,oe(n,t.Element,oe(n,fr,new _e("ElementResolver",e)))),n);function $a(n){return function(e,t){return t.addInitializer(function(){hh(n,this)}),e}}const Ur=new WeakMap;class Fe{get type(){return gm}constructor(e,t,s,i,r,o,a,c,l,u,h,d,p,f,g,m,_,w,P){this.Type=e,this.name=t,this.aliases=s,this.key=i,this.capture=r,this.template=o,this.instructions=a,this.dependencies=c,this.injectable=l,this.needsCompile=u,this.surrogates=h,this.bindables=d,this.containerless=p,this.shadowOptions=f,this.hasSlots=g,this.enhance=m,this.watches=_,this.strict=w,this.processContent=P}static create(e,t=null){if(t===null){const i=e;if(U(i))throw T(761,e);const r=gt("name",i,Ji);K(i.Type)?t=i.Type:t=fh(cc(r));for(const o of Object.values(ze.from(i.bindables)))ze._add(o,t);return new Fe(t,r,ve(i.aliases),gt("key",i,()=>Gs(r)),Ve("capture",i,t,Je),Ve("template",i,t,Ze),ve(i.instructions),ve(je(t,"dependencies"),i.dependencies),gt("injectable",i,Ze),gt("needsCompile",i,Qr),ve(i.surrogates),ze.from(je(t,"bindables"),i.bindables),Ve("containerless",i,t,Je),gt("shadowOptions",i,Ze),gt("hasSlots",i,Je),gt("enhance",i,Je),gt("watches",i,Lv),gt("strict",i,Kr),at("processContent",t,Ze))}if(U(e))return new Fe(t,e,ve(je(t,"aliases"),t.aliases),Gs(e),at("capture",t,Je),at("template",t,Ze),ve(je(t,"instructions"),t.instructions),ve(je(t,"dependencies"),t.dependencies),at("injectable",t,Ze),at("needsCompile",t,Qr),ve(je(t,"surrogates"),t.surrogates),ze.from(...ze.getAll(t),je(t,"bindables"),t.bindables),at("containerless",t,Je),at("shadowOptions",t,Ze),at("hasSlots",t,Je),at("enhance",t,Je),ve(xo.getDefinitions(t),t.watches),at("strict",t,Kr),at("processContent",t,Ze));const s=gt("name",e,Ji);for(const i of Object.values(ze.from(e.bindables)))ze._add(i,t);return new Fe(t,s,ve(je(t,"aliases"),e.aliases,t.aliases),Gs(s),Ve("capture",e,t,Je),Ve("template",e,t,Ze),ve(je(t,"instructions"),e.instructions,t.instructions),ve(je(t,"dependencies"),e.dependencies,t.dependencies),Ve("injectable",e,t,Ze),Ve("needsCompile",e,t,Qr),ve(je(t,"surrogates"),e.surrogates,t.surrogates),ze.from(...ze.getAll(t),je(t,"bindables"),t.bindables,e.bindables),Ve("containerless",e,t,Je),Ve("shadowOptions",e,t,Ze),Ve("hasSlots",e,t,Je),Ve("enhance",e,t,Je),ve(e.watches,xo.getDefinitions(t),t.watches),Ve("strict",e,t,Kr),Ve("processContent",e,t,Ze))}static getOrCreate(e){if(e instanceof Fe)return e;if(Ur.has(e))return Ur.get(e);const t=Fe.create(e);return Ur.set(e,t),ft(t,t.Type,we),t}register(e,t){const s=this.Type,i=typeof t=="string"?Gs(t):this.key,r=this.aliases;if(e.has(i,!1)){console.warn(T(153,this.name));return}e.register(Tt(i,s),...r.map(o=>pn(i,Gs(o))))}toString(){return`au:ce:${this.name}`}}const Bv={name:void 0,searchParents:!1,optional:!1},Ze=()=>null,Kr=()=>{},Je=()=>!1,Qr=()=>!0,Lv=()=>V,Rs="custom-element",we=Ms(Rs),Gs=n=>`${we}:${n}`,Ji=(n=>()=>`unnamed-${++n}`)(0),Rv=(n,e,t)=>{ft(t,n,Wt(e))},hh=(n,e)=>{const t=Fe.create(n,e),s=t.Type;return ft(t,s,we,bt),s},Ov=n=>K(n)&&(ur(we,n)||n.$au?.type===Rs),on=(n,e=Bv)=>{if(e.name===void 0&&e.searchParents!==!0){const s=_t.get(n,we);if(s===null){if(e.optional===!0)return null;throw T(762,n)}return s}if(e.name!==void 0){if(e.searchParents!==!0){const r=_t.get(n,we);if(r===null)throw T(763,n);return r.is(e.name)?r:void 0}let s=n,i=!1;for(;s!==null;){const r=_t.get(s,we);if(r!==null&&(i=!0,r.is(e.name)))return r;s=Zi(s)}if(i)return;throw T(764,n)}let t=n;for(;t!==null;){const s=_t.get(t,we);if(s!==null)return s;t=Zi(t)}throw T(765,n)},je=(n,e)=>Pe(Wt(e),n),dh=n=>{const e=Pe(we,n)??is(n,Rs,Fe.create);if(e==null)throw T(760,n);return e},Mv=()=>{const n={$isInterface:!1,register(){return{$isResolver:!0,resolve(e,t){return t.has(n,!0)?t.get(n):null}}}};return n},fh=(function(){const n={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(t,s=e){const i=class{};return n.value=t,xu(i,"name",n),s!==e&&Au(i.prototype,s),i}})(),Dv=n=>{Cu(n,we),vm(n)},ut=Ut({name:we,keyFrom:Gs,isType:Ov,for:on,define:hh,getDefinition:dh,annotate:Rv,getAnnotation:je,generateName:Ji,createInjectable:Mv,generateType:fh,find(n,e){const t=n.find(Rs,e);return t==null?null:Pe(we,t)??is(t,Rs,Fe.create)??null},clearDefinition:Dv}),Xi=te("IAppRoot");class Gr{get controller(){return this._controller}constructor(e,t,s,i=!1){this.config=e,this.container=t,this._hydratePromise=void 0,this._useOwnAppTasks=i;const r=this.host=e.host;s.prepare(this),oe(t,Ev,new _e("IEventTarget",r)),Cr(t,r,this.platform=this._createPlatform(t,r)),this._hydratePromise=F(this._runAppTasks("creating"),()=>{e.allowActionlessForm||r.addEventListener("submit",d=>{const p=d.target,f=!p.getAttribute("action");p.tagName==="FORM"&&f&&d.preventDefault()},!1);const o=i?t:t.createChild(),a=e.component;let c;K(a)?c=o.invoke(a):c=e.component;const l={hydrate:!1,projections:null},u=i?Fe.create({name:Ji(),template:this.host,enhance:!0,strict:e.strictBinding}):void 0,h=this._controller=Re.$el(o,c,r,l,u,null,e.ssrScope);return h._hydrateCustomElement(l),F(this._runAppTasks("hydrating"),()=>(h._hydrate(),F(this._runAppTasks("hydrated"),()=>{h._hydrateChildren(),this._hydratePromise=void 0})))})}activate(){return F(this._hydratePromise,()=>F(this._runAppTasks("activating"),()=>F(this._controller.activate(this._controller,null,void 0),()=>this._runAppTasks("activated"))))}deactivate(){return F(this._runAppTasks("deactivating"),()=>F(this._controller.deactivate(this._controller,null),()=>this._runAppTasks("deactivated")))}_runAppTasks(e){const t=this.container,s=this._useOwnAppTasks&&!t.has(Al,!1)?[]:t.getAll(Al);return ye(...s.reduce((i,r)=>(r.slot===e&&i.push(r.run()),i),[]))}_createPlatform(e,t){let s;if(e.has(Ce,!1))s=e.get(Ce);else{if(t.ownerDocument.defaultView===null)throw T(769);s=new Xt(t.ownerDocument.defaultView),e.register(Tu(Ce,s))}return s}dispose(){this._controller?.dispose()}}const Ml=te("IAurelia");let Nv=class Eo{get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(this._root==null){if(this.next==null)throw T(767);return this.next}return this._root}constructor(e=as.createContainer()){if(this.container=e,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this._startPromise=void 0,this._stopPromise=void 0,e.has(Ml,!0)||e.has(Eo,!0))throw T(768);oe(e,Ml,new _e("IAurelia",this)),oe(e,Eo,new _e("Aurelia",this)),oe(e,Xi,this._rootProvider=new _e("IAppRoot"))}register(...e){return this.container.register(...e),this}app(e){return this.next=new Gr(e,this.container,this._rootProvider),this}enhance(e){const t=e.container??this.container.createChild(),s=oe(t,Xi,new _e("IAppRoot")),i=new Gr({host:e.host,component:e.component},t,s,!0);return F(i.activate(),()=>i)}hydrate(e){const t=e.container??this.container.createChild(),s=new Gr({host:e.host,component:e.component,ssrScope:e.ssrScope},t,this._rootProvider,!1);return F(s.activate(),()=>s)}start(e=this.next){if(e==null)throw T(770);return pe(this._startPromise)?this._startPromise:this._startPromise=F(this.stop(),()=>(_t.hideProp||Reflect.set(e.host,"$aurelia",this),this._rootProvider.prepare(this._root=e),this._isStarting=!0,F(e.activate(),()=>{this._isRunning=!0,this._isStarting=!1,this._startPromise=void 0,this._dispatchEvent(e,"au-started",e.host)})))}stop(e=!1){if(pe(this._stopPromise))return this._stopPromise;if(this._isRunning===!0){const t=this._root;return this._isRunning=!1,this._isStopping=!0,this._stopPromise=F(t.deactivate(),()=>F(ig(),()=>{Reflect.deleteProperty(t.host,"$aurelia"),e&&t.dispose(),this._root=void 0,this._rootProvider.dispose(),this._isStopping=!1,this._stopPromise=void 0,this._dispatchEvent(t,"au-stopped",t.host)}))}}dispose(){if(this._isRunning||this._isStopping)throw T(771);this.container.dispose()}_dispatchEvent(e,t,s){const i=new e.platform.window.CustomEvent(t,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(i)}};const ph=te("ISVGAnalyzer",n=>n.singleton(Fv));class Fv{isStandardSvgAttribute(e,t){return!1}}class gh{constructor(){this.fns=[],this._tagAttrMap=Y(),this._globalAttrMap=Y(),this.svg=$(ph),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}useMapping(e){let t,s,i,r;for(i in e){t=e[i],s=this._tagAttrMap[i]??=Y();for(r in t){if(s[r]!==void 0)throw Dl(r,i);s[r]=t[r]}}}useGlobalMapping(e){const t=this._globalAttrMap;for(const s in e){if(t[s]!==void 0)throw Dl(s,"*");t[s]=e[s]}}useTwoWay(e){this.fns.push(e)}isTwoWay(e,t){return Vv(e,t)||this.fns.length>0&&this.fns.some(s=>s(e,t))}map(e,t){return this._tagAttrMap[e.nodeName]?.[t]??this._globalAttrMap[t]??(ko(e,t,this.svg)?t:null)}}gh.register=li(Fc);function Vv(n,e){switch(n.nodeName){case"INPUT":switch(n.type){case"checkbox":case"radio":return e==="checked";default:return e==="value"||e==="files"||e==="value-as-number"||e==="value-as-date"}case"TEXTAREA":case"SELECT":return e==="value";default:switch(e){case"textcontent":case"innerhtml":return n.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}function Dl(n,e){return T(719,n,e)}const jv={register(n){n.register(uu,gh,mh)}};class zv{constructor(e,t,s){this.attrs=e,this.bindables=t,this.primary=s}}class mh{constructor(){this._resourceCache=new WeakMap,this._bindableCache=new WeakMap}el(e,t){let s=this._resourceCache.get(e);return s==null&&this._resourceCache.set(e,s=new Nl),t in s._element?s._element[t]:s._element[t]=ut.find(e,t)}attr(e,t){let s=this._resourceCache.get(e);return s==null&&this._resourceCache.set(e,s=new Nl),t in s._attr?s._attr[t]:s._attr[t]=ya.find(e,t)}bindables(e){let t=this._bindableCache.get(e);if(t==null){const s=e.bindables,i=Y();let r,o,a,c;const l=e.type==="custom-attribute",u=l?e.defaultProperty:null;for(o in s)r=s[o],c=r.attribute,u!=null&&o===u&&(a=r),i[c]=ct.create(o,r);if(l&&a==null){const h=u;a=i[h]=ct.create(h)}this._bindableCache.set(e,t=new zv(i,s,a??null))}return t}}mh.register=li(hu);class Nl{constructor(){this._element=Y(),this._attr=Y()}}const Hv=Y();class ii{static forNs(e){return Hv[e]??=new ii(e)}constructor(e){this.ns=e,this.type=hs|Et}getValue(e,t){return e.getAttributeNS(this.ns,t)}setValue(e,t,s){e==null?t.removeAttributeNS(this.ns,s):t.setAttributeNS(this.ns,s,e)}}br(ii);class vh{constructor(){this.type=hs|Et}getValue(e,t){return e.getAttribute(t)}setValue(e,t,s){e==null?t.removeAttribute(s):t.setAttribute(s,e)}}br(vh);const Bi=new vh;class $s{static _getSelectedOptions(e){const t=[];if(e.length===0)return t;const s=e.length;let i=0,r;for(;s>i;)r=e[i],r.selected&&(t[t.length]=Ss.call(r,"model")?r.model:r.value),++i;return t}static _defaultMatcher(e,t){return e===t}constructor(e,t,s,i){this.type=hs|va|Et,this._value=void 0,this._oldValue=void 0,this._hasChanges=!1,this._arrayObserver=void 0,this._nodeObserver=void 0,this._observing=!1,this._listened=!1,this._el=e,this._observerLocator=i,this._config=s}getValue(){return this._observing?this._value:this._el.multiple?$s._getSelectedOptions(this._el.options):this._el.value}setValue(e){this._oldValue=this._value,this._value=e,this._hasChanges=e!==this._oldValue,this._observeArray(e instanceof Array?e:null),this._flushChanges()}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const e=this._value,t=this._el,s=ue(e),i=t.matcher??$s._defaultMatcher,r=t.options;let o=r.length;for(;o-- >0;){const a=r[o],c=Ss.call(a,"model")?a.model:a.value;if(s){a.selected=e.findIndex(l=>!!i(c,l))!==-1;continue}a.selected=!!i(c,e)}}syncValue(){const e=this._el,t=e.options,s=t.length,i=this._value;let r=0;if(e.multiple){if(!(i instanceof Array))return!0;let c;const l=e.matcher||$s._defaultMatcher,u=[];for(;r<s;)c=t[r],c.selected&&u.push(Ss.call(c,"model")?c.model:c.value),++r;let h;for(r=0;r<i.length;)h=i[r],u.findIndex(d=>!!l(h,d))===-1?i.splice(r,1):++r;for(r=0;r<u.length;)h=u[r],i.findIndex(d=>!!l(h,d))===-1&&i.push(h),++r;return!1}let o=null,a;for(;r<s;){if(a=t[r],a.selected){o=Ss.call(a,"model")?a.model:a.value;break}++r}return this._oldValue=this._value,this._value=o,!0}_start(){(this._nodeObserver=Wu(this._el,this._handleNodeChange.bind(this))).observe(this._el,{childList:!0,subtree:!0,characterData:!0}),this._observeArray(this._value instanceof Array?this._value:null),this._observing=!0}_stop(){this._nodeObserver.disconnect(),this._arrayObserver?.unsubscribe(this),this._nodeObserver=this._arrayObserver=void 0,this._observing=!1}_observeArray(e){if(this._arrayObserver?.unsubscribe(this),this._arrayObserver=void 0,e!=null){if(!this._el.multiple)throw T(654);(this._arrayObserver=this._observerLocator.getArrayObserver(e)).subscribe(this)}}handleEvent(){this.syncValue()&&this._flush()}_handleNodeChange(e){this.syncOptions(),this.syncValue()&&this._flush()}_flush(){const e=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,e)}}xa($s),Ke($s,null);const Wv="--";class bh{constructor(e){this.obj=e,this.type=hs|Et,this._value="",this._oldValue="",this.styles={},this.version=0,this._hasChanges=!1}getValue(){return this.obj.style.cssText}setValue(e){this._value=e,this._hasChanges=e!==this._oldValue,this._flushChanges()}_getStyleTuplesFromString(e){const t=[],s=/url\([^)]+$/;let i=0,r="",o,a,c,l;for(;i<e.length;){if(o=e.indexOf(";",i),o===-1&&(o=e.length),r+=e.substring(i,o),i=o+1,s.test(r)){r+=";";continue}a=r.indexOf(":"),c=r.substring(0,a).trim(),l=r.substring(a+1).trim(),t.push([c,l]),r=""}return t}_getStyleTuplesFromObject(e){let t,s;const i=[];for(s in e)if(t=e[s],t!=null){if(U(t)){if(s.startsWith(Wv)){i.push([s,t]);continue}i.push([pd(s),t]);continue}i.push(...this._getStyleTuples(t))}return i}_getStyleTuplesFromArray(e){const t=e.length;if(t>0){const s=[];let i=0;for(;t>i;++i)s.push(...this._getStyleTuples(e[i]));return s}return V}_getStyleTuples(e){return U(e)?this._getStyleTuplesFromString(e):e instanceof Array?this._getStyleTuplesFromArray(e):e instanceof Object?this._getStyleTuplesFromObject(e):V}_flushChanges(){if(this._hasChanges){this._hasChanges=!1;const e=this._value,t=this.styles,s=this._getStyleTuples(e);let i,r=this.version;this._oldValue=e;let o,a,c,l=0;const u=s.length;for(;l<u;++l)o=s[l],a=o[0],c=o[1],this.setProperty(a,c),t[a]=r;if(this.styles=t,this.version+=1,r===0)return;r-=1;for(i in t)!Ss.call(t,i)||t[i]!==r||this.obj.style.removeProperty(i)}}setProperty(e,t){let s="";t!=null&&K(t.indexOf)&&t.includes("!important")&&(s="important",t=t.replace("!important","")),this.obj.style.setProperty(e,t,s)}bind(){this._value=this._oldValue=this.obj.style.cssText}}br(bh);class To{constructor(e,t,s){this.type=hs|va|Et,this._value="",this._oldValue="",this._hasChanges=!1,this._listened=!1,this._el=e,this._key=t,this._config=s}getValue(){return this._value}setValue(e){jt(e,this._value)||(this._oldValue=this._value,this._value=e,this._hasChanges=!0,this._config.readonly||this._flushChanges())}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this._el[this._key]=this._value??this._config.default,this._flush())}handleEvent(){this._oldValue=this._value,this._value=this._el[this._key],this._oldValue!==this._value&&(this._hasChanges=!1,this._flush())}_start(){this._value=this._oldValue=this._el[this._key]}_flush(){const e=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,e)}}xa(To),Ke(To,null);const Fl=(()=>{const n="http://www.w3.org/1999/xlink",e="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/2000/xmlns/";return Au(Y(),{"xlink:actuate":["actuate",n],"xlink:arcrole":["arcrole",n],"xlink:href":["href",n],"xlink:role":["role",n],"xlink:show":["show",n],"xlink:title":["title",n],"xlink:type":["type",n],"xml:lang":["lang",e],"xml:space":["space",e],xmlns:["xmlns",t],"xmlns:xlink":["xlink",t]})})(),_h=new _u;_h.type=hs|Et;class Ia{constructor(){this.allowDirtyCheck=!0,this._events=Y(),this._globalEvents=Y(),this._overrides=Y(),this._globalOverrides=Y(),this._locator=$(Bd),this._platform=$(Ce),this._dirtyChecker=$(ha),this.svg=$(ph);const e=["change","input"],t={events:e,default:""};this.useConfig({INPUT:{value:t,valueAsNumber:{events:e,default:0},checked:{type:Po,events:e},files:{events:e,readonly:!0}},SELECT:{value:{type:$s,events:["change"],default:""}},TEXTAREA:{value:t}});const s={events:["change","input","blur","keyup","paste"],default:""},i={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:i,scrollLeft:i,textContent:s,innerHTML:s}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}handles(e,t){return e instanceof this._platform.Node}useConfig(e,t,s){const i=this._events;let r;if(U(e))r=i[e]??=Y(),r[t]==null?r[t]=s:ki(e,t);else for(const o in e){r=i[o]??=Y();const a=e[o];for(t in a)r[t]==null?r[t]=a[t]:ki(o,t)}}useConfigGlobal(e,t){const s=this._globalEvents;if(typeof e=="object")for(const i in e)s[i]==null?s[i]=e[i]:ki("*",i);else s[e]==null?s[e]=t:ki("*",e)}getAccessor(e,t,s){if(t in this._globalOverrides||t in(this._overrides[e.tagName]??Md))return this.getObserver(e,t,s);switch(t){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":case"popovertarget":case"popovertargetaction":return(t==="popovertarget"||t==="popovertargetaction")&&e.nodeName!=="INPUT"&&e.nodeName!=="BUTTON"&&console.warn(`[DEV:aurelia] Popover API are only valid on <input> or <button>. Detected ${t} on <${e.nodeName.toLowerCase()}>`),Bi;default:{const i=Fl[t];return i!==void 0?ii.forNs(i[1]):ko(e,t,this.svg)?Bi:_h}}}overrideAccessor(e,t){let s;if(U(e))s=this._overrides[e]??=Y(),s[t]=!0;else for(const i in e)for(const r of e[i])s=this._overrides[i]??=Y(),s[r]=!0}overrideAccessorGlobal(...e){for(const t of e)this._globalOverrides[t]=!0}getNodeObserverConfig(e,t){return this._events[e.tagName]?.[t]??this._globalEvents[t]}getNodeObserver(e,t,s){const i=this._events[e.tagName]?.[t]??this._globalEvents[t];let r;return i!=null?(r=new(i.type??To)(e,t,i,s,this._locator),r.doNotCache||(yu(e)[t]=r),r):null}getObserver(e,t,s){switch(t){case"class":return new _r(e);case"css":case"style":return new bh(e)}const i=this.getNodeObserver(e,t,s);if(i!=null)return i;const r=Fl[t];if(r!==void 0)return ii.forNs(r[1]);if(ko(e,t,this.svg))return Bi;if(t in e.constructor.prototype){if(this.allowDirtyCheck)return this._dirtyChecker.createProperty(e,t);throw T(652,t)}else return new da(e,t)}}Ia.register=li(pa);function Uv(n,e){if(n instanceof Array)return e.getArrayObserver(n);if(n instanceof Map)return e.getMapObserver(n);if(n instanceof Set)return e.getSetObserver(n)}function ki(n,e){throw T(653,n,e)}function Vl(n,e){return n===e}class Po{constructor(e,t,s,i){this.type=hs|va|Et,this._value=void 0,this._oldValue=void 0,this._collectionObserver=void 0,this._valueObserver=void 0,this._listened=!1,this._el=e,this.oL=i,this._config=s}getValue(){return this._value}setValue(e){const t=this._value;e!==t&&(this._value=e,this._oldValue=t,this._observe(),this._synchronizeElement(),this._flush())}handleCollectionChange(){this._synchronizeElement()}handleChange(e,t){this._synchronizeElement()}_synchronizeElement(){const e=this._value,t=this._el,s=Ss.call(t,"model")?t.model:t.value,i=t.type==="radio",r=t.matcher!==void 0?t.matcher:Vl;if(i)t.checked=!!r(e,s);else if(e===!0)t.checked=!0;else{let o=!1;if(ue(e))o=e.findIndex(a=>!!r(a,s))!==-1;else if(e instanceof Set){for(const a of e)if(r(a,s)){o=!0;break}}else if(e instanceof Map)for(const a of e){const c=a[0],l=a[1];if(r(c,s)&&l===!0){o=!0;break}}t.checked=o}}handleEvent(){let e=this._oldValue=this._value;const t=this._el,s=Ss.call(t,"model")?t.model:t.value,i=t.checked,r=t.matcher!==void 0?t.matcher:Vl;if(t.type==="checkbox"){if(ue(e)){const o=e.findIndex(a=>!!r(a,s));i&&o===-1?e.push(s):!i&&o!==-1&&e.splice(o,1);return}else if(e instanceof Set){const o={};let a=o;for(const c of e)if(r(c,s)===!0){a=c;break}i&&a===o?e.add(s):!i&&a!==o&&e.delete(a);return}else if(e instanceof Map){let o;for(const a of e){const c=a[0];if(r(c,s)===!0){o=c;break}}e.set(o,i);return}e=i}else if(i)e=s;else return;this._value=e,this._flush()}_start(){this._observe()}_stop(){this._value=this._oldValue=void 0,this._collectionObserver?.unsubscribe(this),this._valueObserver?.unsubscribe(this),this._collectionObserver=this._valueObserver=void 0}_flush(){qr=this._oldValue,this._oldValue=this._value,this.subs.notify(this._value,qr),qr=void 0}_observe(){const e=this._el;(this._valueObserver??=e.$observers?.model??e.$observers?.value)?.subscribe(this),this._collectionObserver?.unsubscribe(this),this._collectionObserver=void 0,e.type==="checkbox"&&(this._collectionObserver=Uv(this._value,this.oL))?.subscribe(this)}}xa(Po),Ke(Po,null);let qr;class yh{bind(e,t){if(!(t instanceof Le))throw T(9994,t);t.useTargetObserver(Bi)}}yh.$au={type:tt,name:"attr"};class wh{bind(e,t){if(!("handleEvent"in t))throw T(801);t.self=!0}unbind(e,t){t.self=!1}}wh.$au={type:tt,name:"self"};class Ch{constructor(){this._observerLocator=$(Cn),this._nodeObserverLocator=$(pa)}bind(e,t,...s){if(!(this._nodeObserverLocator instanceof Ia))throw T(9993);if(s.length===0)throw T(802);if(!(t instanceof Le)||!(t.mode&Ht))throw T(803);const i=this._nodeObserverLocator.getNodeObserverConfig(t.target,t.targetProperty);if(i==null)throw T(9992,t);const r=this._nodeObserverLocator.getNodeObserver(t.target,t.targetProperty,this._observerLocator);r.useConfig({readonly:i.readonly,default:i.default,events:s}),t.useTargetObserver(r)}}Ch.$au={type:tt,name:"updateTrigger"};class Yi{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this._wantsDeactivate=!1,this._swapId=0,this._ifFactory=$(Qe),this._location=$(Me),this._platform=$(Ce)}attaching(e,t){const s=this.$controller.ssrScope;return s!=null&&mn(s)&&s.type==="if"?this._hydrateView(s):this._swap(this.value)}detaching(e,t){return this._wantsDeactivate=!0,F(this.pending,()=>{this._wantsDeactivate=!1,this.pending=void 0,this.view?.deactivate(e,this.$controller)})}valueChanged(e,t){if(this.$controller.isActive&&(e=!!e,t=!!t,e!==t))return this._swap(e)}_swap(e){const t=this.view,s=this.$controller,i=this._swapId++,r=()=>!this._wantsDeactivate&&this._swapId===i+1;let o;return F(this.pending,()=>this.pending=F(t?.isActive?t.deactivate(t,s):void 0,()=>{if(!r()||(e?o=this.view=this.ifView=this.cache&&this.ifView!=null?this.ifView:this._ifFactory.create(s):o=this.view=this.elseView=this.cache&&this.elseView!=null?this.elseView:this.elseFactory?.create(s),o==null))return;o.setLocation(this._location);const a=o.activate(o,s,s.scope);if(a instanceof Promise)return a.then(()=>{r()&&(this.pending=void 0)},()=>{r()&&(this.pending=void 0),o.deactivate(o,s)});r()&&(this.pending=void 0)}))}_hydrateView(e){const t=this.$controller,s=e.state?.value===!0,i=s?this._ifFactory:this.elseFactory;if(i==null||e.views.length===0){t.ssrScope=void 0;return}const r=pr(e,i,t,this._location,this._platform);if(r==null){t.ssrScope=void 0;return}const{view:o}=r;return s?this.view=this.ifView=o:this.view=this.elseView=o,t.ssrScope=void 0,o.activate(o,t,t.scope)}dispose(){this.ifView?.dispose(),this.elseView?.dispose(),this.ifView=this.elseView=this.view=void 0}accept(e){if(this.view?.accept(e)===!0)return!0}}Yi.$au={type:Be,name:"if",isTemplateController:!0,bindables:{value:!0,cache:{set:n=>n===""||!!n&&n!=="false"}}};class kh{constructor(){this._factory=$(Qe)}link(e,t,s,i){const r=e.children,o=r[r.length-1];if(o instanceof Yi)o.elseFactory=this._factory;else if(o.viewModel instanceof Yi)o.viewModel.elseFactory=this._factory;else throw T(810)}}kh.$au={type:"custom-attribute",name:"else",isTemplateController:!0};function Kv(n){n.dispose()}const Qv=["BindingBehavior","ValueConverter"];class Ah{constructor(){this.views=[],this.key=null,this.contextual=!0,this._oldViews=[],this._scopes=[],this._oldScopes=[],this._scopeMap=new Map,this._observer=void 0,this._observingInnerItems=!1,this._reevaluating=!1,this._innerItemsExpression=null,this._normalizedItems=void 0,this._hasDestructuredLocal=!1,this._hasAdoptedViews=!1,this._location=$(Me),this._parent=$(wr),this._factory=$(Qe),this._resolver=$(qv),this._platform=$(Ce);const t=$(yn).props[0].props;for(let s=0,i=t.length;s<i;++s){const r=t[s],{to:o,value:a,command:c}=r;if(o==="key")if(c===null)this.key=a;else if(c==="bind")this.key=typeof a=="string"?$(ss).parse(a,pt):a;else throw T(775,c);else if(o==="contextual")if(c===null)this.contextual=a==="false"?!1:!!a;else if(c==="bind")this._contextualExpr=typeof a=="string"?$(ss).parse(a,pt):a;else throw T(821,c);else throw T(776,o)}}binding(e,t){const s=this._parent.bindings,i=s.length;let r,o,a=0;for(;i>a;++a)if(r=s[a],r.target===this&&r.targetProperty==="items"){o=this.forOf=r.ast,this._forOfBinding=r;let l=o.iterable;for(;l!=null&&Qv.includes(l.$kind);)l=l.expression,this._observingInnerItems=!0;this._innerItemsExpression=l;break}this._refreshCollectionObserver();const c=o.declaration;if((this._hasDestructuredLocal=c.$kind==="ArrayDestructuring"||c.$kind==="ObjectDestructuring")||(this.local=ie(c,this.$controller.scope,r,null)),this._contextualExpr!==void 0){const l=ie(this._contextualExpr,this.$controller.scope,r,null);this.contextual=l!=null&&l!==!1}}attaching(e,t){return this._normalizeToArray(),this._createScopes(void 0),this._activateAllViews(e,this._normalizedItems??V)}detaching(e,t){this._refreshCollectionObserver();const s=this._hasAdoptedViews;this._hasAdoptedViews=!1;const i=this._deactivateAllViews(e,s);return s&&(this.views=[]),i}unbinding(e,t){this._scopeMap.clear()}itemsChanged(){this.$controller.isActive&&(this._refreshCollectionObserver(),this._normalizeToArray(),this._createScopes(void 0),this._applyIndexMap(void 0))}handleCollectionChange(e,t){const s=this.$controller;if(s.isActive){if(this._observingInnerItems){if(this._reevaluating)return;this._reevaluating=!0,this.items=ie(this.forOf.iterable,s.scope,this._forOfBinding,null),this._reevaluating=!1;return}this._normalizeToArray(),this._createScopes(this.key===null?t:void 0),this._applyIndexMap(t)}}_applyIndexMap(e){const t=this.views;this._oldViews=t.slice();const s=t.length,i=this.key!==null,r=this._oldScopes,o=this._scopes;if(i||e===void 0){const a=this.local,c=this.forOf.declaration,l=this._forOfBinding,u=this._hasDestructuredLocal,h=o.length;if(e=Bs(h),s===0)for(let d=0;d<h;++d)e[d]=-2;else if(h===0)for(let d=0;d<s;++d)e.deletedIndices.push(d),e.deletedItems.push(Ql(u,c,r[d],l,a));else{const d=new Map;for(let f=0;f<s;++f)d.set(r[f],f);const p=new Set;for(let f=0;f<h;++f){const g=d.get(o[f]);g!==void 0?(e[f]=g,p.add(g)):e[f]=-2}for(let f=0;f<s;++f)p.has(f)||(e.deletedIndices.push(f),e.deletedItems.push(Ql(u,c,r[f],l,a)))}}if(e.deletedIndices.length>0){const a=F(this._deactivateAndRemoveViewsByKey(e),()=>this._createAndActivateAndSortViewsByKey(e));pe(a)&&a.catch(Ao)}else this._createAndActivateAndSortViewsByKey(e)}_refreshCollectionObserver(){const e=this.$controller.scope;let t=this._innerItems,s=this._observingInnerItems,i;s&&(t=this._innerItems=ie(this._innerItemsExpression,e,this._forOfBinding,null)??null,s=this._observingInnerItems=!jt(this.items,t));const r=this._observer;if(this.$controller.isActive){const o=s?t:this.items;i=this._observer=this._resolver.resolve(o).getObserver?.(o),r!==i&&(r?.unsubscribe(this),i?.subscribe(this))}else r?.unsubscribe(this),this._observer=void 0}_createScopes(e){const t=this._scopes;this._oldScopes=t.slice();const s=this._normalizedItems,i=s.length,r=this._scopes=Array(i),o=this._scopeMap,a=new Map,c=this.$controller.scope,l=this._forOfBinding,u=this.forOf,h=this.local,d=this._hasDestructuredLocal;if(e===void 0){const p=this.key;if(p!==null){const g=Array(i);if(typeof p=="string")for(let m=0;m<i;++m)g[m]=s[m][p];else for(let m=0;m<i;++m){const _=Lo(s[m],u,c,l,h,d);Bo(d,u.declaration,_,l,h,s[m]),g[m]=ie(p,_,l,null)}for(let m=0;m<i;++m)r[m]=Gl(o,a,g[m],s[m],u,c,l,h,d)}else for(let g=0;g<i;++g)r[g]=Gl(o,a,s[g],s[g],u,c,l,h,d)}else{const p=t.length;for(let f=0;f<i;++f){const g=e[f];g>=0&&g<p?r[f]=t[g]:r[f]=Lo(s[f],u,c,l,h,d),Bo(d,u.declaration,r[f],l,h,s[f])}}o.clear(),this._scopeMap=a}_normalizeToArray(){const e=this.items;if(ue(e)){this._normalizedItems=e.slice(0);return}const t=[];this._resolver.resolve(e).iterate(e,(s,i)=>{t[i]=s}),this._normalizedItems=t}_activateAllViews(e,t){const s=this.$controller.ssrScope;return s!=null&&mn(s)&&s.type==="repeat"?this._hydrateViews(e,t,s):this._activateAllViewsFresh(e,t)}_hydrateViews(e,t,s){const{$controller:i,_factory:r,_location:o,_scopes:a,_platform:c}=this,l=t.length,{views:u}=xm(s,r,i,o,c);if(u.length===0)return i.ssrScope=void 0,this._activateAllViewsFresh(e,t);this._hasAdoptedViews=!0,this.views=u;let h;for(let d=0;d<l;++d){const p=u[d],f=a[d];this.contextual&&Zr(f.overrideContext,d,l,t);const g=p.activate(e??p,i,f);pe(g)&&(h??=[]).push(g)}if(i.ssrScope=void 0,h!==void 0)return h.length===1?h[0]:Promise.all(h)}_activateAllViewsFresh(e,t){const{$controller:s,_factory:i,_location:r,_scopes:o}=this,a=t.length,c=this.views=Array(a);let l;for(let u=0;u<a;++u){const h=c[u]=i.create(s).setLocation(r);h.nodes.unlink();const d=o[u];this.contextual&&Zr(d.overrideContext,u,a,t);const p=h.activate(e??h,s,d);pe(p)&&(l??=[]).push(p)}if(l!==void 0)return l.length===1?l[0]:Promise.all(l)}_deactivateAllViews(e,t=!1){let s,i,r,o=0;const{views:a,$controller:c}=this,l=a.length;for(;l>o;++o)r=a[o],t||r.release(),i=r.deactivate(e??r,c),pe(i)&&(s??(s=[])).push(i);if(s!==void 0)return s.length===1?s[0]:Promise.all(s)}_deactivateAndRemoveViewsByKey(e){let t,s,i;const{$controller:r,views:o}=this,a=e.deletedIndices.slice().sort(Yv),c=a.length;let l=0;for(;c>l;++l)i=o[a[l]],i.release(),s=i.deactivate(i,r),pe(s)&&(t??(t=[])).push(s);for(l=0;c>l;++l)o.splice(a[l]-l,1);if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}_createAndActivateAndSortViewsByKey(e){let t,s,i,r=0;const{$controller:o,_factory:a,_location:c,views:l,_scopes:u,_oldViews:h}=this,d=e.length;for(;d>r;++r)e[r]===-2&&(i=a.create(o),l.splice(r,0,i));if(l.length!==d)throw T(814,[l.length,d]);let p=0;for(r=0;r<e.length;++r)(p=e[r])!==-2&&(l[r]=h[p]);const f=Gv(e),g=f.length;let m,_=g-1;for(r=d-1;r>=0;--r)i=l[r],m=l[r+1],this.contextual&&Zr(u[r].overrideContext,r,d,this._normalizedItems),e[r]===-2?(i.nodes.link(m?.nodes??c),i.setLocation(c),s=i.activate(i,o,u[r]),pe(s)&&(t??(t=[])).push(s)):_<0||r!==f[_]?(i.nodes.link(m?.nodes??c),i.nodes.insertBefore(i.location)):--_;if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}dispose(){this.views.forEach(Kv),this.views=void 0}accept(e){const{views:t}=this;if(t!==void 0){for(let s=0,i=t.length;s<i;++s)if(t[s].accept(e)===!0)return!0}}}Ah.$au={type:Be,name:"repeat",isTemplateController:!0,defaultProperty:"items",bindables:["items"]};let er=16,Pt=new Int32Array(er),Ai=new Int32Array(er);function Gv(n){const e=n.length;e>er&&(er=e,Pt=new Int32Array(e),Ai=new Int32Array(e));let t=0,s=0,i=0,r=0,o=0,a=0,c=0,l=0;for(;r<e;r++)if(s=n[r],s!==-2){if(o=Pt[t],i=n[o],i!==-2&&i<s){Ai[r]=o,Pt[++t]=r;continue}for(a=0,c=t;a<c;)l=a+c>>1,i=n[Pt[l]],i!==-2&&i<s?a=l+1:c=l;i=n[Pt[a]],(s<i||i===-2)&&(a>0&&(Ai[r]=Pt[a-1]),Pt[a]=r)}r=++t;const u=new Int32Array(r);for(s=Pt[t-1];t-- >0;)u[t]=s,s=Ai[s];for(;r-- >0;)Pt[r]=0;return u}class jl{get $odd(){return!this.$even}get $even(){return this.$index%2===0}get $first(){return this.$index===0}get $middle(){return!this.$first&&!this.$last}get $last(){return this.$index===this.$length-1}get $previous(){return this.__items__?.[this.$index-1]}constructor(e=0,t=1,s=void 0){this.$index=e,this.$length=t,this.__items__=s}}const Zr=(n,e,t,s)=>{n.$index=e,n.$length=t,n.__items__=s},qv=te("IRepeatableHandlerResolver",n=>n.singleton(Zv));class Zv{constructor(){this._handlers=$(Wo(Jv))}resolve(e){if(zl.handles(e))return zl;if(Hl.handles(e))return Hl;if(Wl.handles(e))return Wl;if(Ul.handles(e))return Ul;if(Kl.handles(e))return Kl;const t=this._handlers.find(s=>s.handles(e));return t!==void 0?t:Xv}}const Jv=te("IRepeatableHandler"),zl={handles:ue,getObserver:ga,iterate(n,e){const t=n.length;let s=0;for(;s<t;++s)e(n[s],s,n)}},Hl={handles:Os,getObserver:ga,iterate(n,e){let t=0,s;for(s of n.keys())e(s,t++,n)}},Wl={handles:Nt,getObserver:ga,iterate(n,e){let t=0,s;for(s of n.entries())e(s,t++,n)}},Ul={handles:hd,iterate(n,e){let t=0;for(;t<n;++t)e(t,t,n)}},Kl={handles:n=>n==null,iterate(){}},Xv={handles(n){return!1},iterate(n,e){throw T(777,n)}},Bo=(n,e,t,s,i,r)=>{n?hn(e,t,s,null,r):t.bindingContext[i]=r},Ql=(n,e,t,s,i)=>n?ie(e,t,s,null):t.bindingContext[i],Gl=(n,e,t,s,i,r,o,a,c)=>{let l=n.get(t);if(l===void 0?l=Lo(s,i,r,o,a,c):l instanceof ce?n.delete(t):l.length===1?(l=l[0],n.delete(t)):l=l.shift(),e.has(t)){const u=e.get(t);u instanceof ce?e.set(t,[u,l]):u.push(l)}else e.set(t,l);return Bo(c,i.declaration,l,o,a,s),l},Lo=(n,e,t,s,i,r)=>{if(r){const o=ce.fromParent(t,new gl,new jl);return hn(e.declaration,o,s,null,n),o}return ce.fromParent(t,new gl(i,n),new jl)},Yv=(n,e)=>n-e;class Sh{constructor(){this._factory=$(Qe),this._location=$(Me),this._platform=$(Ce)}valueChanged(e,t){const s=this.$controller,i=this.view.bindings;let r,o=0,a=0;if(s.isActive&&i!=null)for(r=ce.fromParent(s.scope,e===void 0?{}:e),a=i.length;a>o;++o)i[o].bind(r)}attaching(e,t){const{$controller:s,value:i}=this,r=s.ssrScope;if(r!=null&&mn(r)&&r.type==="with")return this._hydrateView(r);const o=this.view=this._factory.create(s).setLocation(this._location),a=ce.fromParent(s.scope,i===void 0?{}:i);return o.activate(o,s,a)}_hydrateView(e){const{$controller:t,value:s,_factory:i,_location:r,_platform:o}=this,a=pr(e,i,t,r,o);if(a==null){t.ssrScope=void 0;const l=this.view=i.create(t).setLocation(r),u=ce.fromParent(t.scope,s===void 0?{}:s);return l.activate(l,t,u)}this.view=a.view,t.ssrScope=void 0;const c=ce.fromParent(t.scope,s===void 0?{}:s);return a.view.activate(a.view,t,c)}detaching(e,t){return this.view.deactivate(e,this.$controller)}dispose(){this.view?.dispose(),this.view=void 0}accept(e){if(this.view?.accept(e)===!0)return!0}}Sh.$au={type:Be,name:"with",isTemplateController:!0,bindables:["value"]};class Ea{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this._factory=$(Qe),this._location=$(Me),this._platform=$(Ce)}link(e,t,s,i){const r=this.$controller.ssrScope;r!=null&&mn(r)&&r.type==="switch"||(this.view=this._factory.create(this.$controller).setLocation(this._location))}attaching(e,t){let s=this.view;const i=this.$controller,r=i.ssrScope;if(r!=null&&mn(r)&&r.type==="switch"){const o=pr(r,this._factory,i,this._location,this._platform);o!=null&&(s?.dispose(),s=this.view=o.view),i.ssrScope=void 0}return s===void 0&&(s=this.view=this._factory.create(this.$controller).setLocation(this._location)),this.queue(()=>s.activate(e,i,i.scope)),this.queue(()=>this.swap(e,this.value)),this.promise}detaching(e,t){return this.queue(()=>this.view.deactivate(e,this.$controller)),this.promise}dispose(){this.view?.dispose(),this.view=void 0}valueChanged(e,t){this.$controller.isActive&&this.queue(()=>this.swap(null,this.value))}caseChanged(e){this.queue(()=>this._handleCaseChange(e))}_handleCaseChange(e){const t=e.isMatch(this.value),s=this.activeCases,i=s.length;if(!t)return i>0&&s[0].id===e.id?this._clearActiveCases(null):void 0;if(i>0&&s[0].id<e.id)return;const r=[];let o=e.fallThrough;if(!o)r.push(e);else{const a=this.cases,c=a.indexOf(e);for(let l=c,u=a.length;l<u&&o;l++){const h=a[l];r.push(h),o=h.fallThrough}}return F(this._clearActiveCases(null,r),()=>(this.activeCases=r,this._activateCases(null)))}swap(e,t){const s=[];let i=!1;for(const o of this.cases)if((i||o.isMatch(t))&&(s.push(o),i=o.fallThrough),s.length>0&&!i)break;const r=this.defaultCase;return s.length===0&&r!==void 0&&s.push(r),F(this.activeCases.length>0?this._clearActiveCases(e,s):void 0,()=>{if(this.activeCases=s,s.length!==0)return this._activateCases(e)})}_activateCases(e){const t=this.$controller;if(!t.isActive)return;const s=this.activeCases,i=s.length;if(i===0)return;const r=t.scope;return i===1?s[0].activate(e,r):ye(...s.map(o=>o.activate(e,r)))}_clearActiveCases(e,t=[]){const s=this.activeCases,i=s.length;if(i!==0){if(i===1){const r=s[0];return t.includes(r)?void 0:(s.length=0,r.deactivate(e))}return F(ye(...s.reduce((r,o)=>(t.includes(o)||r.push(o.deactivate(e)),r),[])),()=>{s.length=0})}}queue(e){const t=this.promise;let s;s=this.promise=F(F(t,e),()=>{this.promise===s&&(this.promise=void 0)})}accept(e){if(this.$controller.accept(e)===!0||this.activeCases.some(t=>t.accept(e)))return!0}}Ea.$au={type:Be,name:"switch",isTemplateController:!0,bindables:["value"]};let eb=0;const xh=["value",{name:"fallThrough",mode:cr,set(n){switch(n){case"true":return!0;case"false":return!1;default:return!!n}}}];class Ta{constructor(){this.id=++eb,this.fallThrough=!1,this.view=void 0,this._factory=$(Qe),this._locator=$(Cn),this._location=$(Me),this._platform=$(Ce),this._logger=$(cn).scopeTo(`Case-#${this.id}`)}link(e,t,s,i){const o=e.parent?.viewModel;if(o instanceof Ea)this.$switch=o,this.linkToSwitch(o);else throw T(815)}detaching(e,t){return this.deactivate(e)}isMatch(e){this._logger.debug("isMatch()");const t=this.value;return ue(t)?(this._observer===void 0&&(this._observer=this._observeCollection(t)),t.includes(e)):t===e}valueChanged(e,t){ue(e)?(this._observer?.unsubscribe(this),this._observer=this._observeCollection(e)):this._observer!==void 0&&this._observer.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(e,t){let s=this.view;if(s===void 0){const r=this.$controller.ssrScope;if(r!=null&&mn(r)&&(r.type==="case"||r.type==="default-case")){const o=pr(r,this._factory,this.$controller,this._location,this._platform);o!=null&&(s=this.view=o.view),this.$controller.ssrScope=void 0}s===void 0&&(s=this.view=this._factory.create(this.$controller).setLocation(this._location))}if(s.isActive)return;const i=s.activate(e??s,this.$controller,t);if(i instanceof Promise)return i.catch(()=>s.deactivate(s,this.$controller))}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(e??t,this.$controller)}dispose(){this._observer?.unsubscribe(this),this.view?.dispose(),this.view=void 0}linkToSwitch(e){e.cases.push(this)}_observeCollection(e){const t=this._locator.getArrayObserver(e);return t.subscribe(this),t}accept(e){return this.$controller.accept(e)===!0?!0:this.view?.accept(e)}}ba({name:"case",bindables:xh,isTemplateController:!0},Ta);class $h extends Ta{linkToSwitch(e){if(e.defaultCase!==void 0)throw T(816);e.defaultCase=this}}ba({name:"default-case",bindables:xh,isTemplateController:!0},$h);var Ih,Eh,Th;class Pa{constructor(){this.preSettledTask=null,this.postSettledTask=null,this._factory=$(Qe),this._location=$(Me),this.logger=$(cn).scopeTo("promise.resolve")}link(e,t,s,i){this.view=this._factory.create(this.$controller).setLocation(this._location)}attaching(e,t){const s=this.view,i=this.$controller;return F(s.activate(e,i,this.viewScope=ce.fromParent(i.scope,{})),()=>this.swap(e))}valueChanged(e,t){this.$controller.isActive&&this.swap(null)}swap(e){const t=this.value;if(!pe(t)){this.logger.warn(`The value '${Ls(t)}' is not a promise. No change will be done.`);return}const s=this.fulfilled,i=this.rejected,r=this.pending,o=this.viewScope;let a;const c=()=>{ye(a=(this.preSettledTask=Un(()=>ye(s?.deactivate(e),i?.deactivate(e),r?.activate(e,o)))).result.catch(l=>{throw l}),t.then(l=>{if(this.value!==t)return;const u=()=>{this.postSettlePromise=(this.postSettledTask=Un(()=>ye(r?.deactivate(e),i?.deactivate(e),s?.activate(e,o,l)))).result};this.preSettledTask.status===Nr?a.then(u):(this.preSettledTask.cancel(),u())},l=>{if(this.value!==t)return;const u=()=>{this.postSettlePromise=(this.postSettledTask=Un(()=>ye(r?.deactivate(e),s?.deactivate(e),i?.activate(e,o,l)))).result};this.preSettledTask.status===Nr?a.then(u):(this.preSettledTask.cancel(),u())}))};this.postSettledTask?.status===Nr?this.postSettlePromise.then(c):(this.postSettledTask?.cancel(),c())}detaching(e,t){return this.preSettledTask?.cancel(),this.postSettledTask?.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(e,this.$controller)}dispose(){this.view?.dispose(),this.view=void 0}}Pa.$au={type:Be,name:"promise",isTemplateController:!0,bindables:["value"]};class Ph{constructor(){this.view=void 0,this._factory=$(Qe),this._location=$(Me)}link(e,t,s,i){Ba(e).pending=this}activate(e,t){let s=this.view;if(s===void 0&&(s=this.view=this._factory.create(this.$controller).setLocation(this._location)),!s.isActive)return s.activate(s,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e){return this.deactivate(e)}dispose(){this.view?.dispose(),this.view=void 0}}Ph.$au={type:Be,name:"pending",isTemplateController:!0,bindables:{value:{mode:me}}};class Bh{constructor(){this.view=void 0,this._factory=$(Qe),this._location=$(Me)}link(e,t,s,i){Ba(e).fulfilled=this}activate(e,t,s){this.value=s;let i=this.view;if(i===void 0&&(i=this.view=this._factory.create(this.$controller).setLocation(this._location)),!i.isActive)return i.activate(i,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e,t){return this.deactivate(e)}dispose(){this.view?.dispose(),this.view=void 0}}Bh.$au={type:Be,name:"then",isTemplateController:!0,bindables:{value:{mode:Ht}}};class Lh{constructor(){this.view=void 0,this._factory=$(Qe),this._location=$(Me)}link(e,t,s,i){Ba(e).rejected=this}activate(e,t,s){this.value=s;let i=this.view;if(i===void 0&&(i=this.view=this._factory.create(this.$controller).setLocation(this._location)),!i.isActive)return i.activate(i,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e,t){return this.deactivate(e)}dispose(){this.view?.dispose(),this.view=void 0}}Lh.$au={type:Be,name:"catch",isTemplateController:!0,bindables:{value:{mode:Ht}}};function Ba(n){const t=n.parent?.viewModel;if(t instanceof Pa)return t;throw T(813)}class Ro{"promise.resolve"(e,t){return new Ue(e,t,"promise","bind")}}Ih=Symbol.metadata;Ro[Ih]={[St]:ls.create([{pattern:"promise.resolve",symbols:""}],Ro)};class Oo{then(e,t){return new Ue(e,t,"then","from-view")}}Eh=Symbol.metadata;Oo[Eh]={[St]:ls.create([{pattern:"then",symbols:""}],Oo)};class Mo{catch(e,t){return new Ue(e,t,"catch","from-view")}}Th=Symbol.metadata;Mo[Th]={[St]:ls.create([{pattern:"catch",symbols:""}],Mo)};class Rh{constructor(){this._needsApply=!1,this._element=$(fr),this._platform=$(Ce)}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this._apply():this._needsApply=!0}attached(){this._needsApply&&(this._needsApply=!1,this._apply()),this._element.addEventListener("focus",this),this._element.addEventListener("blur",this)}detaching(){const e=this._element;e.removeEventListener("focus",this),e.removeEventListener("blur",this)}handleEvent(e){e.type==="focus"?this.value=!0:this._isElFocused||(this.value=!1)}_apply(){const e=this._element,t=this._isElFocused,s=this.value;s&&!t?e.focus():!s&&t&&e.blur()}get _isElFocused(){return this._element===this._platform.document.activeElement}}Rh.$au={type:Be,name:"focus",bindables:{value:{mode:wu}}};class Oh{constructor(){this.position="beforeend",this.strict=!1;const e=$(Qe),t=$(Me),s=$(Ce);this._platform=s,this._resolvedTarget=s.document.createElement("div"),(this.view=e.create()).setLocation(this._targetLocation=Rm(s)),Tv(this.view.nodes,t)}attaching(e){this.callbackContext==null&&(this.callbackContext=this.$controller.scope.bindingContext);const t=this._resolvedTarget=this._getTarget();return this._moveLocation(t,this.position),this._activating(e,t)}detaching(e){return this._deactivating(e,this._resolvedTarget)}targetChanged(){const{$controller:e}=this;if(!e.isActive)return;const t=this._getTarget();if(this._resolvedTarget===t)return;this._resolvedTarget=t;const s=F(this._deactivating(null,t),()=>(this._moveLocation(t,this.position),this._activating(null,t)));pe(s)&&s.catch(Ao)}positionChanged(){const{$controller:e,_resolvedTarget:t}=this;if(!e.isActive)return;const s=F(this._deactivating(null,t),()=>(this._moveLocation(t,this.position),this._activating(null,t)));pe(s)&&s.catch(Ao)}_activating(e,t){const{activating:s,callbackContext:i,view:r}=this;return F(s?.call(i,t,r),()=>this._activate(e,t))}_activate(e,t){const{$controller:s,view:i}=this;if(e===null)i.nodes.insertBefore(this._targetLocation);else return F(i.activate(e??i,s,s.scope),()=>this._activated(t));return this._activated(t)}_activated(e){const{activated:t,callbackContext:s,view:i}=this;return t?.call(s,e,i)}_deactivating(e,t){const{deactivating:s,callbackContext:i,view:r}=this;return F(s?.call(i,t,r),()=>this._deactivate(e,t))}_deactivate(e,t){const{$controller:s,view:i}=this;if(e===null)i.nodes.remove();else return F(i.deactivate(e,s),()=>this._deactivated(t));return this._deactivated(t)}_deactivated(e){const{deactivated:t,callbackContext:s,view:i}=this;return F(t?.call(s,e,i),()=>this._removeLocation())}_getTarget(){const e=this._platform,t=e.document;let s=this.target,i=this.renderContext;if(s===""){if(this.strict)throw T(811);return t.body}if(U(s)){let r=t;U(i)&&(i=t.querySelector(i)),i instanceof e.Node&&(r=i),s=r.querySelector(s)}if(s instanceof e.Node)return s;if(s==null){if(this.strict)throw T(812);return t.body}return s}_removeLocation(){this._targetLocation.remove(),this._targetLocation.$start.remove()}_moveLocation(e,t){const s=this._targetLocation,i=s.$start,r=e.parentNode,o=[i,s];switch(t){case"beforeend":Ci(e,null,o);break;case"afterbegin":Ci(e,e.firstChild,o);break;case"beforebegin":Ci(r,e,o);break;case"afterend":Ci(r,e.nextSibling,o);break;default:throw T(779,t)}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(e){if(this.view?.accept(e)===!0)return!0}}Oh.$au={type:Be,name:"portal",isTemplateController:!0,defaultProperty:"target",bindables:["target","position","activated","activating","callbackContext",{name:"renderContext",callback:"targetChanged"},"strict","deactivated","deactivating"]};let tb;class kr{constructor(){this._parentScope=null,this._outerScope=null,this._attached=!1,this.expose=null,this.slotchange=null,this._subs=new Set,this._observer=null;const e=$(rs),t=$(Me),s=$(yn),i=$(Fs),r=this.name=s.data.name,o=s.projections?.[Uu],a=e.instruction?.projections?.[r],c=e.controller.container;let l,u;a==null?(u=c.createChild({inheritParentResources:!0}),l=i.getViewFactory(o??(tb??=Fe.create({name:"au-slot-empty-template",template:"",needsCompile:!1})),u),this._hasProjection=!1):(u=c.createChild(),u.useResources(e.parent.controller.container),oe(u,rs,new _e(void 0,e.parent)),l=i.getViewFactory(a,u),this._hasProjection=!0,this._slotwatchers=c.getAll(Dm,!1)?.filter(h=>h.slotName==="*"||h.slotName===r)??V),this._hasSlotWatcher=(this._slotwatchers??=V).length>0,this._hdrContext=e,this.view=l.create().setLocation(this._location=t)}get nodes(){const e=[],t=this._location;let s=t.$start.nextSibling;for(;s!=null&&s!==t;)s.nodeType!==8&&e.push(s),s=s.nextSibling;return e}subscribe(e){this._subs.add(e)}unsubscribe(e){this._subs.delete(e)}binding(e,t){for(this._parentScope=t.scope;t.vmKind==="synthetic"&&t.parent?.viewModel instanceof kr;)t=t.parent.parent;const s=t.scope.bindingContext;let i;this._hasProjection&&(i=this._hdrContext.controller.scope.parent,(this._outerScope=ce.fromParent(i,i.bindingContext)).overrideContext.$host=this.expose??s)}attaching(e,t){return F(this.view.activate(e,this.$controller,this._hasProjection?this._outerScope:this._parentScope),()=>{(this._hasSlotWatcher||K(this.slotchange))&&(this._slotwatchers.forEach(s=>s.watch(this)),this._observe(),this._notifySlotChange(),this._attached=!0)})}detaching(e,t){return this._attached=!1,this._unobserve(),this._slotwatchers.forEach(s=>s.unwatch(this)),this.view.deactivate(e,this.$controller)}exposeChanged(e){this._hasProjection&&this._outerScope!=null&&(this._outerScope.overrideContext.$host=e)}dispose(){this.view.dispose(),this.view=void 0}accept(e){if(this.view?.accept(e)===!0)return!0}_observe(){if(this._observer!=null)return;const e=this._location,t=e.parentElement;t!=null&&(this._observer=Wu(t,s=>{sb(e,s)&&this._notifySlotChange()})).observe(t,{childList:!0})}_unobserve(){this._observer?.disconnect(),this._observer=null}_notifySlotChange(){const e=this.nodes,t=new Set(this._subs);let s;this._attached&&this.slotchange?.call(void 0,this.name,e);for(s of t)s.handleSlotChange(this,e)}}kr.$au={type:Rs,name:"au-slot",template:null,containerless:!0,processContent(n,e,t){t.name=n.getAttribute("name")??Uu;let s=n.firstChild,i=null;for(;s!==null;)i=s.nextSibling,Om(s)&&s.hasAttribute(Mm)&&(console.warn("[DEV:aurelia] detected [au-slot] attribute on a child node",`of an <au-slot> element: "<${s.nodeName} au-slot>".`,"This element will be ignored and removed"),n.removeChild(s)),s=i},bindables:["expose","slotchange"]};const Si=(n,e)=>n.compareDocumentPosition(e),sb=(n,e)=>{for(const{addedNodes:t,removedNodes:s,nextSibling:i}of e){let r=0,o=t.length,a;for(;r<o;++r)if(a=t[r],Si(n.$start,a)===4&&Si(n,a)===2)return!0;if(s.length>0&&i!=null&&Si(n.$start,i)===4&&Si(n,i)===2)return!0}};class Mh{constructor(){this.scopeBehavior="auto",this._composition=void 0,this.tag=null,this._container=$(ci),this.parent=$(wr),this._host=$(fr),this._location=$(Me),this._platform=$(Ce),this._rendering=$(Fs),this._instruction=$(yn),this._contextFactory=$(Ld(ib)),this._compiler=$(nr),this._hydrationContext=$(rs),this._exprParser=$(ss),this._observerLocator=$(Cn)}get composing(){return this._composing}get composition(){return this._composition}attaching(e,t){return this._composing=F(this.queue(new ql(this.template,this.component,this.model,void 0),e),s=>{this._contextFactory._isCurrent(s)&&(this._composing=void 0)})}detaching(e){const t=this._composition,s=this._composing;return this._contextFactory.invalidate(),this._composition=this._composing=void 0,F(s,()=>t?.deactivate(e))}propertyChanged(e){if(!(e==="composing"||e==="composition")){if(e==="model"&&this._composition!=null){this._composition.update(this.model);return}if(e==="tag"&&this._composition?.controller.vmKind===Xe){console.warn("[DEV:aurelia] Changing tag name of a custom element composition is ignored.");return}this._composing=F(this._composing,()=>F(this.queue(new ql(this.template,this.component,this.model,e),void 0),t=>{this._contextFactory._isCurrent(t)&&(this._composing=void 0)}))}}queue(e,t){const s=this._contextFactory,i=this._composition;return F(s.create(e),r=>s._isCurrent(r)?F(this.compose(r),o=>s._isCurrent(r)?F(o.activate(t),()=>s._isCurrent(r)?(this._composition=o,F(i?.deactivate(t),()=>r)):F(o.controller.deactivate(o.controller,this.$controller),()=>(o.controller.dispose(),r))):(o.controller.dispose(),r)):r)}compose(e){const{_template:t,_component:s,_model:i}=e.change,{_container:r,$controller:o,_location:a,_instruction:c}=this,l=this._getDefinition(this._hydrationContext.controller.container,s),u=r.createChild(),h=this._platform.document.createElement(l==null?this.tag??"div":l.name);a.parentNode.insertBefore(h,a);let d;l==null?d=this.tag==null?ni(h):null:d=l.containerless?ni(h):null;const p=()=>{if(h.remove(),d!=null){let m=d.$start.nextSibling,_=null;for(;m!==null&&m!==d;)_=m.nextSibling,m.remove(),m=_;d.$start?.remove(),d.remove()}},f=this._createComponentInstance(u,typeof s=="string"?l.Type:s,h,d),g=()=>{const m=c.captures??V;if(l!==null){const _=l.capture,[w,P]=m.reduce((C,I)=>{const R=!(I.target in l.bindables)&&(_===!0||K(_)&&!!_(I.target));return C[R?0:1].push(I),C},[[],[]]),A=Re.$el(u,f,h,{projections:c.projections,captures:w},l,d);return this._createSpreadBindings(h,l,P).forEach(C=>A.addBinding(C)),new Jl(A,C=>A.activate(C??A,o,o.scope.parent),C=>F(A.deactivate(C??A,o),p),C=>f.activate?.(C),e)}else{const _=Fe.create({name:ut.generateName(),template:t}),w=this._rendering.compile(_,u),P=this._rendering.getViewFactory(w,u),A=Re.$view(P,o,h),C=this.scopeBehavior==="auto"?ce.fromParent(this.parent.scope,f):ce.create(f);return A.setHost(h),d==null?this._createSpreadBindings(h,P.def,m).forEach(I=>A.addBinding(I)):A.setLocation(d),new Jl(A,I=>A.activate(I??A,o,C),I=>F(A.deactivate(I??A,o),p),I=>f.activate?.(I),e)}};return"activate"in f?F(f.activate(i),()=>g()):g()}_createComponentInstance(e,t,s,i){if(t==null)return new nb;if(typeof t=="object")return t;const r=this._platform;Cr(e,s,r),oe(e,Me,new _e("IRenderLocation",i));const o=e.invoke(t);return oe(e,t,new _e("au-compose.component",o)),o}_getDefinition(e,t){if(typeof t=="string"){const i=ut.find(e,t);if(i==null)throw T(806,t);return i}const s=K(t)?t:t?.constructor;return ut.isType(s,void 0)?ut.getDefinition(s,null):null}_createSpreadBindings(e,t,s){const i=new lh(this.$controller,{projections:null,captures:s},this._hydrationContext.parent);return vr.create(i,e,t,this._rendering,this._compiler,this._platform,this._exprParser,this._observerLocator)}}Mh.$au={type:Rs,name:"au-compose",capture:!0,containerless:!0,bindables:["template","component","model",{name:"scopeBehavior",set:n=>{if(n==="scoped"||n==="auto")return n;throw T(805,n)}},{name:"composing",mode:Ht},{name:"composition",mode:Ht},"tag"]};class nb{}class ib{constructor(){this.id=0}_isCurrent(e){return e.id===this.id}create(e){return F(e.load(),t=>new rb(++this.id,t))}invalidate(){this.id++}}class ql{constructor(e,t,s,i){this._template=e,this._component=t,this._model=s,this._src=i}load(){return pe(this._template)||pe(this._component)?Promise.all([this._template,this._component]).then(([e,t])=>new Zl(e,t,this._model,this._src)):new Zl(this._template,this._component,this._model,this._src)}}class Zl{constructor(e,t,s,i){this._template=e,this._component=t,this._model=s,this._src=i}}class rb{constructor(e,t){this.id=e,this.change=t}}class Jl{constructor(e,t,s,i,r){this.controller=e,this.start=t,this.stop=s,this.update=i,this.context=r,this.state=0}activate(e){if(this.state!==0)throw T(807,this);return this.state=1,this.start(e)}deactivate(e){switch(this.state){case 1:return this.state=-1,this.stop(e);case-1:throw T(808);default:this.state=-1}}}const ob=te("ISanitizer",n=>n.singleton(class{sanitize(){throw T(99,"sanitize")}}));class Dh{constructor(){this._sanitizer=$(ob)}toView(e){return e==null?null:this._sanitizer.sanitize(e)}}Dh.$au={type:Js,name:"sanitize"};class Nh{constructor(){this.el=$(fr),this.p=$(Ce),this._isActive=!1,this._isQueued=!1,this.$val="",this.$prio="",this.update=()=>{this._isQueued=!1,!!this.value!==this._isToggled&&(this._isToggled===this._base?(this._isToggled=!this._base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this._isToggled=this._base,this.el.style.setProperty("display",this.$val,this.$prio),this.el.getAttribute("style")===""&&this.el.removeAttribute("style")))};const e=$(yn);this._isToggled=this._base=e.alias!=="hide"}binding(){this._isActive=!0,this.update()}detaching(){this._isActive=!1,this._isQueued=!1}valueChanged(){this._isActive&&!this._isQueued&&(this._isQueued=!0,nt(this.update))}}Nh.$au={type:Be,name:"show",bindables:["value"],aliases:["hide"]};const ab=[jv,Yg,Ia],lb=[ao,oo,lo,Lm],cb=[tu,Jc,Yc,Xc,eu,su,lu,nu,iu,au,ou,ru,cu],ub=[Du,Lu,Ru,Ou,Nu,Fu,Mu,Dh,Yi,kh,Ah,Sh,Ea,Ta,$h,Pa,Ph,Bh,Lh,Ro,Oo,Mo,yh,wh,Ch,Mh,Oh,Rh,Nh,kr],hb=[Km,Qm,Wm,Um,Fm,Vm,jm,zm,Hm,Zm,nv,Jm,Xm,Ym,tv,Gm,iv,rv],db=Fh(st);function Fh(n){return{optionsProvider:n,register(e){const t={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return n(t),e.register(Tu(pu,t.coercingOptions),Ec,...ab,...ub,...lb,...cb,...hb)},customize(e){return Fh(e??n)}}}const fb=Xt.getOrCreate(globalThis);function pb(){return as.createContainer().register(Is.instance(Ce,fb),db)}class Jn extends Nv{constructor(e=pb()){super(e)}static app(e){return new Jn().app(e)}static enhance(e){return new Jn().enhance(e)}static register(...e){return new Jn().register(...e)}app(e){if(ut.isType(e)){const t=ut.getDefinition(e);let s=document.querySelector(t.name);return s===null&&(s=document.body),super.app({host:s,component:e})}return super.app(e)}}const Vh="resourcetype-list",Do=`<template>
  <label for="resourceType" class="form-label">Resource type</label>

  <select id="resourceType" value.bind="resource" matcher.bind="resourceMatcher" class="form-control" title="An abbreviation that represents the type of Azure resource or asset">
    <optgroup repeat.for="category of resources" label.bind="category.category" >
      <option repeat.for="resource of category.assets" model.bind="resource">
        \${resource.name}
      </option>
    </optgroup>
  </select>

</template>
`,jh=[],zh={};let Jr;function gb(n){Jr||(Jr=ut.define({name:Vh,template:Do,dependencies:jh,bindables:zh})),n.register(Jr)}const mb=Object.freeze(Object.defineProperty({__proto__:null,bindables:zh,default:Do,dependencies:jh,name:Vh,register:gb,template:Do},Symbol.toStringTag,{value:"Module"})),vb={category:"General",assets:[{abbrev:"apim",name:"API management service instance",minLength:1,maxLength:50,description:"Alphanumerics and hyphens. Start with letter and end with alphanumeric.",regex:/^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/},{abbrev:"id",name:"Managed Identity",minLength:3,maxLength:128,description:"Alphanumerics, hyphens, and underscores. Start with letter or number.",regex:/^[a-zA-Z0-9](?:[a-zA-Z0-9-_]*)?$/},{abbrev:"mg",name:"Management group"},{abbrev:"policy",name:"Policy definition",minLength:1,maxLength:64,description:"Resource name can't use: <>*%&:?.+/ or control characters. Can't end with period or space."},{abbrev:"rg",name:"Resource group",minLength:1,maxLength:90,regex:/^[-\w._()]+$/,description:"Alphanumerics, underscores, parentheses, hyphens, periods, and unicode characters that match the regex documentation. Can't end with period."}]},bb={category:"Networking",assets:[{abbrev:"agw",name:"Application gateway"},{abbrev:"asg",name:"Application security group (ASG)"},{abbrev:"afd",name:"Front Door Standard/Premium instance"},{abbrev:"fde",name:"Front Door Standard/Premium endpoint"},{abbrev:"cdnp",name:"CDN profile"},{abbrev:"cdne",name:"CDN endpoint"},{abbrev:"con",name:"Connections"},{abbrev:"dnsz",name:"DNS"},{abbrev:"pdnsz",name:"DNS zone"},{abbrev:"dnsfrs",name:"DNS forwarding ruleset"},{abbrev:"dnspr",name:"DNS private resolver"},{abbrev:"in",name:"DNS private resolver inbound endpoint"},{abbrev:"out",name:"DNS private resolver outbound endpoint"},{abbrev:"afw",name:"Firewall"},{abbrev:"afwp",name:"Firewall policy"},{abbrev:"erc",name:"ExpressRoute circuit"},{abbrev:"erd",name:"ExpressRoute direct"},{abbrev:"ergw",name:"ExpressRoute gateway"},{abbrev:"lbi",name:"Load balancer (internal)"},{abbrev:"lbe",name:"Load balancer (external)"},{abbrev:"rule",name:"Load balancer rule"},{abbrev:"lgw",name:"Local network gateway"},{abbrev:"ng",name:"NAT gateway"},{abbrev:"nic",name:"Network interface (NIC)"},{abbrev:"nsg",name:"Network security group (NSG)"},{abbrev:"nsgsr",name:"Network security group (NSG) security rules"},{abbrev:"nsp",name:"Network security perimeter"},{abbrev:"nw",name:"Network Watcher"},{abbrev:"pep",name:"Private endpoint"},{abbrev:"pl",name:"Private Link"},{abbrev:"pip",name:"Public IP address"},{abbrev:"ippre",name:"Public IP address prefix"},{abbrev:"ipg",name:"IP group"},{abbrev:"rf",name:"Route filter"},{abbrev:"rt",name:"Route table"},{abbrev:"rtserv",name:"Route server"},{abbrev:"se",name:"Service endpoint"},{abbrev:"subnet",name:"Subnet",minLength:1,maxLength:80,description:"Alphanumerics, underscores, periods, and hyphens. Start with alphanumeric. End alphanumeric or underscore.",regex:/^[a-zA-Z]$|^[a-zA-Z0-9][a-zA-Z0-9-_.]{0,78}[a-zA-Z0-9_]$/},{abbrev:"traf",name:"Traffic Manager profile"},{abbrev:"udr",name:"User defined route (UDR)"},{abbrev:"vnet",name:"Virtual network"},{abbrev:"vnm",name:"Virtual network manager"},{abbrev:"peer",name:"Virtual network peering"},{abbrev:"snet",name:"Virtual network subnet"},{abbrev:"vwan",name:"Virtual WAN"},{abbrev:"vhub",name:"Virtual WAN Hub"},{abbrev:"vgw",name:"Virtual network gateway"}]},_b={category:"Compute and Web",assets:[{abbrev:"ase",name:"App Service environment"},{abbrev:"asp",name:"App Service plan"},{abbrev:"app",name:"Web app",minLength:2,maxLength:60,description:"Alphanumeric, hyphens and Unicode characters that can be mapped to Punycode. Can't start or end with hyphen."},{abbrev:"arcgw",name:"Azure Arc gateway"},{abbrev:"arcs",name:"Azure Arc enabled server"},{abbrev:"arck",name:"Azure Arc enabled Kubernetes cluster"},{abbrev:"avail",name:"Availability set"},{abbrev:"ba",name:"Batch account"},{abbrev:"cld",name:"Cloud service"},{abbrev:"des",name:"Disk encryption set"},{abbrev:"func",name:"Function app",minLength:2,maxLength:60},{abbrev:"gal",name:"Gallery"},{abbrev:"host",name:"Hosting environment"},{abbrev:"it",name:"Image template"},{abbrev:"lt",name:"Load Testing instance"},{abbrev:"mc",name:"VM maintenance configuration"},{abbrev:"osdisk",name:"Managed disk (OS)"},{abbrev:"disk",name:"Managed disk (data)"},{abbrev:"ntf",name:"Notification Hubs"},{abbrev:"ntfns",name:"Notification Hubs namespace"},{abbrev:"ppg",name:"Proximity placement group"},{abbrev:"rpc",name:"Restore point collection"},{abbrev:"snap",name:"Snapshot"},{abbrev:"stapp",name:"Static web app"},{abbrev:"vm",name:"Virtual machine",minLength:1,maxLength:64,description:`Can't use spaces, control characters, or these characters: ~ ! @ # $ % ^ & * ( ) = + _ [ ] { } \\ | ; : . ' " , < > / ?
 Windows VMs can't include period or end with hyphen. 
Linux VMs can't end with period or hyphen.`},{abbrev:"vmss",name:"Virtual machine scale set"},{abbrev:"stvm",name:"VM storage account"},{abbrev:"acs",name:"Communication Services"}]},yb={category:"Containers",assets:[{abbrev:"aks",name:"AKS cluster",regex:/^[a-zA-Z0-9]$|^[a-zA-Z0-9][-_a-zA-Z0-9]{0,61}[a-zA-Z0-9]$/},{abbrev:"np",name:"AKS user node pool"},{abbrev:"npsystem",name:"AKS system node pool"},{abbrev:"ca",name:"Container Apps"},{abbrev:"cae",name:"Container Apps Environment"},{abbrev:"caj",name:"Container Apps Job"},{abbrev:"cr",name:"Container registry",minLength:5,maxLength:50,regex:/^[a-zA-Z0-9]*$/,description:"Alphanumerics",pattern:"{resource}{workload}{environment}{region}{instance}"},{abbrev:"ci",name:"Container instance",minLength:1,maxLength:63,description:"Lowercase letters, numbers, and hyphens. Can't start or end with hyphen. Consecutive hyphens aren't allowed"},{abbrev:"sf",name:"Service Fabric cluster"},{abbrev:"sfmc",name:"Service Fabric managed cluster"}]},wb={category:"Databases",assets:[{abbrev:"cosmos",name:"Azure Cosmos DB database"},{abbrev:"cosno",name:"Azure Cosmos DB for NoSQL"},{abbrev:"cosmon",name:"Azure Cosmos DB for MongoDB"},{abbrev:"costab",name:"Azure Cosmos DB for Table"},{abbrev:"coscas",name:"Azure Cosmos DB for Apache Cassandra"},{abbrev:"cosgrm",name:"Azure Cosmos DB for Apache Gremlin"},{abbrev:"cospos",name:"Azure Cosmos DB PostgreSQL cluster"},{abbrev:"redis",name:"Azure Cache for Redis instance"},{abbrev:"amr",name:"Azure Managed Redis"},{abbrev:"sql",name:"Azure SQL Database server"},{abbrev:"sqldb",name:"Azure SQL database"},{abbrev:"sqlja",name:"Azure SQL Elastic Job agent"},{abbrev:"sqlep",name:"Azure SQL Elastic Pool"},{abbrev:"sqlmi",name:"SQL Managed Instance"},{abbrev:"sqlstrdb",name:"SQL Server Stretch Database"},{abbrev:"syn",name:"Azure Synapse Analytics"},{abbrev:"synw",name:"Azure Synapse Analytics Workspaces"},{abbrev:"syndp",name:"Azure Synapse Analytics SQL Dedicated Pool"},{abbrev:"synsp",name:"Azure Synapse Analytics Spark Pool"},{abbrev:"mysql",name:"MySQL database"},{abbrev:"psql",name:"PostgreSQL database"}]},Cb={category:"Storage",assets:[{abbrev:"st",name:"Storage account",pattern:"{resource}{workload}{environment}{region}{instance}",minLength:3,maxLength:24,regex:/^[a-z0-9]+$/,description:"Lowercase letters and numbers"},{abbrev:"stc",name:"Storage account blob container",pattern:"{workload}",minLength:3,maxLength:63},{abbrev:"bvault",name:"Backup Vault"},{abbrev:"bkpol",name:"Backup Vault policy"},{abbrev:"share",name:"File share"},{abbrev:"sss",name:"Storage Sync Service"}]},kb={category:"AI and Machine Learning",assets:[{abbrev:"srch",name:"AI Search"},{abbrev:"ais",name:"Azure AI services (multi-service account)",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"aif",name:"Azure AI Foundry account",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"hub",name:"Azure AI Foundry hub"},{abbrev:"proj",name:"Azure AI Foundry project",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cog",name:"Azure Cognitive Services"},{abbrev:"mlw",name:"Azure Machine Learning workspace"},{abbrev:"avi",name:"Azure AI Video Indexer"},{abbrev:"oai",name:"Azure OpenAI Service",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"bot",name:"Bot service"},{abbrev:"cv",name:"Computer vision",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cm",name:"Content moderator",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cs",name:"Content safety",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cstv",name:"Custom vision (prediction)",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cstvt",name:"Custom vision (training)",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"di",name:"Document intelligence",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"face",name:"Face API",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"hi",name:"Health Insights",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"ir",name:"Immersive reader",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"lang",name:"Language service",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"spch",name:"Speech service",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"trsl",name:"Translator",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/}]},Ab={category:"Analytics and IoT",assets:[{abbrev:"as",name:"Azure Analysis Services server"},{abbrev:"dbw",name:"Azure Databricks workspace"},{abbrev:"dbac",name:"Azure Databricks Access Connector"},{abbrev:"asa",name:"Azure Stream Analytics"},{abbrev:"dec",name:"Azure Data Explorer cluster"},{abbrev:"dedb",name:"Azure Data Explorer cluster database"},{abbrev:"adf",name:"Azure Data Factory"},{abbrev:"dt",name:"Azure Digital Twin instance"},{abbrev:"dls",name:"Data Lake Store account"},{abbrev:"dla",name:"Data Lake Analytics account"},{abbrev:"evhns",name:"Event Hubs namespace"},{abbrev:"evh",name:"Event hub"},{abbrev:"evgd",name:"Event Grid domain"},{abbrev:"evgns",name:"Event Grid namespace"},{abbrev:"egst",name:"Event Grid system topic"},{abbrev:"evgs",name:"Event Grid subscriptions"},{abbrev:"evgt",name:"Event Grid topic"},{abbrev:"fc",name:"Fabric Capacity"},{abbrev:"hadoop",name:"HDInsight - Hadoop cluster"},{abbrev:"hbase",name:"HDInsight - HBase cluster"},{abbrev:"kafka",name:"HDInsight - Kafka cluster"},{abbrev:"spark",name:"HDInsight - Spark cluster"},{abbrev:"storm",name:"HDInsight - Storm cluster"},{abbrev:"mls",name:"HDInsight - ML Services cluster"},{abbrev:"iot",name:"IoT hub"},{abbrev:"provs",name:"Provisioning services"},{abbrev:"pcert",name:"Provisioning services certificate"},{abbrev:"pbi",name:"Power BI Embedded"},{abbrev:"synplh",name:"Azure Synapse Analytics private link hub"},{abbrev:"tsi",name:"Time Series Insights environment"}]},Sb={category:"Azure Virtual Desktop",assets:[{abbrev:"vdpool",name:"Virtual desktop host pool"},{abbrev:"vdag",name:"Virtual desktop application group"},{abbrev:"vdws",name:"Virtual desktop workspace"},{abbrev:"vdscaling",name:"Virtual desktop scaling plan"}]},xb={category:"Developer tools",assets:[{abbrev:"appcs",name:"App Configuration store"},{abbrev:"sigr",name:"SignalR"},{abbrev:"map",name:"Maps account"},{abbrev:"wps",name:"Web PubSub"}]},$b={category:"Integration",assets:[{abbrev:"ia",name:"Integration account"},{abbrev:"logic",name:"Logic apps"},{abbrev:"sbns",name:"Service Bus namespace"},{abbrev:"sbq",name:"Service Bus queue"},{abbrev:"sbt",name:"Service Bus topic"},{abbrev:"sbts",name:"Service Bus topic subscription"}]},Ib={category:"Management and governance",assets:[{abbrev:"aa",name:"Automation account"},{abbrev:"appi",name:"Application Insights"},{abbrev:"ag",name:"Azure Monitor action group"},{abbrev:"apr",name:"Azure Monitor alert processing rule"},{abbrev:"dcr",name:"Azure Monitor data collection rule"},{abbrev:"dce",name:"Data collection endpoint"},{abbrev:"pview",name:"Azure Purview instance"},{abbrev:"bp",name:"Blueprint"},{abbrev:"bpa",name:"Blueprint assignment"},{abbrev:"pack",name:"Log Analytics query packs"},{abbrev:"log",name:"Log Analytics workspace"},{abbrev:"script",name:"Deployment scripts"},{abbrev:"ts",name:"Template specs name"}]},Eb={category:"Security",assets:[{abbrev:"bas",name:"Azure Bastion"},{abbrev:"kv",name:"Key vault",minLength:3,maxLength:24,regex:/^[a-zA-Z0-9-]{3,24}$/,description:"Alphanumerics and hyphens. Start with letter. End with letter or digit. Can't contain consecutive hyphens."},{abbrev:"kvmhsm",name:"Key Vault Managed HSM"},{abbrev:"sshkey",name:"SSH key"},{abbrev:"vpng",name:"VPN Gateway"},{abbrev:"vcn",name:"VPN connection"},{abbrev:"vst",name:"VPN site"},{abbrev:"waf",name:"Web Application Firewall (WAF) policy"},{abbrev:"wafrg",name:"Web Application Firewall (WAF) policy rule group"}]},Tb={category:"DevOps",assets:[{abbrev:"amg",name:"Azure Managed Grafana"},{abbrev:"mdp",name:"Managed DevOps Pools"}]},Pb={category:"Migration",assets:[{abbrev:"migr",name:"Azure Migrate project"},{abbrev:"dms",name:"Database Migration Service instance"},{abbrev:"rsv",name:"Recovery Services vault"}]},Hh=[vb,bb,_b,yb,wb,Cb,kb,Ab,Sb,xb,$b,Ib,Eb,Tb,Pb];var Bb=Object.create,La=Object.defineProperty,Lb=Object.getOwnPropertyDescriptor,Rb=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),mi=n=>{throw TypeError(n)},Ob=(n,e,t)=>e in n?La(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xl=(n,e)=>La(n,"name",{value:e,configurable:!0}),Mb=n=>[,,,Bb(null)],Wh=["class","method","getter","setter","accessor","field","value","get","set"],Ln=n=>n!==void 0&&typeof n!="function"?mi("Function expected"):n,Db=(n,e,t,s,i)=>({kind:Wh[n],name:e,metadata:s,addInitializer:r=>t._?mi("Already initialized"):i.push(Ln(r||null))}),Nb=(n,e)=>Ob(e,Rb("metadata"),n[3]),No=(n,e,t,s)=>{for(var i=0,r=n[e>>1],o=r&&r.length;i<o;i++)e&1?r[i].call(t):s=r[i].call(t,s);return s},Uh=(n,e,t,s,i,r)=>{var o,a,c,l,u,h=e&7,d=!!(e&8),p=!!(e&16),f=h>3?n.length+1:h?d?1:2:0,g=Wh[h+5],m=h>3&&(n[f-1]=[]),_=n[f]||(n[f]=[]),w=h&&(!p&&!d&&(i=i.prototype),h<5&&(h>3||!p)&&Lb(h<4?i:{get[t](){return Yl(this,r)},set[t](A){return ec(this,r,A)}},t));h?p&&h<4&&Xl(r,(h>2?"set ":h>1?"get ":"")+t):Xl(i,t);for(var P=s.length-1;P>=0;P--)l=Db(h,t,c={},n[3],_),h&&(l.static=d,l.private=p,u=l.access={has:p?A=>Fb(i,A):A=>t in A},h^3&&(u.get=p?A=>(h^1?Yl:Vb)(A,i,h^4?r:w.get):A=>A[t]),h>2&&(u.set=p?(A,C)=>ec(A,i,C,h^4?r:w.set):(A,C)=>A[t]=C)),a=(0,s[P])(h?h<4?p?r:w[g]:h>4?void 0:{get:w.get,set:w.set}:i,l),c._=1,h^4||a===void 0?Ln(a)&&(h>4?m.unshift(a):h?p?r=a:w[g]=a:i=a):typeof a!="object"||a===null?mi("Object expected"):(Ln(o=a.get)&&(w.get=o),Ln(o=a.set)&&(w.set=o),Ln(o=a.init)&&m.unshift(o));return h||Nb(n,i),w&&La(i,t,w),p?h^4?r:w:i},Ra=(n,e,t)=>e.has(n)||mi("Cannot "+t),Fb=(n,e)=>Object(e)!==e?mi('Cannot use the "in" operator on this value'):n.has(e),Yl=(n,e,t)=>(Ra(n,e,"read from private field"),t?t.call(n):e.get(n)),ec=(n,e,t,s)=>(Ra(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),Vb=(n,e,t)=>(Ra(n,e,"access private method"),t),Kh,Qh,vn;Qh=[$a(mb)],Kh=[Eu({mode:fi.twoWay})];class ri{constructor(){this.resource=No(vn,8,this),No(vn,11,this),this.selectedTheme=void 0,this.resources=void 0,this.resourceMatcher=(e,t)=>e&&t&&e.abbrev===t.abbrev,this.resources=Hh}}vn=Mb();Uh(vn,5,"resource",Kh,ri);ri=Uh(vn,0,"ResourcetypeList",Qh,ri);No(vn,1,ri);const jb=Object.freeze(Object.defineProperty({__proto__:null,get ResourcetypeList(){return ri}},Symbol.toStringTag,{value:"Module"})),Gh="region",Fo=`<template>
  <label for="region" class="form-label">Region</label>
  <select class="form-control" id="region" value.bind="name" title="The Azure region where the resource is deployed">

    <optgroup label="Africa">
      <option value="southafricanorth" title="Johannesburg">South Africa North</option>
      <option value="southafricawest" title="Cape Town">South Africa West</option>
    </optgroup>
    <optgroup label="Asia Pacific">
      <option value="australiacentral" title="Canberra">Australia Central</option>
      <option value="australiacentral2" title="Canberra">Australia Central 2</option>
      <option value="australiaeast" title="New South Wales">Australia East</option>
      <option value="australiasoutheast" title="Victoria">Australia Southeast</option>
      <option value="centralindia" title="Pune">Central India</option>
      <option value="eastasia" title="Hong Kong">East Asia</option>
      <option value="indonesiacentral" title="Jakarta">Indonesia Central</option>
      <option value="japaneast" title="Tokyo, Saitama">Japan East</option>
      <option value="japanwest" title="Osaka">Japan West</option>
      <option value="jioindiacentral" title="Nagpur">Jio India Central</option>
      <option value="jioindiawest" title="Jamnagar">Jio India West</option>
      <option value="koreacentral" title="Seoul">Korea Central</option>
      <option value="koreasouth" title="Busan">Korea South</option>
      <option value="malaysiawest" title="Kuala Lumpur">Malaysia West</option>
      <option value="newzealandnorth" title="Auckland">New Zealand North</option>
      <option value="southeastasia" title="Singapore">Southeast Asia</option>
      <option value="southindia" title="Chennai">South India</option>
      <option value="westindia" title="Mumbai">West India</option>
    </optgroup>
    <optgroup label="Canada">
      <option value="canadacentral" title="Toronto">Canada Central</option>
      <option value="canadaeast" title="Quebec">Canada East</option>
    </optgroup>
    <optgroup label="Europe">
      <option value="austriaeast" title="Vienna">Austria East</option>
      <option value="belgiumcentral" title="Brussels">Belgium Central</option>
      <option value="francecentral" title="Paris">France Central</option>
      <option value="francesouth" title="Marseille">France South</option>
      <option value="germanynorth" title="Berlin">Germany North</option>
      <option value="germanywestcentral" title="Frankfurt">Germany West Central</option>
      <option value="italynorth" title="Milan">Italy North</option>
      <option value="northeurope" title="Ireland">North Europe</option>
      <option value="norwayeast" title="Norway">Norway East</option>
      <option value="norwaywest" title="Norway">Norway West</option>
      <option value="polandcentral" title="Warsaw">Poland Central</option>
      <option value="spaincentral" title="Madrid">Spain Central</option>
      <option value="swedencentral" title="Gvle">Sweden Central</option>
      <option value="switzerlandnorth" title="Zurich">Switzerland North</option>
      <option value="switzerlandwest" title="Geneva">Switzerland West</option>
      <option value="westeurope" title="Netherlands">West Europe</option>
    </optgroup>
    <optgroup label="Mexico">
      <option value="mexicocentral" title="Quertaro State">Mexico Central</option>
    </optgroup>
    <optgroup label="Middle East">
      <option value="israelcentral" title="Israel">Israel Central</option>
      <option value="qatarcentral" title="Doha">Qatar Central</option>
      <option value="uaecentral" title="Abu Dhabi">UAE Central</option>
      <option value="uaenorth" title="Dubai">UAE North</option>
    </optgroup>
    <optgroup label="South America">
      <option value="brazilsouth" title="Sao Paulo State">Brazil South</option>
      <option value="brazilsoutheast" title="Rio">Brazil Southeast</option>
      <option value="chilecentral" title="Santiago">Chile Central</option>
    </optgroup>
    <optgroup label="UK">
      <option value="uksouth" title="London">UK South</option>
      <option value="ukwest" title="Cardiff">UK West</option>
    </optgroup>
    <optgroup label="US">
      <option value="centralus" title="Iowa">Central US</option>
      <option value="centraluseuap" title="">Central US EUAP</option>
      <option value="eastus" title="Virginia">East US</option>
      <option value="eastus2" title="Virginia">East US 2</option>
      <option value="eastus2euap" title="">East US 2 EUAP</option>
      <option value="eastusstg" title="Virginia">East US STG</option>
      <option value="northcentralus" title="Illinois">North Central US</option>
      <option value="southcentralus" title="Texas">South Central US</option>
      <option value="southcentralusstg" title="Texas">South Central US STG</option>
      <option value="westcentralus" title="Wyoming">West Central US</option>
      <option value="westus" title="California">West US</option>
      <option value="westus2" title="Washington">West US 2</option>
      <option value="westus3" title="Phoenix">West US 3</option>
    </optgroup>
  </select>
</template>
`,qh=[],Zh={};let Xr;function zb(n){Xr||(Xr=ut.define({name:Gh,template:Fo,dependencies:qh,bindables:Zh})),n.register(Xr)}const Hb=Object.freeze(Object.defineProperty({__proto__:null,bindables:Zh,default:Fo,dependencies:qh,name:Gh,register:zb,template:Fo},Symbol.toStringTag,{value:"Module"}));var Wb=Object.create,Oa=Object.defineProperty,Ub=Object.getOwnPropertyDescriptor,Kb=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),vi=n=>{throw TypeError(n)},Qb=(n,e,t)=>e in n?Oa(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tc=(n,e)=>Oa(n,"name",{value:e,configurable:!0}),Gb=n=>[,,,Wb(null)],Jh=["class","method","getter","setter","accessor","field","value","get","set"],Rn=n=>n!==void 0&&typeof n!="function"?vi("Function expected"):n,qb=(n,e,t,s,i)=>({kind:Jh[n],name:e,metadata:s,addInitializer:r=>t._?vi("Already initialized"):i.push(Rn(r||null))}),Zb=(n,e)=>Qb(e,Kb("metadata"),n[3]),Vo=(n,e,t,s)=>{for(var i=0,r=n[e>>1],o=r&&r.length;i<o;i++)e&1?r[i].call(t):s=r[i].call(t,s);return s},Xh=(n,e,t,s,i,r)=>{var o,a,c,l,u,h=e&7,d=!!(e&8),p=!!(e&16),f=h>3?n.length+1:h?d?1:2:0,g=Jh[h+5],m=h>3&&(n[f-1]=[]),_=n[f]||(n[f]=[]),w=h&&(!p&&!d&&(i=i.prototype),h<5&&(h>3||!p)&&Ub(h<4?i:{get[t](){return sc(this,r)},set[t](A){return nc(this,r,A)}},t));h?p&&h<4&&tc(r,(h>2?"set ":h>1?"get ":"")+t):tc(i,t);for(var P=s.length-1;P>=0;P--)l=qb(h,t,c={},n[3],_),h&&(l.static=d,l.private=p,u=l.access={has:p?A=>Jb(i,A):A=>t in A},h^3&&(u.get=p?A=>(h^1?sc:Xb)(A,i,h^4?r:w.get):A=>A[t]),h>2&&(u.set=p?(A,C)=>nc(A,i,C,h^4?r:w.set):(A,C)=>A[t]=C)),a=(0,s[P])(h?h<4?p?r:w[g]:h>4?void 0:{get:w.get,set:w.set}:i,l),c._=1,h^4||a===void 0?Rn(a)&&(h>4?m.unshift(a):h?p?r=a:w[g]=a:i=a):typeof a!="object"||a===null?vi("Object expected"):(Rn(o=a.get)&&(w.get=o),Rn(o=a.set)&&(w.set=o),Rn(o=a.init)&&m.unshift(o));return h||Zb(n,i),w&&Oa(i,t,w),p?h^4?r:w:i},Ma=(n,e,t)=>e.has(n)||vi("Cannot "+t),Jb=(n,e)=>Object(e)!==e?vi('Cannot use the "in" operator on this value'):n.has(e),sc=(n,e,t)=>(Ma(n,e,"read from private field"),t?t.call(n):e.get(n)),nc=(n,e,t,s)=>(Ma(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),Xb=(n,e,t)=>(Ma(n,e,"access private method"),t),Yh,ed,bn;ed=[$a(Hb)],Yh=[Eu];class oi{constructor(){this.name=Vo(bn,8,this),Vo(bn,11,this)}}bn=Gb();Xh(bn,5,"name",Yh,oi);oi=Xh(bn,0,"region",ed,oi);Vo(bn,1,oi);const Yb=Object.freeze(Object.defineProperty({__proto__:null,get region(){return oi}},Symbol.toStringTag,{value:"Module"})),td="my-app",jo=`
  
  
  

  <div class="container">

    <h1>Azure Resource Namer</h1>

    <p>A simple tool to help you name your Azure resources, based on the <a href="https://docs.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/resource-naming">Cloud Adoption Framework naming convention</a>.</p>

    <form class="needs-validation">

      <div class="container">
        <div class="row">
          <div class="col">
            <resourcetype-list resource.bind="selectedResource"></resourcetype-list>
          </div>

          <div class="col">

              <label for="workload" class="form-label">Workload</label>
              <input class="form-control" id="workload" type="text" value.bind="workload" title="Name of the application, workload, or service that the resource is a part of" />

          </div>

          <div class="col">
            <label for="environment" class="form-label">Environment</label>
            <input class="form-control" type="text" id="environment" value.bind="environment" title="The stage of the development lifecycle for the workload that the resource supports" />
          </div>

          <div class="col">
            <region name.two-way="region"></region>
          </div>

          <div class="col">
            <label for="instance" class="form-label">Instance</label>
            <input class="form-control" type="number" id="instance" value.bind="instance" min="0" />
          </div>

        </div>
      </div>

      <h2>Resource name</h2>

      <div class="container">

        <div class="input-group has-validation mb-3">
          <input id="resourceName" type="text" class="form-control" value.bind="resourceName"
            aria-multiline="false" readonly="" spellcheck="false" tabindex="-1" aria-readonly="true"
            title="resource name" aria-describedby="validationServer03Feedback" required
            class.bind="{ 'is-valid': resourceNameValid, 'is-invalid': !resourceNameValid }">
          <span class="input-group-text copyTooltip" id="basic-addon2">
            <button type="button" class="btn-clipboard" title="Copy to clipboard" aria-label="Copy to clipboard" click.trigger="copyToClipboard()">
              
              <span show.bind="copied" class="copyTooltiptext">Copied </span>
            </button>
          </span>
          <!-- aria-describedby="validationServer03Feedback" -->
          <div id="validationServer03Feedback" class="invalid-feedback" role="alert"
            show.bind="!resourceNameValid"
            textcontent.bind="validationFeedback"></div>
        </div>
      </div>

    </form>

    <footer>
      Source at <a href="https://github.com/flcdrg/azure-resource-namer">https://github.com/flcdrg/azure-resource-namer</a>
    </footer>
  </div>
`,sd=[jb,Yb],nd={};let Yr;function e_(n){Yr||(Yr=ut.define({name:td,template:jo,dependencies:sd,bindables:nd})),n.register(Yr)}const t_=Object.freeze(Object.defineProperty({__proto__:null,bindables:nd,default:jo,dependencies:sd,name:td,register:e_,template:jo},Symbol.toStringTag,{value:"Module"}));var ic={},eo,rc;function s_(){return rc||(rc=1,eo=function(){let n=this.toString();if(arguments.length){const e=typeof arguments[0],t=e==="string"||e==="number"?Array.prototype.slice.call(arguments):arguments[0];for(const s in t)n=n.replace(new RegExp(`\\{${s}\\}`,"gi"),t[s])}return n}),eo}var oc;function n_(){return oc||(oc=1,String.prototype.formatUnicorn=s_()),ic}n_();function i_(n,e,t,s,i,r){const o=n.pattern??"{resource}-{workload}-{environment}-{region}-{instance}",a=i>0?String(i).padStart(3,"0"):"",c=o.formatUnicorn({resource:n.abbrev,workload:e,environment:t,region:s,instance:a}).replace(/\-+/g,"-").replace(/\-+$/,"");return c.length>n?.maxLength?(r.validationFeedback=`Length exceeds maximum ${n.maxLength} characters`,r.resourceNameValid=!1):n.regex&&!n.regex?.test(c)?(r.validationFeedback="Name must only contain: "+(n.description??n.regex.source),r.resourceNameValid=!1):(r.validationFeedback="",r.resourceNameValid=!0),c}var r_=Object.create,Da=Object.defineProperty,o_=Object.getOwnPropertyDescriptor,a_=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),id=n=>{throw TypeError(n)},l_=(n,e,t)=>e in n?Da(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,c_=(n,e)=>Da(n,"name",{value:e,configurable:!0}),u_=n=>[,,,r_(null)],h_=["class","method","getter","setter","accessor","field","value","get","set"],rd=n=>n!==void 0&&typeof n!="function"?id("Function expected"):n,d_=(n,e,t,s,i)=>({kind:h_[n],name:e,metadata:s,addInitializer:r=>t._?id("Already initialized"):i.push(rd(r||null))}),f_=(n,e)=>l_(e,a_("metadata"),n[3]),p_=(n,e,t,s)=>{for(var i=0,r=n[e>>1],o=r&&r.length;i<o;i++)r[i].call(t);return s},g_=(n,e,t,s,i,r)=>{var o,a,c,l=e&7,u=!1,h=0,d=n[h]||(n[h]=[]),p=l&&(i=i.prototype,l<5&&(l>3||!u)&&o_(i,t));c_(i,t);for(var f=s.length-1;f>=0;f--)c=d_(l,t,a={},n[3],d),o=(0,s[f])(i,c),a._=1,rd(o)&&(i=o);return f_(n,i),p&&Da(i,t,p),u?l^4?r:p:i},od,Na;od=[$a(t_)];class tr{constructor(){this.thingy=void 0,this.lastName=void 0,this.instance=void 0,this.environment=void 0,this.region=void 0,this.selectedResource=void 0,this.message=void 0,this.workload=void 0,this.copied=void 0,this.resourceNameValid=void 0,this.validationFeedback=void 0,this.resources=void 0,this.copied=!1,this.instance=1,this.environment="prod",this.workload="myapp",this.message="msg",this.region="westus",this.resources=Hh,this.selectedResource=this.resources?.find(e=>e.category==="General")?.assets.find(e=>e.abbrev==="rg")??{abbrev:"rg",name:"Resource group"},this.thingy="ah",this.resourceNameValid=!0}get resourceName(){return i_(this.selectedResource,this.workload,this.environment,this.region,this.instance,this)}copyToClipboard(){navigator.clipboard.writeText(this.resourceName).then(e=>{this.copied=!0,setTimeout(()=>this.copied=!1,2e3)})}}Na=u_();tr=g_(Na,0,"MyApp",od,tr);p_(Na,1,tr);Jn.app(tr).start();
